import{r as _,a as Kr,g as Jh,R as te,c as ps,b as gb,d as vb}from"./vendor-DJpHYEPN.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var ef={exports:{}},Vi={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb=_,bb=Symbol.for("react.element"),_b=Symbol.for("react.fragment"),wb=Object.prototype.hasOwnProperty,xb=yb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pb={key:!0,ref:!0,__self:!0,__source:!0};function tf(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)wb.call(e,r)&&!Pb.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:bb,type:t,key:o,ref:i,props:s,_owner:xb.current}}Vi.Fragment=_b;Vi.jsx=tf;Vi.jsxs=tf;ef.exports=Vi;var w=ef.exports,nf,Hu=Kr;nf=Hu.createRoot,Hu.hydrateRoot;function yc(t,e){return yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},yc(t,e)}function tn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,yc(t,e)}var rf={exports:{}},Sb="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mb=Sb,Cb=Mb;function sf(){}function of(){}of.resetWarningCache=sf;var Tb=function(){function t(r,s,o,i,a,c){if(c!==Cb){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:of,resetWarningCache:sf};return n.PropTypes=n,n};rf.exports=Tb();var Gs=rf.exports;const oe=Jh(Gs);function lt(){return lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lt.apply(null,arguments)}function yo(t){return t.charAt(0)==="/"}function za(t,e){for(var n=e,r=n+1,s=t.length;r<s;n+=1,r+=1)t[n]=t[r];t.pop()}function Ab(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],s=t&&yo(t),o=e&&yo(e),i=s||o;if(t&&yo(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var c=r[r.length-1];a=c==="."||c===".."||c===""}else a=!1;for(var l=0,u=r.length;u>=0;u--){var d=r[u];d==="."?za(r,u):d===".."?(za(r,u),l++):l&&(za(r,u),l--)}if(!i)for(;l--;l)r.unshift("..");i&&r[0]!==""&&(!r[0]||!yo(r[0]))&&r.unshift("");var h=r.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}var Eb="Invariant failed";function gr(t,e){throw new Error(Eb)}function ys(t){return t.charAt(0)==="/"?t:"/"+t}function qu(t){return t.charAt(0)==="/"?t.substr(1):t}function Ob(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function af(t,e){return Ob(t,e)?t.substr(e.length):t}function cf(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function Nb(t){var e=t||"/",n="",r="",s=e.indexOf("#");s!==-1&&(r=e.substr(s),e=e.substr(0,s));var o=e.indexOf("?");return o!==-1&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function ht(t){var e=t.pathname,n=t.search,r=t.hash,s=e||"/";return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function yt(t,e,n,r){var s;typeof t=="string"?(s=Nb(t),s.state=e):(s=lt({},t),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",e!==void 0&&s.state===void 0&&(s.state=e));try{s.pathname=decodeURI(s.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(s.key=n),r?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=Ab(s.pathname,r.pathname)):s.pathname=r.pathname:s.pathname||(s.pathname="/"),s}function cl(){var t=null;function e(i){return t=i,function(){t===i&&(t=null)}}function n(i,a,c,l){if(t!=null){var u=typeof t=="function"?t(i,a):t;typeof u=="string"?typeof c=="function"?c(u,l):l(!0):l(u!==!1)}else l(!0)}var r=[];function s(i){var a=!0;function c(){a&&i.apply(void 0,arguments)}return r.push(c),function(){a=!1,r=r.filter(function(l){return l!==c})}}function o(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];r.forEach(function(l){return l.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:s,notifyListeners:o}}var lf=!!(typeof window<"u"&&window.document&&window.document.createElement);function uf(t,e){e(window.confirm(t))}function kb(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Ib(){return window.navigator.userAgent.indexOf("Trident")===-1}function Rb(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Db(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Gu="popstate",Yu="hashchange";function Xu(){try{return window.history.state||{}}catch{return{}}}function jb(t){t===void 0&&(t={}),lf||gr();var e=window.history,n=kb(),r=!Ib(),s=t,o=s.forceRefresh,i=o===void 0?!1:o,a=s.getUserConfirmation,c=a===void 0?uf:a,l=s.keyLength,u=l===void 0?6:l,d=t.basename?cf(ys(t.basename)):"";function h(A){var I=A||{},D=I.key,V=I.state,q=window.location,X=q.pathname,z=q.search,G=q.hash,$=X+z+G;return d&&($=af($,d)),yt($,V,D)}function p(){return Math.random().toString(36).substr(2,u)}var m=cl();function f(A){lt(T,A),T.length=e.length,m.notifyListeners(T.location,T.action)}function g(A){Db(A)||x(h(A.state))}function v(){x(h(Xu()))}var S=!1;function x(A){if(S)S=!1,f();else{var I="POP";m.confirmTransitionTo(A,I,c,function(D){D?f({action:I,location:A}):M(A)})}}function M(A){var I=T.location,D=b.indexOf(I.key);D===-1&&(D=0);var V=b.indexOf(A.key);V===-1&&(V=0);var q=D-V;q&&(S=!0,O(q))}var y=h(Xu()),b=[y.key];function P(A){return d+ht(A)}function C(A,I){var D="PUSH",V=yt(A,I,p(),T.location);m.confirmTransitionTo(V,D,c,function(q){if(q){var X=P(V),z=V.key,G=V.state;if(n)if(e.pushState({key:z,state:G},null,X),i)window.location.href=X;else{var $=b.indexOf(T.location.key),B=b.slice(0,$+1);B.push(V.key),b=B,f({action:D,location:V})}else window.location.href=X}})}function E(A,I){var D="REPLACE",V=yt(A,I,p(),T.location);m.confirmTransitionTo(V,D,c,function(q){if(q){var X=P(V),z=V.key,G=V.state;if(n)if(e.replaceState({key:z,state:G},null,X),i)window.location.replace(X);else{var $=b.indexOf(T.location.key);$!==-1&&(b[$]=V.key),f({action:D,location:V})}else window.location.replace(X)}})}function O(A){e.go(A)}function k(){O(-1)}function N(){O(1)}var j=0;function R(A){j+=A,j===1&&A===1?(window.addEventListener(Gu,g),r&&window.addEventListener(Yu,v)):j===0&&(window.removeEventListener(Gu,g),r&&window.removeEventListener(Yu,v))}var W=!1;function L(A){A===void 0&&(A=!1);var I=m.setPrompt(A);return W||(R(1),W=!0),function(){return W&&(W=!1,R(-1)),I()}}function F(A){var I=m.appendListener(A);return R(1),function(){R(-1),I()}}var T={length:e.length,action:"POP",location:y,createHref:P,push:C,replace:E,go:O,goBack:k,goForward:N,block:L,listen:F};return T}var Ku="hashchange",Lb={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+qu(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:qu,decodePath:ys},slash:{encodePath:ys,decodePath:ys}};function df(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function us(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Fb(t){window.location.hash=t}function Ha(t){window.location.replace(df(window.location.href)+"#"+t)}function Vb(t){t===void 0&&(t={}),lf||gr();var e=window.history;Rb();var n=t,r=n.getUserConfirmation,s=r===void 0?uf:r,o=n.hashType,i=o===void 0?"slash":o,a=t.basename?cf(ys(t.basename)):"",c=Lb[i],l=c.encodePath,u=c.decodePath;function d(){var I=u(us());return a&&(I=af(I,a)),yt(I)}var h=cl();function p(I){lt(A,I),A.length=e.length,h.notifyListeners(A.location,A.action)}var m=!1,f=null;function g(I,D){return I.pathname===D.pathname&&I.search===D.search&&I.hash===D.hash}function v(){var I=us(),D=l(I);if(I!==D)Ha(D);else{var V=d(),q=A.location;if(!m&&g(q,V)||f===ht(V))return;f=null,S(V)}}function S(I){if(m)m=!1,p();else{var D="POP";h.confirmTransitionTo(I,D,s,function(V){V?p({action:D,location:I}):x(I)})}}function x(I){var D=A.location,V=P.lastIndexOf(ht(D));V===-1&&(V=0);var q=P.lastIndexOf(ht(I));q===-1&&(q=0);var X=V-q;X&&(m=!0,k(X))}var M=us(),y=l(M);M!==y&&Ha(y);var b=d(),P=[ht(b)];function C(I){var D=document.querySelector("base"),V="";return D&&D.getAttribute("href")&&(V=df(window.location.href)),V+"#"+l(a+ht(I))}function E(I,D){var V="PUSH",q=yt(I,void 0,void 0,A.location);h.confirmTransitionTo(q,V,s,function(X){if(X){var z=ht(q),G=l(a+z),$=us()!==G;if($){f=z,Fb(G);var B=P.lastIndexOf(ht(A.location)),ve=P.slice(0,B+1);ve.push(z),P=ve,p({action:V,location:q})}else p()}})}function O(I,D){var V="REPLACE",q=yt(I,void 0,void 0,A.location);h.confirmTransitionTo(q,V,s,function(X){if(X){var z=ht(q),G=l(a+z),$=us()!==G;$&&(f=z,Ha(G));var B=P.indexOf(ht(A.location));B!==-1&&(P[B]=z),p({action:V,location:q})}})}function k(I){e.go(I)}function N(){k(-1)}function j(){k(1)}var R=0;function W(I){R+=I,R===1&&I===1?window.addEventListener(Ku,v):R===0&&window.removeEventListener(Ku,v)}var L=!1;function F(I){I===void 0&&(I=!1);var D=h.setPrompt(I);return L||(W(1),L=!0),function(){return L&&(L=!1,W(-1)),D()}}function T(I){var D=h.appendListener(I);return W(1),function(){W(-1),D()}}var A={length:e.length,action:"POP",location:b,createHref:C,push:E,replace:O,go:k,goBack:N,goForward:j,block:F,listen:T};return A}function Zu(t,e,n){return Math.min(Math.max(t,e),n)}function Wb(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,s=r===void 0?["/"]:r,o=e.initialIndex,i=o===void 0?0:o,a=e.keyLength,c=a===void 0?6:a,l=cl();function u(C){lt(P,C),P.length=P.entries.length,l.notifyListeners(P.location,P.action)}function d(){return Math.random().toString(36).substr(2,c)}var h=Zu(i,0,s.length-1),p=s.map(function(C){return typeof C=="string"?yt(C,void 0,d()):yt(C,void 0,C.key||d())}),m=ht;function f(C,E){var O="PUSH",k=yt(C,E,d(),P.location);l.confirmTransitionTo(k,O,n,function(N){if(N){var j=P.index,R=j+1,W=P.entries.slice(0);W.length>R?W.splice(R,W.length-R,k):W.push(k),u({action:O,location:k,index:R,entries:W})}})}function g(C,E){var O="REPLACE",k=yt(C,E,d(),P.location);l.confirmTransitionTo(k,O,n,function(N){N&&(P.entries[P.index]=k,u({action:O,location:k}))})}function v(C){var E=Zu(P.index+C,0,P.entries.length-1),O="POP",k=P.entries[E];l.confirmTransitionTo(k,O,n,function(N){N?u({action:O,location:k,index:E}):u()})}function S(){v(-1)}function x(){v(1)}function M(C){var E=P.index+C;return E>=0&&E<P.entries.length}function y(C){return C===void 0&&(C=!1),l.setPrompt(C)}function b(C){return l.appendListener(C)}var P={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:m,push:f,replace:g,go:v,goBack:S,goForward:x,canGo:M,block:y,listen:b};return P}var Zr={exports:{}},$b=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Yo=$b;Zr.exports=pf;Zr.exports.parse=ll;Zr.exports.compile=zb;Zr.exports.tokensToFunction=hf;Zr.exports.tokensToRegExp=ff;var Bb=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function ll(t,e){for(var n=[],r=0,s=0,o="",i=e&&e.delimiter||"/",a;(a=Bb.exec(t))!=null;){var c=a[0],l=a[1],u=a.index;if(o+=t.slice(s,u),s=u+c.length,l){o+=l[1];continue}var d=t[s],h=a[2],p=a[3],m=a[4],f=a[5],g=a[6],v=a[7];o&&(n.push(o),o="");var S=h!=null&&d!=null&&d!==h,x=g==="+"||g==="*",M=g==="?"||g==="*",y=h||i,b=m||f,P=h||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:p||r++,prefix:h||"",delimiter:y,optional:M,repeat:x,partial:S,asterisk:!!v,pattern:b?Gb(b):v?".*":Ub(y,P)})}return s<t.length&&(o+=t.substr(s)),o&&n.push(o),n}function Ub(t,e){return!e||e.indexOf(t)>-1?"[^"+nr(t)+"]+?":nr(e)+"|(?:(?!"+nr(e)+")[^"+nr(t)+"])+?"}function zb(t,e){return hf(ll(t,e),e)}function Hb(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function qb(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function hf(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",dl(e)));return function(s,o){for(var i="",a=s||{},c=o||{},l=c.pretty?Hb:encodeURIComponent,u=0;u<t.length;u++){var d=t[u];if(typeof d=="string"){i+=d;continue}var h=a[d.name],p;if(h==null)if(d.optional){d.partial&&(i+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(Yo(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var m=0;m<h.length;m++){if(p=l(h[m]),!n[u].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");i+=(m===0?d.prefix:d.delimiter)+p}continue}if(p=d.asterisk?qb(h):l(h),!n[u].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');i+=d.prefix+p}return i}}function nr(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Gb(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function ul(t,e){return t.keys=e,t}function dl(t){return t&&t.sensitive?"":"i"}function Yb(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return ul(t,e)}function Xb(t,e,n){for(var r=[],s=0;s<t.length;s++)r.push(pf(t[s],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",dl(n));return ul(o,e)}function Kb(t,e,n){return ff(ll(t,n),e,n)}function ff(t,e,n){Yo(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,s=n.end!==!1,o="",i=0;i<t.length;i++){var a=t[i];if(typeof a=="string")o+=nr(a);else{var c=nr(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+c+l+")*"),a.optional?a.partial?l=c+"("+l+")?":l="(?:"+c+"("+l+"))?":l=c+"("+l+")",o+=l}}var u=nr(n.delimiter||"/"),d=o.slice(-u.length)===u;return r||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),s?o+="$":o+=r&&d?"":"(?="+u+"|$)",ul(new RegExp("^"+o,dl(n)),e)}function pf(t,e,n){return Yo(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Yb(t,e):Yo(t)?Xb(t,e,n):Kb(t,e,n)}var Zb=Zr.exports;const Qb=Jh(Zb);var Se={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke=typeof Symbol=="function"&&Symbol.for,hl=Ke?Symbol.for("react.element"):60103,fl=Ke?Symbol.for("react.portal"):60106,Wi=Ke?Symbol.for("react.fragment"):60107,$i=Ke?Symbol.for("react.strict_mode"):60108,Bi=Ke?Symbol.for("react.profiler"):60114,Ui=Ke?Symbol.for("react.provider"):60109,zi=Ke?Symbol.for("react.context"):60110,pl=Ke?Symbol.for("react.async_mode"):60111,Hi=Ke?Symbol.for("react.concurrent_mode"):60111,qi=Ke?Symbol.for("react.forward_ref"):60112,Gi=Ke?Symbol.for("react.suspense"):60113,Jb=Ke?Symbol.for("react.suspense_list"):60120,Yi=Ke?Symbol.for("react.memo"):60115,Xi=Ke?Symbol.for("react.lazy"):60116,e_=Ke?Symbol.for("react.block"):60121,t_=Ke?Symbol.for("react.fundamental"):60117,n_=Ke?Symbol.for("react.responder"):60118,r_=Ke?Symbol.for("react.scope"):60119;function Mt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hl:switch(t=t.type,t){case pl:case Hi:case Wi:case Bi:case $i:case Gi:return t;default:switch(t=t&&t.$$typeof,t){case zi:case qi:case Xi:case Yi:case Ui:return t;default:return e}}case fl:return e}}}function mf(t){return Mt(t)===Hi}Se.AsyncMode=pl;Se.ConcurrentMode=Hi;Se.ContextConsumer=zi;Se.ContextProvider=Ui;Se.Element=hl;Se.ForwardRef=qi;Se.Fragment=Wi;Se.Lazy=Xi;Se.Memo=Yi;Se.Portal=fl;Se.Profiler=Bi;Se.StrictMode=$i;Se.Suspense=Gi;Se.isAsyncMode=function(t){return mf(t)||Mt(t)===pl};Se.isConcurrentMode=mf;Se.isContextConsumer=function(t){return Mt(t)===zi};Se.isContextProvider=function(t){return Mt(t)===Ui};Se.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hl};Se.isForwardRef=function(t){return Mt(t)===qi};Se.isFragment=function(t){return Mt(t)===Wi};Se.isLazy=function(t){return Mt(t)===Xi};Se.isMemo=function(t){return Mt(t)===Yi};Se.isPortal=function(t){return Mt(t)===fl};Se.isProfiler=function(t){return Mt(t)===Bi};Se.isStrictMode=function(t){return Mt(t)===$i};Se.isSuspense=function(t){return Mt(t)===Gi};Se.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wi||t===Hi||t===Bi||t===$i||t===Gi||t===Jb||typeof t=="object"&&t!==null&&(t.$$typeof===Xi||t.$$typeof===Yi||t.$$typeof===Ui||t.$$typeof===zi||t.$$typeof===qi||t.$$typeof===t_||t.$$typeof===n_||t.$$typeof===r_||t.$$typeof===e_)};Se.typeOf=Mt;function Ki(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var gf={exports:{}},we={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=typeof Symbol=="function"&&Symbol.for,ml=Ze?Symbol.for("react.element"):60103,gl=Ze?Symbol.for("react.portal"):60106,Zi=Ze?Symbol.for("react.fragment"):60107,Qi=Ze?Symbol.for("react.strict_mode"):60108,Ji=Ze?Symbol.for("react.profiler"):60114,ea=Ze?Symbol.for("react.provider"):60109,ta=Ze?Symbol.for("react.context"):60110,vl=Ze?Symbol.for("react.async_mode"):60111,na=Ze?Symbol.for("react.concurrent_mode"):60111,ra=Ze?Symbol.for("react.forward_ref"):60112,sa=Ze?Symbol.for("react.suspense"):60113,s_=Ze?Symbol.for("react.suspense_list"):60120,oa=Ze?Symbol.for("react.memo"):60115,ia=Ze?Symbol.for("react.lazy"):60116,o_=Ze?Symbol.for("react.block"):60121,i_=Ze?Symbol.for("react.fundamental"):60117,a_=Ze?Symbol.for("react.responder"):60118,c_=Ze?Symbol.for("react.scope"):60119;function Ct(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ml:switch(t=t.type,t){case vl:case na:case Zi:case Ji:case Qi:case sa:return t;default:switch(t=t&&t.$$typeof,t){case ta:case ra:case ia:case oa:case ea:return t;default:return e}}case gl:return e}}}function vf(t){return Ct(t)===na}we.AsyncMode=vl;we.ConcurrentMode=na;we.ContextConsumer=ta;we.ContextProvider=ea;we.Element=ml;we.ForwardRef=ra;we.Fragment=Zi;we.Lazy=ia;we.Memo=oa;we.Portal=gl;we.Profiler=Ji;we.StrictMode=Qi;we.Suspense=sa;we.isAsyncMode=function(t){return vf(t)||Ct(t)===vl};we.isConcurrentMode=vf;we.isContextConsumer=function(t){return Ct(t)===ta};we.isContextProvider=function(t){return Ct(t)===ea};we.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ml};we.isForwardRef=function(t){return Ct(t)===ra};we.isFragment=function(t){return Ct(t)===Zi};we.isLazy=function(t){return Ct(t)===ia};we.isMemo=function(t){return Ct(t)===oa};we.isPortal=function(t){return Ct(t)===gl};we.isProfiler=function(t){return Ct(t)===Ji};we.isStrictMode=function(t){return Ct(t)===Qi};we.isSuspense=function(t){return Ct(t)===sa};we.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zi||t===na||t===Ji||t===Qi||t===sa||t===s_||typeof t=="object"&&t!==null&&(t.$$typeof===ia||t.$$typeof===oa||t.$$typeof===ea||t.$$typeof===ta||t.$$typeof===ra||t.$$typeof===i_||t.$$typeof===a_||t.$$typeof===c_||t.$$typeof===o_)};we.typeOf=Ct;gf.exports=we;var l_=gf.exports,yf=l_,u_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},d_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bf={};bf[yf.ForwardRef]=u_;bf[yf.Memo]=d_;var qa=1073741823,Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function h_(){var t="__global_unique_id__";return Qu[t]=(Qu[t]||0)+1}function f_(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function p_(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(s){return s!==r})},get:function(){return t},set:function(r,s){t=r,e.forEach(function(o){return o(t,s)})}}}function m_(t){return Array.isArray(t)?t[0]:t}function g_(t,e){var n,r,s="__create-react-context-"+h_()+"__",o=function(a){tn(c,a);function c(){for(var u,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=p_(u.props.value),u}var l=c.prototype;return l.getChildContext=function(){var d;return d={},d[s]=this.emitter,d},l.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,p=d.value,m;f_(h,p)?m=0:(m=typeof e=="function"?e(h,p):qa,m|=0,m!==0&&this.emitter.set(d.value,m))}},l.render=function(){return this.props.children},c}(te.Component);o.childContextTypes=(n={},n[s]=oe.object.isRequired,n);var i=function(a){tn(c,a);function c(){for(var u,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(m,f){var g=u.observedBits|0;g&f&&u.setState({value:u.getValue()})},u}var l=c.prototype;return l.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h??qa},l.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d??qa},l.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},l.getValue=function(){return this.context[s]?this.context[s].get():t},l.render=function(){return m_(this.props.children)(this.state.value)},c}(te.Component);return i.contextTypes=(r={},r[s]=oe.object,r),{Provider:o,Consumer:i}}var v_=te.createContext||g_,_f=function(e){var n=v_();return n.displayName=e,n},wf=_f("Router-History"),Lr=_f("Router"),aa=function(t){tn(e,t),e.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function e(r){var s;return s=t.call(this,r)||this,s.state={location:r.history.location},s._isMounted=!1,s._pendingLocation=null,r.staticContext||(s.unlisten=r.history.listen(function(o){s._pendingLocation=o})),s}var n=e.prototype;return n.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(o){s._isMounted&&s.setState({location:o})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return te.createElement(Lr.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},te.createElement(wf.Provider,{children:this.props.children||null,value:this.props.history}))},e}(te.Component);te.Component;te.Component;var Ju={},y_=1e4,ed=0;function b_(t,e){var n=""+e.end+e.strict+e.sensitive,r=Ju[n]||(Ju[n]={});if(r[t])return r[t];var s=[],o=Qb(t,s,e),i={regexp:o,keys:s};return ed<y_&&(r[t]=i,ed++),i}function yl(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,s=n.exact,o=s===void 0?!1:s,i=n.strict,a=i===void 0?!1:i,c=n.sensitive,l=c===void 0?!1:c,u=[].concat(r);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var p=b_(h,{end:o,strict:a,sensitive:l}),m=p.regexp,f=p.keys,g=m.exec(t);if(!g)return null;var v=g[0],S=g.slice(1),x=t===v;return o&&!x?null:{path:h,url:h==="/"&&v===""?"/":v,isExact:x,params:f.reduce(function(M,y,b){return M[y.name]=S[b],M},{})}},null)}function __(t){return te.Children.count(t)===0}var w_=function(t){tn(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var s=this;return te.createElement(Lr.Consumer,null,function(o){o||gr();var i=s.props.location||o.location,a=s.props.computedMatch?s.props.computedMatch:s.props.path?yl(i.pathname,s.props):o.match,c=lt({},o,{location:i,match:a}),l=s.props,u=l.children,d=l.component,h=l.render;return Array.isArray(u)&&__(u)&&(u=null),te.createElement(Lr.Provider,{value:c},c.match?u?typeof u=="function"?u(c):u:d?te.createElement(d,c):h?h(c):null:typeof u=="function"?u(c):null)})},e}(te.Component);function bl(t){return t.charAt(0)==="/"?t:"/"+t}function x_(t,e){return t?lt({},e,{pathname:bl(t)+e.pathname}):e}function P_(t,e){if(!t)return e;var n=bl(t);return e.pathname.indexOf(n)!==0?e:lt({},e,{pathname:e.pathname.substr(n.length)})}function td(t){return typeof t=="string"?t:ht(t)}function Ga(t){return function(){gr()}}function nd(){}te.Component;var S_=function(t){tn(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var s=this;return te.createElement(Lr.Consumer,null,function(o){o||gr();var i=s.props.location||o.location,a,c;return te.Children.forEach(s.props.children,function(l){if(c==null&&te.isValidElement(l)){a=l;var u=l.props.path||l.props.from;c=u?yl(i.pathname,lt({},l.props,{path:u})):o.match}}),c?te.cloneElement(a,{location:i,computedMatch:c}):null})},e}(te.Component),M_=te.useContext;function C_(){return M_(wf)}var T_=function(t){tn(e,t);function e(){for(var r,s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return r=t.call.apply(t,[this].concat(o))||this,r.history=jb(r.props),r}var n=e.prototype;return n.render=function(){return te.createElement(aa,{history:this.history,children:this.props.children})},e}(te.Component);te.Component;var bc=function(e,n){return typeof e=="function"?e(n):e},_c=function(e,n){return typeof e=="string"?yt(e,null,null,n):e},_l=function(e){return e},Fr=te.forwardRef;typeof Fr>"u"&&(Fr=_l);function A_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var E_=Fr(function(t,e){var n=t.innerRef,r=t.navigate,s=t.onClick,o=Ki(t,["innerRef","navigate","onClick"]),i=o.target,a=lt({},o,{onClick:function(l){try{s&&s(l)}catch(u){throw l.preventDefault(),u}!l.defaultPrevented&&l.button===0&&(!i||i==="_self")&&!A_(l)&&(l.preventDefault(),r())}});return _l!==Fr?a.ref=e||n:a.ref=n,te.createElement("a",a)}),O_=Fr(function(t,e){var n=t.component,r=n===void 0?E_:n,s=t.replace,o=t.to,i=t.innerRef,a=Ki(t,["component","replace","to","innerRef"]);return te.createElement(Lr.Consumer,null,function(c){c||gr();var l=c.history,u=_c(bc(o,c.location),c.location),d=u?l.createHref(u):"",h=lt({},a,{href:d,navigate:function(){var m=bc(o,c.location),f=ht(c.location)===ht(_c(m)),g=s||f?l.replace:l.push;g(m)}});return _l!==Fr?h.ref=e||i:h.innerRef=i,te.createElement(r,h)})}),xf=function(e){return e},Xo=te.forwardRef;typeof Xo>"u"&&(Xo=xf);function N_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r}).join(" ")}Xo(function(t,e){var n=t["aria-current"],r=n===void 0?"page":n,s=t.activeClassName,o=s===void 0?"active":s,i=t.activeStyle,a=t.className,c=t.exact,l=t.isActive,u=t.location,d=t.sensitive,h=t.strict,p=t.style,m=t.to,f=t.innerRef,g=Ki(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return te.createElement(Lr.Consumer,null,function(v){v||gr();var S=u||v.location,x=_c(bc(m,S),S),M=x.pathname,y=M&&M.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=y?yl(S.pathname,{path:y,exact:c,sensitive:d,strict:h}):null,P=!!(l?l(b,S):b),C=typeof a=="function"?a(P):a,E=typeof p=="function"?p(P):p;P&&(C=N_(C,o),E=lt({},E,i));var O=lt({"aria-current":P&&r||null,className:C,style:E,to:x},g);return xf!==Xo?O.ref=e||f:O.innerRef=f,te.createElement(O_,O)})});const ca={1:"C",2:"C#",3:"D",4:"D#",5:"E",6:"F",7:"F#",8:"G",9:"G#",10:"A",11:"A#",12:"B"},Ts={1:"C",2:"Db",3:"D",4:"Eb",5:"E",6:"F",7:"Gb",8:"G",9:"Ab",10:"A",11:"Bb",12:"B"},la={C:1,"C#":2,Db:2,D:3,"D#":4,Eb:4,E:5,"E#":6,F:6,"F#":7,Gb:7,G:8,"G#":9,Ab:9,A:10,"A#":11,Bb:11,B:12,"B#":1,Cb:12,"C##":3,Dbb:1,"D##":5,Ebb:3,"E##":7,Fb:5,"F##":8,Gbb:6,"G##":10,Abb:8,"A##":12,Bbb:10},k_=t=>Object.keys(la).includes(t);function I_(t){const e=la[t];return ca[e]}function R_(t){const e=la[t];return Ts[e]}function D_(t){switch(t=wl(t),t){case"C":case"C#":case"D":case"E":case"F#":case"G":case"A":case"B":return ca;case"G#":case"Ab":case"A#":case"Bb":case"Cb":case"Db":case"D#":case"Eb":case"F":case"Gb":return Ts;default:return Ts}}function wl(t){var s,o;if(!t)return t;const e=t.charAt(0).toUpperCase(),n=((s=t.charAt(1))==null?void 0:s.toLowerCase())??"",r=((o=t.charAt(2))==null?void 0:o.toLowerCase())??"";return`${e}${n}${r}`.trim()}function ar(t){if(t)return t=wl(t),la[t]}function xl(t,e){const n=j_(e),s=D_(t)[n];return wl(s)}function j_(t){for(;t>12;)t=t-12;for(;t<1;)t=t+12;return t}function Pf(t,e){for(;t>12;)t=t-12,e<2&&e++;for(;t<1;)t=t+12,e!==0&&e--;return{noteNumber:t,octave:e}}function Pl(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function Sl(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var Sf=[0,2,4,-1,1,3,5],Mf=Sf.map(t=>Math.floor(t*7/12));function Cf(t){const{step:e,alt:n,oct:r,dir:s=1}=t,o=Sf[e]+7*n;if(r===void 0)return[s*o];const i=r-Mf[e]-4*n;return[s*o,s*i]}var L_=[3,0,4,1,5,2,6];function F_(t){const[e,n,r]=t,s=L_[V_(e)],o=Math.floor((e+1)/7);if(n===void 0)return{step:s,alt:o,dir:r};const i=n+4*o+Mf[s];return{step:s,alt:o,oct:i,dir:r}}function V_(t){const e=(t+1)%7;return e<0?7+e:e}var rd=(t,e)=>Array(Math.abs(e)+1).join(t),Tf=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),sd=new Map,W_=t=>"CDEFGAB".charAt(t),Af=t=>t<0?rd("b",-t):rd("#",t),Ef=t=>t[0]==="b"?-t.length:t.length;function Vr(t){const e=JSON.stringify(t),n=sd.get(e);if(n)return n;const r=typeof t=="string"?U_(t):Sl(t)?Vr(z_(t)):Pl(t)?Vr(t.name):Tf;return sd.set(e,r),r}var $_=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Ml(t){const e=$_.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}var B_=(t,e)=>(t%e+e)%e,Ya=[0,2,4,5,7,9,11];function U_(t){const e=Ml(t);if(e[0]===""||e[3]!=="")return Tf;const n=e[0],r=e[1],s=e[2],o=(n.charCodeAt(0)+3)%7,i=Ef(r),a=s.length?+s:void 0,c=Cf({step:o,alt:i,oct:a}),l=n+r+s,u=n+r,d=(Ya[o]+i+120)%12,h=a===void 0?B_(Ya[o]+i,12)-12*99:Ya[o]+i+12*(a+1),p=h>=0&&h<=127?h:null,m=a===void 0?null:Math.pow(2,(h-69)/12)*440;return{empty:!1,acc:r,alt:i,chroma:d,coord:c,freq:m,height:h,letter:n,midi:p,name:l,oct:a,pc:u,step:o}}function z_(t){const{step:e,alt:n,oct:r}=t,s=W_(e);if(!s)return"";const o=s+Af(n);return r||r===0?o+r:o}var od=(t,e)=>Array(Math.abs(e)+1).join(t),wc=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),H_="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",q_="(AA|A|P|M|m|d|dd)([-+]?\\d+)",G_=new RegExp("^"+H_+"|"+q_+"$");function Y_(t){const e=G_.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var id={};function Wr(t){return typeof t=="string"?id[t]||(id[t]=X_(t)):Sl(t)?Wr(Q_(t)):Pl(t)?Wr(t.name):wc}var ad=[0,2,4,5,7,9,11],Of="PMMPPMM";function X_(t){const e=Y_(t);if(e[0]==="")return wc;const n=+e[0],r=e[1],s=(Math.abs(n)-1)%7,o=Of[s];if(o==="M"&&r==="P")return wc;const i=o==="M"?"majorable":"perfectable",a=""+n+r,c=n<0?-1:1,l=n===8||n===-8?n:c*(s+1),u=Z_(i,r),d=Math.floor((Math.abs(n)-1)/7),h=c*(ad[s]+u+12*d),p=(c*(ad[s]+u)%12+12)%12,m=Cf({step:s,alt:u,oct:d,dir:c});return{empty:!1,name:a,num:n,q:r,step:s,alt:u,dir:c,type:i,simple:l,semitones:h,chroma:p,coord:m,oct:d}}function K_(t,e){const[n,r=0]=t,s=n*7+r*12<0,o=e||s?[-n,-r,-1]:[n,r,1];return Wr(F_(o))}function Z_(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function Q_(t){const{step:e,alt:n,oct:r=0,dir:s}=t;if(!s)return"";const o=e+1+7*r,i=o===0?e+1:o,a=s<0?"-":"",c=Of[e]==="M"?"majorable":"perfectable";return a+i+J_(c,n)}function J_(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?od("A",e):od("d",t==="perfectable"?e:e+1)}function ew(t,e){const n=Vr(t),r=Vr(e);if(n.empty||r.empty)return"";const s=n.coord,o=r.coord,i=o[0]-s[0],a=s.length===2&&o.length===2?o[1]-s[1]:-Math.floor(i*7/12),c=r.height===n.height&&r.midi!==null&&n.oct===r.oct&&n.step>r.step;return K_([i,a],c).name}var tw=Vr,cd=t=>tw(t).chroma,ld="C C# Db D D# Eb E F F# Gb G G# Ab A A# Bb B".split(" "),Nf=function(t){return typeof t!="string"?ld.slice():ld.filter(function(e){var n=e[1]||" ";return t.indexOf(n)!==-1})};Nf(" #");Nf(" b");var nw=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function rw(t){typeof t!="string"&&(t="");var e=nw.exec(t);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}var sw=Object.freeze({pc:null,name:null,step:null,alt:null,oct:null,octStr:null,chroma:null,midi:null,freq:null}),ud=[0,2,4,5,7,9,11],ow=function(t){var e=rw(t);if(e[0]===""||e[3]!=="")return sw;var n=e[0],r=e[1],s=e[2],o={letter:n,acc:r,octStr:s,pc:n+r,name:n+r+s,step:(n.charCodeAt(0)+3)%7,alt:r[0]==="b"?-r.length:r.length,oct:s.length?+s:null,chroma:0,midi:null,freq:null};return o.chroma=(ud[o.step]+o.alt+120)%12,o.midi=o.oct!==null?ud[o.step]+o.alt+12*(o.oct+1):null,o.freq=aw(o.midi),Object.freeze(o)},iw=function(t,e){return e===void 0&&(e={}),function(n){return e[n]||(e[n]=t(n))}},ua=iw(ow),dd=function(t){return ua(t).name},aw=function(t,e){return e===void 0&&(e=440),typeof t=="number"?Math.pow(2,(t-69)/12)*e:null},cw=function(t){return ua(t).chroma},lw="CDEFGAB",uw=function(t){return lw[t]},hd=function(t,e){return Array(e+1).join(t)},dw=function(t,e){return typeof t!="number"?"":e(t)},hw=function(t){return dw(t,function(e){return e<0?hd("b",-e):hd("#",e)})},fw=function(t,e){t===void 0&&(t={}),e===void 0&&(e=null);var n=e?Object.assign({},ua(e),t):t,r=n.step,s=n.alt,o=n.oct;if(typeof r!="number")return null;var i=uw(r);if(!i)return null;var a=i+hw(s);return o||o===0?a+o:a},pw=fw,mw="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",gw="(AA|A|P|M|m|d|dd)([-+]?\\d+)",vw=new RegExp("^"+mw+"|"+gw+"$"),fd=[0,2,4,5,7,9,11],yw="PMMPPMM",bw=function(t){var e=vw.exec(""+t);return e===null?null:e[1]?[e[1],e[2]]:[e[4],e[3]]},xc=Object.freeze({name:null,num:null,q:null,step:null,alt:null,dir:null,type:null,simple:null,semitones:null,chroma:null,oct:null}),_w=function(t,e){return e==="M"&&t==="M"||e==="P"&&t==="P"?0:e==="m"&&t==="M"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?t==="P"?-e.length:-e.length-1:null},ww=function(t){return(Math.abs(t)-1)%7},xw=function(t){var e=bw(t);if(e===null)return xc;var n={num:0,q:"d",name:"",type:"M",step:0,dir:-1,simple:1,alt:0,oct:0,semitones:0,chroma:0,ic:0};return n.num=+e[0],n.q=e[1],n.step=ww(n.num),n.type=yw[n.step],n.type==="M"&&n.q==="P"?xc:(n.name=""+n.num+n.q,n.dir=n.num<0?-1:1,n.simple=n.num===8||n.num===-8?n.num:n.dir*(n.step+1),n.alt=_w(n.type,n.q),n.oct=Math.floor((Math.abs(n.num)-1)/7),n.semitones=n.dir*(fd[n.step]+n.alt+12*n.oct),n.chroma=(n.dir*(fd[n.step]+n.alt)%12+12)%12,Object.freeze(n))},pd={};function kf(t){return typeof t!="string"?xc:pd[t]||(pd[t]=xw(t))}var Pw=function(t){return kf(t).chroma},Sw=function(t){return cw(t)||Pw(t)||0};function If(t){if(Cw(t))return t;if(!Array.isArray(t))return"";var e=[0,0,0,0,0,0,0,0,0,0,0,0];return t.map(Sw).forEach(function(n){e[n]=1}),e.join("")}var Mw=/^[01]{12}$/;function Cw(t){return Mw.test(t)}var Rf=[0,2,4,-1,1,3,5],Tw=function(t){return Math.floor(t*7/12)},Df=Rf.map(Tw),Aw=function(t){var e=t.step,n=t.alt,r=t.oct,s=t.dir;s===void 0&&(s=1);var o=Rf[e]+7*n;if(r===null)return[s*o];var i=r-Df[e]-4*n;return[s*o,s*i]},Ew=[3,0,4,1,5,2,6];function Ow(t){var e=(t+1)%7;return e<0?7+e:e}var Nw=function(t,e,n){var r=Ew[Ow(t)],s=Math.floor((t+1)/7);if(e===void 0)return{step:r,alt:s,dir:n};var o=e+4*s+Df[r];return{step:r,alt:s,oct:o,dir:n}},kw=function(t,e){return e===void 0&&(e={}),function(n){return e[n]||(e[n]=t(n))}},jf=function(t){return kw(function(e){var n=t(e);return n.name===null?null:Aw(n)})},Iw=jf(ua),Rw=jf(kf);function Lf(t,e){if(arguments.length===1)return function(o){return Lf(t,o)};var n=Iw(t),r=Rw(e);if(n===null||r===null)return null;var s=n.length===1?[n[0]+r[0]]:[n[0]+r[0],n[1]+r[1]];return pw(Nw(s[0],s[1]))}const Dw=["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],jw=["1P 2M 3M 4A 5P 6M 7M"],Lw=["1P 2M 3M 4P 5P 6M 7M",["ionian"]],Fw=["1P 2M 3M 4P 5P 6M 7m",["dominant"]],Vw=["1P 2M 3m 4P 5P 6M 7m"],Ww=["1P 2M 3m 4P 5P 6m 7m",["minor"]],$w=["1P 2m 3m 4P 5P 6m 7m"],Bw=["1P 2m 3m 4P 5d 6m 7m"],Uw=["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],zw=["1P 2M 3m 4P 5d 6m 6M 7M",["whole-half diminished"]],Hw=["1P 2m 4P 5d 7m"],qw=["1P 2M 3m 5P 6m"],Gw=["1P 2m 4P 5P 6m"],Yw=["1P 2m 3m 5P 6m"],Xw=["1P 2M 3M 4A 6M 7m"],Kw=["1P 2M 4P 5P 6M"],Zw=["1P 2m 3M 5P 6M"],Qw=["1P 2M 4P 5P 6M 7m"],Jw=["1P 2A 3M 5P 5A 7M"],e1=["1P 2m 3m 4P 5P 6m 7M"],t1=["1P 2M 4P 5P 7m"],n1=["1P 2m 3M 4P 5d 6M 7m"],r1=["1P 2m 3m 3M 4A 5P 7m"],s1=["1P 2m 3m 4P 5P 6m 7M"],o1=["1P 2m 3M 4P 5d 6m 7M"],i1=["1P 2M 3M 4P 5P 6M 7m 7M"],a1=["1P 2m 3M 5d 6m 7m 7M"],c1=["1P 2M 3M 4P 5d 5P 6M 7M"],l1={chromatic:Dw,lydian:jw,major:Lw,mixolydian:Fw,dorian:Vw,aeolian:Ww,phrygian:$w,locrian:Bw,"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m",["half-diminished"]],altered:Uw,"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"phrygian dominant":["1P 2m 3M 4P 5P 6m 7m",["spanish","phrygian major"]],"half-whole diminished":["1P 2m 3m 3M 4A 5P 6M 7m",["dominant diminished"]],diminished:zw,"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],iwato:Hw,hirajoshi:qw,kumoijoshi:Gw,pelog:Yw,"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],prometheus:Xw,"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],ritusen:Kw,scriabin:Zw,piongio:Qw,"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],augmented:Jw,"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],neopolitan:e1,"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],egyptian:t1,"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],oriental:n1,"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],flamenco:r1,balinese:s1,"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],persian:o1,bebop:i1,"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],enigmatic:a1,"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],ichikosucho:c1,"six tone symmetric":["1P 2m 3M 4P 5A 6M"]},u1=["1P 3M 5P",["Major",""]],d1=["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],h1=["1P 3M 5P 13M",["6"]],f1=["1P 3M 5P 6M 9M",["69"]],p1=["1P 3M 5P 6M 7M 9M"],m1=["1P 3M 5d 7M"],g1=["1P 3M 6m 7M"],v1=["1P 3M 5P 7M 9m"],y1=["1P 4P 5P 7M"],b1=["1P 3M 5P 7M 9M",["maj9","Maj9"]],_1=["1P 3M 5d 7M 9M"],w1=["1P 4P 5P 7M 9M"],x1=["1P 3M 5P 9M",["2","add9","add2"]],P1=["1P 3M 5P 7M",["maj7","M7"]],S1=["1P 3M 5d"],M1=["1P 3M 13m"],C1=["1P 2M 5P",["add9no3","sus2"]],T1=["1P 4P 5P",["sus","sus4"]],A1=["1P 3M 5P 9m"],E1=["1P 3m 5P"],O1=["1P 3m 5P 7m 9M 11P",["_11"]],N1=["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],k1=["1P 3m 5P 7m 9M 11P 13M",["_13"]],I1=["1P 3m 4P 5P 13M",["_6"]],R1=["1P 3m 5P 6M 9M",["_69"]],D1=["1P 3m 5P 7m",["minor7","_","_7"]],j1=["1P 3m 5P 7m 11P",["m7add4"]],L1=["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],F1=["1P 3m 5P 7m 9M",["_9"]],V1=["1P 3m 7m 12d 2M",["h9","-9b5"]],W1=["1P 3m 5P 7M",["mM7","_M7"]],$1=["1P 3m 5P 6m 7M",["mM7b6"]],B1=["1P 3m 5P 7M 9M",["mMaj9","-M9"]],U1=["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],z1=["1P 3m 6m 7M"],H1=["1P 3m 6m 9m"],q1=["1P 3m 5d",["mb5","dim"]],G1=["1P 3m 5d 13M",["diminished","m6b5","dim7"]],Y1=["1P 3m 5d 6M 7M"],X1=["1P 3m 5d 7M"],K1=["1P 2M 4P 5P",["sus4add9"]],Z1=["1P 3m 4P 5P"],Q1=["1P 3m 5P 9M"],J1={4:["1P 4P 7m 10m",["quartal"]],5:["1P 5P"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],64:["5P 8P 10M"],M:u1,"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],M13:d1,"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],M6:h1,"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],M69:f1,"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],M7add13:p1,M7b5:m1,M7b6:g1,M7b9:v1,M7sus4:y1,M9:b1,"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],M9b5:_1,M9sus4:w1,Madd9:x1,Maj7:P1,Mb5:S1,Mb6:M1,Msus2:C1,Msus4:T1,Maddb9:A1,"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],m:E1,"m#5":["1P 3m 5A",["m+","mb6"]],m11:O1,"m11A 5":["1P 3m 6m 7m 9M 11P"],m11b5:N1,m13:k1,m6:I1,m69:R1,m7:D1,"m7#5":["1P 3m 6m 7m"],m7add11:j1,m7b5:L1,m9:F1,"m9#5":["1P 3m 6m 7m 9M"],m9b5:V1,mMaj7:W1,mMaj7b6:$1,mM9:B1,mM9b6:U1,mb6M7:z1,mb6b9:H1,o:q1,o7:G1,o7M7:Y1,oM7:X1,sus24:K1,"+add#9":["1P 3M 5A 9A"],madd4:Z1,madd9:Q1};var Ff=function(t){var e=Object.keys(t).sort(),n=[],r=[],s=function(a,c,l){n[a]=c,r[l]=r[l]||[],r[l].push(a)};e.forEach(function(a){var c=t[a][0].split(" "),l=t[a][1],u=If(c);s(a,c,u),l&&l.forEach(function(d){return s(d,c,u)})});var o=Object.keys(n).sort(),i=function(a){return n[a]};return i.names=function(a){return typeof a=="string"?(r[a]||[]).slice():(a===!0?o:e).slice()},i},Pc=Ff(l1);Ff(J1);var e0=Object.freeze({name:null,intervals:[],names:[],chroma:null,setnum:null}),t0=function(t){var e=Pc(t);if(!e)return e0;var n={intervals:e,name:t};return n.chroma=If(e),n.setnum=parseInt(n.chroma,2),n.names=Pc.names(n.chroma),Object.freeze(n)},n0=function(t,e){return function(n){return e[n]||(e[n]=t(n))}},r0=n0(t0,{});Pc.names;var s0=function(t){var e=Wf(t);return r0(e[1]).intervals};function Vf(t,e){var n=Wf(t);return e=e||n[1],s0(e).map(Lf(n[0]))}function Wf(t){if(typeof t!="string")return["",""];var e=t.indexOf(" "),n=dd(t.substring(0,e))||dd(t)||"",r=n!==""?t.substring(n.length+1):t;return[n,r.length?r:""]}const o0=[{note:"C",color:"white"},{note:"C#",color:"black"},{note:"D",color:"white"},{note:"D#",color:"black"},{note:"E",color:"white"},{note:"F",color:"white"},{note:"F#",color:"black"},{note:"G",color:"white"},{note:"G#",color:"black"},{note:"A",color:"white"},{note:"A#",color:"black"},{note:"B",color:"white"}],$f=()=>{const t=[];for(let n=0;n<3;n++){const r=o0.map((s,o)=>({note:s.note,color:s.color,selected:!1,noteNumber:o+1,octave:n,isPlaying:!1,isStopping:!1}));t.push(r)}return t};function i0(t){t.forEach(e=>{e.forEach(n=>{n.selected=!1})})}function bs(t){return Bf(t,t.selectedChord,!0)}function a0(t){return Bf(t,t.selectedChord,!1)}function Bf(t,e,n){if(p0(t))return;const r=Uf(e,n);c0(r,t)}function c0(t,e){i0(e.piano),t.notes.forEach(n=>{const r=Pf(n,t.octave);m0(e,r.octave,r.noteNumber)}),e.rendered=!0}function Uf(t,e){const n=t.noteLetter,r=t.type,s=t.octave,o=t.slashNote,i=!s||s===null?0:s,a=ar(n),c=ar(o),l=hE(a,r);return l0(i,a,l,c,e)}function l0(t,e,n,r,s){let o={rooteNoteNumber:e,notes:[],octave:t,octaveAllowance:2-t};if(!r)o.notes=n;else{o=u0(o,n,r,s);const i=h0(o);o.octave-=i}return o}function u0(t,e,n,r){return e=f0(e,n),t.notes.push(n),e.every(o=>o>n)?e.forEach(o=>{o-12>n&&(o-=12),t.notes.push(o)}):d0(n,e,t)&&t.octave>0&&r&&(t.octave-=1,t.octaveAllowance+=1),t}function d0(t,e,n){let r=!1;return e.forEach(s=>{t>s&&(n.rooteNoteNumber===s&&(r=!0),s+=12),n.notes.push(s)}),r}function h0(t){let e=0;return t.notes.forEach(n=>{const r=Math.ceil(n/12)-1;if(r>=t.octaveAllowance){const s=r-t.octaveAllowance;s>e&&(e=s)}}),e}function f0(t,e){return t.filter(n=>(n-e)%12!==0)}function p0(t){return zf(t.piano)&&t.rendered===!0}function m0(t,e,n){const r=t.piano;if(g0(r,e,n)){console.log("skipped invalid note: "+e+" : "+n);return}const s=r[e][n-1];if(!s||s.selected){console.log("SKIPPED INVALID NOTE: "+e+" : "+n);return}s.selected=!0,s.isStopping=null}function g0(t,e,n){return!t||!t[e]||!n}function zf(t){for(let e=0;e<t.length;e++){const n=t[e];for(let r=0;r<n.length;r++)if(n[r].selected)return!0}return!1}function v0(t,e){var r;const n=FA(e);if(n!==void 0)return{id:t,piano:$f(),selectedKey:{noteLetter:n.noteLetter,octave:n.octave??0},showFlats:((r=n.noteLetter)==null?void 0:r.includes("b"))||n.slashNote!=null&&n.slashNote.includes("b"),isProgKey:n.isKey,selectedChord:{noteLetter:n.noteLetter,type:n.type,octave:n.octave,slash:n.slash,slashNote:n.slashNote}}}function y0(t,e,n,r){const s=tg(n,r),o=lE(n,r);if(o!==0&&(e!=null&&e.length))for(let i=0;i<(e==null?void 0:e.length);i++){const a=e[i],c=md(a.selectedChord,!1);let l=dE(a.selectedChord.slashNote,s);if(a.selectedChord.slashNote=Qt(r,l),a.id===t)continue;let u=uE(a,s);u.noteLetter=Qt(r,u.noteLetter),b0(a,u);const d=md(a.selectedChord,!0);_0(d,c,o,a),a0(a)}}function b0(t,e){t.selectedKey=e,t.selectedChord.noteLetter=e.noteLetter,t.selectedChord.octave=e.octave,t.rendered=!1}function _0(t,e,n,r){var i,a;const o=t-e-n;return Math.abs(o)>6&&(o>0?r.selectedKey.octave>0&&(r.selectedKey.octave--,(i=r.selectedChord)!=null&&i.octave&&r.selectedChord.octave--,r.rendered=!1):r.selectedKey.octave<2&&(r.selectedKey.octave++,(a=r.selectedChord)!=null&&a.octave&&r.selectedChord.octave++,r.rendered=!1)),r}function md(t,e){const n=Uf(t,!e);return n.notes[0]+n.octave*12}const Hf="14.9.17",gd=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),vd=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Sc=(t,e)=>({startTime:e,type:"setValue",value:t}),qf=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),Gf=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),Cr=t=>t.type==="exponentialRampToValue",Ko=t=>t.type==="linearRampToValue",jn=t=>Cr(t)||Ko(t),Cl=t=>t.type==="setValue",fn=t=>t.type==="setValueCurve",Zo=(t,e,n,r)=>{const s=t[e];return s===void 0?r:jn(s)||Cl(s)?s.value:fn(s)?s.values[s.values.length-1]:Gf(n,Zo(t,e-1,s.startTime,r),s)},yd=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:jn(n)?[n.endTime,n.value]:Cl(n)?[n.startTime,n.value]:fn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Zo(t,e-1,n.startTime,s)],Mc=t=>t.type==="cancelAndHold",Cc=t=>t.type==="cancelScheduledValues",An=t=>Mc(t)||Cc(t)?t.cancelTime:Cr(t)||Ko(t)?t.endTime:t.startTime,bd=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,_d=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),w0=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},x0=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return w0(r,s)},bo=t=>t.type==="setTarget";class P0{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=An(e);if(Mc(e)||Cc(e)){const r=this._automationEvents.findIndex(o=>Cc(e)&&fn(o)?o.startTime+o.duration>=n:An(o)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Mc(e)){const o=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&jn(s)){if(o!==void 0&&bo(o))throw new Error("The internal list is malformed.");const i=o===void 0?s.insertTime:fn(o)?o.startTime+o.duration:An(o),a=o===void 0?this._defaultValue:fn(o)?o.values[o.values.length-1]:o.value,c=Cr(s)?bd(n,i,a,s):_d(n,i,a,s),l=Cr(s)?gd(c,n,this._currenTime):vd(c,n,this._currenTime);this._automationEvents.push(l)}if(o!==void 0&&bo(o)&&this._automationEvents.push(Sc(this.getValue(n),n)),o!==void 0&&fn(o)&&o.startTime+o.duration>n){const i=n-o.startTime,a=(o.values.length-1)/o.duration,c=Math.max(2,1+Math.ceil(i*a)),l=i/(c-1)*a,u=o.values.slice(0,c);if(l<1)for(let d=1;d<c;d+=1){const h=l*d%1;u[d]=o.values[d-1]*(1-h)+o.values[d]*h}this._automationEvents[this._automationEvents.length-1]=qf(u,o.startTime,i)}}}else{const r=this._automationEvents.findIndex(i=>An(i)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&fn(s)&&An(s)+s.duration>n)return!1;const o=Cr(e)?gd(e.value,e.endTime,this._currenTime):Ko(e)?vd(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(o);else{if(fn(e)&&n+e.duration>An(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,o)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>An(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];bo(s)&&r.unshift(Sc(Zo(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(i=>An(i)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,o=this._automationEvents[s];if(o!==void 0&&bo(o)&&(r===void 0||!jn(r)||r.insertTime>e))return Gf(e,Zo(this._automationEvents,s-1,o.startTime,this._defaultValue),o);if(o!==void 0&&Cl(o)&&(r===void 0||!jn(r)))return o.value;if(o!==void 0&&fn(o)&&(r===void 0||!jn(r)||o.startTime+o.duration>e))return e<o.startTime+o.duration?x0(e,o):o.values[o.values.length-1];if(o!==void 0&&jn(o)&&(r===void 0||!jn(r)))return o.value;if(r!==void 0&&Cr(r)){const[i,a]=yd(this._automationEvents,s,o,r,this._defaultValue);return bd(e,i,a,r)}if(r!==void 0&&Ko(r)){const[i,a]=yd(this._automationEvents,s,o,r,this._defaultValue);return _d(e,i,a,r)}return this._defaultValue}}const S0=t=>({cancelTime:t,type:"cancelAndHold"}),M0=t=>({cancelTime:t,type:"cancelScheduledValues"}),C0=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),T0=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),A0=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),E0=()=>new DOMException("","AbortError"),O0=t=>(e,n,[r,s,o],i)=>{t(e[s],[n,r,o],a=>a[0]===n&&a[1]===r,i)},N0=t=>(e,n,r)=>{const s=[];for(let o=0;o<r.numberOfInputs;o+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},k0=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},$r=new WeakSet,Yf=new WeakMap,Tl=new WeakMap,Xf=new WeakMap,Al=new WeakMap,da=new WeakMap,Kf=new WeakMap,Tc=new WeakMap,Ac=new WeakMap,Ec=new WeakMap,Zf={construct(){return Zf}},I0=t=>{try{const e=new Proxy(t,Zf);new e}catch{return!1}return!0},wd=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,xd=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(wd);for(;s!==null;){const o=s[1].slice(1,-1),i=s[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());n.push(i),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(wd)}return[n.join(";"),r]},Pd=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Sd=t=>{if(!I0(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},R0=(t,e,n,r,s,o,i,a,c,l,u,d,h)=>{let p=0;return(m,f,g={credentials:"omit"})=>{const v=u.get(m);if(v!==void 0&&v.has(f))return Promise.resolve();const S=l.get(m);if(S!==void 0){const y=S.get(f);if(y!==void 0)return y}const x=o(m),M=x.audioWorklet===void 0?s(f).then(([y,b])=>{const[P,C]=xd(y,b),E=`${P};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${C}
})})(window,'_AWGS')`;return n(E)}).then(()=>{const y=h._AWGS.pop();if(y===void 0)throw new SyntaxError;r(x.currentTime,x.sampleRate,()=>y(class{},void 0,(b,P)=>{if(b.trim()==="")throw e();const C=Ac.get(x);if(C!==void 0){if(C.has(b))throw e();Sd(P),Pd(P.parameterDescriptors),C.set(b,P)}else Sd(P),Pd(P.parameterDescriptors),Ac.set(x,new Map([[b,P]]))},x.sampleRate,void 0,void 0))}):Promise.all([s(f),Promise.resolve(t(d,d))]).then(([[y,b],P])=>{const C=p+1;p=C;const[E,O]=xd(y,b),R=`${E};((AudioWorkletProcessor,registerProcessor)=>{${O}
})(${P?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${P?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${P?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${C}',class extends AudioWorkletProcessor{process(){return !1}})`,W=new Blob([R],{type:"application/javascript; charset=utf-8"}),L=URL.createObjectURL(W);return x.audioWorklet.addModule(L,g).then(()=>{if(a(x))return x;const F=i(x);return F.audioWorklet.addModule(L,g).then(()=>F)}).then(F=>{if(c===null)throw new SyntaxError;try{new c(F,`__sac${C}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(L))});return S===void 0?l.set(m,new Map([[f,M]])):S.set(f,M),M.then(()=>{const y=u.get(m);y===void 0?u.set(m,new Set([f])):y.add(f)}).finally(()=>{const y=l.get(m);y!==void 0&&y.delete(f)}),M}},Ft=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},ha=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},Qf=(t,e,n,r)=>{const s=Ft(t,e),o=ha(s,i=>i[0]===n&&i[1]===r);return s.size===0&&t.delete(e),o},Ys=t=>Ft(Kf,t),Br=t=>{if($r.has(t))throw new Error("The AudioNode is already stored.");$r.add(t),Ys(t).forEach(e=>e(!0))},Jf=t=>"port"in t,Xs=t=>{if(!$r.has(t))throw new Error("The AudioNode is not stored.");$r.delete(t),Ys(t).forEach(e=>e(!1))},Oc=(t,e)=>{!Jf(t)&&e.every(n=>n.size===0)&&Xs(t)},D0=(t,e,n,r,s,o,i,a,c,l,u,d,h)=>{const p=new WeakMap;return(m,f,g,v,S)=>{const{activeInputs:x,passiveInputs:M}=o(f),{outputs:y}=o(m),b=a(m),P=C=>{const E=c(f),O=c(m);if(C){const k=Qf(M,m,g,v);t(x,m,k,!1),!S&&!d(m)&&n(O,E,g,v),h(f)&&Br(f)}else{const k=r(x,m,g,v);e(M,v,k,!1),!S&&!d(m)&&s(O,E,g,v);const N=i(f);if(N===0)u(f)&&Oc(f,x);else{const j=p.get(f);j!==void 0&&clearTimeout(j),p.set(f,setTimeout(()=>{u(f)&&Oc(f,x)},N*1e3))}}};return l(y,[f,g,v],C=>C[0]===f&&C[1]===g&&C[2]===v,!0)?(b.add(P),u(m)?t(x,m,[g,v,P],!0):e(M,v,[m,g,P],!0),!0):!1}},j0=t=>(e,n,[r,s,o],i)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[s,n,o]])):t(a,[s,n,o],c=>c[0]===s&&c[1]===n,i)},L0=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},F0=t=>(e,n)=>{t(e).add(n)},V0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},W0=(t,e,n,r,s,o)=>class extends t{constructor(a,c){const l=s(a),u={...V0,...c},d=r(l,u),h=o(l)?e():null;super(a,!1,d,h),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},nt=(t,e)=>t.context===e,$0=(t,e,n)=>()=>{const r=new WeakMap,s=async(o,i)=>{let a=e(o);if(!nt(a,i)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(i,l)}return r.set(i,a),await n(o,i,a),a};return{render(o,i){const a=r.get(i);return a!==void 0?Promise.resolve(a):s(o,i)}}},Qo=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},on=()=>new DOMException("","IndexSizeError"),El=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?on():r}})(t.getChannelData)},B0={numberOfChannels:1},U0=(t,e,n,r,s,o,i,a)=>{let c=null;return class ep{constructor(u){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:h,sampleRate:p}={...B0,...u};c===null&&(c=new s(1,1,44100));const m=r!==null&&e(o,o)?new r({length:d,numberOfChannels:h,sampleRate:p}):c.createBuffer(h,d,p);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(i(m),El(m)):e(Qo,()=>Qo(m))||a(m),t.add(m),m}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===ep.prototype||t.has(u)}}},ft=-34028234663852886e22,it=-ft,pn=t=>$r.has(t),z0={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},H0=(t,e,n,r,s,o,i,a)=>class extends t{constructor(l,u){const d=o(l),h={...z0,...u},p=s(d,h),m=i(d),f=m?e():null;super(l,!1,p,f),this._audioBufferSourceNodeRenderer=f,this._isBufferNullified=!1,this._isBufferSet=h.buffer!==null,this._nativeAudioBufferSourceNode=p,this._onended=null,this._playbackRate=n(this,m,p.playbackRate,it,ft)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,l!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?a(this,l):null;this._nativeAudioBufferSourceNode.onended=u;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===u?l:d}get playbackRate(){return this._playbackRate}start(l=0,u=0,d){if(this._nativeAudioBufferSourceNode.start(l,u,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[l,u]:[l,u,d]),this.context.state!=="closed"){Br(this);const h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),pn(this)&&Xs(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=l)}},q0=(t,e,n,r,s)=>()=>{const o=new WeakMap;let i=null,a=null;const c=async(l,u)=>{let d=n(l);const h=nt(d,u);if(!h){const p={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(u,p),i!==null&&d.start(...i),a!==null&&d.stop(a)}return o.set(u,d),h?await t(u,l.playbackRate,d.playbackRate):await r(u,l.playbackRate,d.playbackRate),await s(l,u,d),d};return{set start(l){i=l},set stop(l){a=l},render(l,u){const d=o.get(u);return d!==void 0?Promise.resolve(d):c(l,u)}}},G0=t=>"playbackRate"in t,Y0=t=>"frequency"in t&&"gain"in t,X0=t=>"offset"in t,K0=t=>!("frequency"in t)&&"gain"in t,Z0=t=>"detune"in t&&"frequency"in t&&!("gain"in t),Q0=t=>"pan"in t,at=t=>Ft(Yf,t),Ks=t=>Ft(Xf,t),Nc=(t,e)=>{const{activeInputs:n}=at(t);n.forEach(s=>s.forEach(([o])=>{e.includes(t)||Nc(o,[...e,t])}));const r=G0(t)?[t.playbackRate]:Jf(t)?Array.from(t.parameters.values()):Y0(t)?[t.Q,t.detune,t.frequency,t.gain]:X0(t)?[t.offset]:K0(t)?[t.gain]:Z0(t)?[t.detune,t.frequency]:Q0(t)?[t.pan]:[];for(const s of r){const o=Ks(s);o!==void 0&&o.activeInputs.forEach(([i])=>Nc(i,e))}pn(t)&&Xs(t)},tp=t=>{Nc(t.destination,[])},J0=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),ex=(t,e,n,r,s,o,i,a,c)=>class extends t{constructor(u={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new c(u)}catch(m){throw m.code===12&&m.message==="sampleRate is not in range"?n():m}if(d===null)throw r();if(!J0(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&d.sampleRate!==u.sampleRate)throw n();super(d,2);const{latencyHint:h}=u,{sampleRate:p}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:h==="balanced"?512/p:h==="interactive"||h===void 0?256/p:h==="playback"?1024/p:Math.max(2,Math.min(128,Math.round(h*p/128)))*128/p,this._nativeAudioContext=d,c.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const m=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",m)};d.addEventListener("statechange",m)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),tp(this)}))}createMediaElementSource(u){return new s(this,{mediaElement:u})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(u){return new i(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return this._state==="suspended"?new Promise((u,d)=>{const h=()=>{this._nativeAudioContext.removeEventListener("statechange",h),this._nativeAudioContext.state==="running"?u():this.resume().then(u,d)};this._nativeAudioContext.addEventListener("statechange",h)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}},tx=(t,e,n,r,s,o,i,a)=>class extends t{constructor(l,u){const d=o(l),h=i(d),p=s(d,u,h),m=h?e(a):null;super(l,!1,p,m),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=p}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},nx=t=>{const e=new WeakMap,n=async(r,s)=>{const o=s.destination;return e.set(s,o),await t(r,s,o),o};return{render(r,s){const o=e.get(s);return o!==void 0?Promise.resolve(o):n(r,s)}}},rx=(t,e,n,r,s,o,i,a)=>(c,l)=>{const u=l.listener,d=()=>{const y=new Float32Array(1),b=e(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),P=i(l);let C=!1,E=[0,0,-1,0,1,0],O=[0,0,0];const k=()=>{if(C)return;C=!0;const W=r(l,256,9,0);W.onaudioprocess=({inputBuffer:L})=>{const F=[o(L,y,0),o(L,y,1),o(L,y,2),o(L,y,3),o(L,y,4),o(L,y,5)];F.some((A,I)=>A!==E[I])&&(u.setOrientation(...F),E=F);const T=[o(L,y,6),o(L,y,7),o(L,y,8)];T.some((A,I)=>A!==O[I])&&(u.setPosition(...T),O=T)},b.connect(W)},N=W=>L=>{L!==E[W]&&(E[W]=L,u.setOrientation(...E))},j=W=>L=>{L!==O[W]&&(O[W]=L,u.setPosition(...O))},R=(W,L,F)=>{const T=n(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:L});T.connect(b,0,W),T.start(),Object.defineProperty(T.offset,"defaultValue",{get(){return L}});const A=t({context:c},P,T.offset,it,ft);return a(A,"value",I=>()=>I.call(A),I=>D=>{try{I.call(A,D)}catch(V){if(V.code!==9)throw V}k(),P&&F(D)}),A.cancelAndHoldAtTime=(I=>P?()=>{throw s()}:(...D)=>{const V=I.apply(A,D);return k(),V})(A.cancelAndHoldAtTime),A.cancelScheduledValues=(I=>P?()=>{throw s()}:(...D)=>{const V=I.apply(A,D);return k(),V})(A.cancelScheduledValues),A.exponentialRampToValueAtTime=(I=>P?()=>{throw s()}:(...D)=>{const V=I.apply(A,D);return k(),V})(A.exponentialRampToValueAtTime),A.linearRampToValueAtTime=(I=>P?()=>{throw s()}:(...D)=>{const V=I.apply(A,D);return k(),V})(A.linearRampToValueAtTime),A.setTargetAtTime=(I=>P?()=>{throw s()}:(...D)=>{const V=I.apply(A,D);return k(),V})(A.setTargetAtTime),A.setValueAtTime=(I=>P?()=>{throw s()}:(...D)=>{const V=I.apply(A,D);return k(),V})(A.setValueAtTime),A.setValueCurveAtTime=(I=>P?()=>{throw s()}:(...D)=>{const V=I.apply(A,D);return k(),V})(A.setValueCurveAtTime),A};return{forwardX:R(0,0,N(0)),forwardY:R(1,0,N(1)),forwardZ:R(2,-1,N(2)),positionX:R(6,0,j(0)),positionY:R(7,0,j(1)),positionZ:R(8,0,j(2)),upX:R(3,0,N(3)),upY:R(4,1,N(4)),upZ:R(5,0,N(5))}},{forwardX:h,forwardY:p,forwardZ:m,positionX:f,positionY:g,positionZ:v,upX:S,upY:x,upZ:M}=u.forwardX===void 0?d():u;return{get forwardX(){return h},get forwardY(){return p},get forwardZ(){return m},get positionX(){return f},get positionY(){return g},get positionZ(){return v},get upX(){return S},get upY(){return x},get upZ(){return M}}},Jo=t=>"context"in t,Zs=t=>Jo(t[0]),vr=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Md=(t,e,[n,r],s)=>{vr(t,[e,n,r],o=>o[0]===e&&o[1]===n,s)},Cd=(t,[e,n,r],s)=>{const o=t.get(e);o===void 0?t.set(e,new Set([[n,r]])):vr(o,[n,r],i=>i[0]===n,s)},Qr=t=>"inputs"in t,ei=(t,e,n,r)=>{if(Qr(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},np=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},sx=(t,e,n)=>ha(t,r=>r[0]===e&&r[1]===n),rp=(t,e)=>{if(!Ys(t).delete(e))throw new Error("Missing the expected event listener.")},sp=(t,e,n)=>{const r=Ft(t,e),s=ha(r,o=>o[0]===n);return r.size===0&&t.delete(e),s},ti=(t,e,n,r)=>{Qr(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Ie=t=>Ft(Tl,t),As=t=>Ft(Al,t),cr=t=>Tc.has(t),jo=t=>!$r.has(t),Td=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),o=t.createBuffer(1,2,44100),i=o.getChannelData(0);i[0]=1,i[1]=1;const a=t.createBufferSource();a.buffer=o,a.loop=!0,a.connect(r).connect(t.destination),a.connect(s),a.disconnect(s),r.onaudioprocess=c=>{const l=c.inputBuffer.getChannelData(0);Array.prototype.some.call(l,u=>u===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),Xa=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const o=n.get(s);n.set(s,o===void 0?1:o+1)}n.forEach((r,s)=>e(s,r))},ni=t=>"context"in t,ox=t=>{const e=new Map;t.connect=(n=>(r,s=0,o=0)=>{const i=ni(r)?n(r,s,o):n(r,s),a=e.get(r);return a===void 0?e.set(r,[{input:o,output:s}]):a.every(c=>c.input!==o||c.output!==s)&&a.push({input:o,output:s}),i})(t.connect.bind(t)),t.disconnect=(n=>(r,s,o)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[i,a]of e){const c=a.filter(l=>l.output!==r);c.length===0?e.delete(i):e.set(i,c)}else if(e.has(r))if(s===void 0)e.delete(r);else{const i=e.get(r);if(i!==void 0){const a=i.filter(c=>c.output!==s&&(c.input!==o||o===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[i,a]of e)a.forEach(c=>{ni(i)?t.connect(i,c.output,c.input):t.connect(i,c.output)})})(t.disconnect)},ix=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:o}=Ks(e),{outputs:i}=at(t),a=Ys(t),c=l=>{const u=Ie(t),d=As(e);if(l){const h=sp(o,t,n);Md(s,t,h,!1),!r&&!cr(t)&&u.connect(d,n)}else{const h=sx(s,t,n);Cd(o,h,!1),!r&&!cr(t)&&u.disconnect(d,n)}};return vr(i,[e,n],l=>l[0]===e&&l[1]===n,!0)?(a.add(c),pn(t)?Md(s,t,[n,c],!0):Cd(o,[t,n,c],!0),!0):!1},ax=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:o}=at(e),i=np(s[r],t,n);return i===null?[Qf(o,t,n,r)[2],!1]:[i[2],!0]},cx=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=Ks(e),o=np(r,t,n);return o===null?[sp(s,t,n)[1],!1]:[o[2],!0]},Ol=(t,e,n,r,s)=>{const[o,i]=ax(t,n,r,s);if(o!==null&&(rp(t,o),i&&!e&&!cr(t)&&ti(Ie(t),Ie(n),r,s)),pn(n)){const{activeInputs:a}=at(n);Oc(n,a)}},Nl=(t,e,n,r)=>{const[s,o]=cx(t,n,r);s!==null&&(rp(t,s),o&&!e&&!cr(t)&&Ie(t).disconnect(As(n),r))},lx=(t,e)=>{const n=at(t),r=[];for(const s of n.outputs)Zs(s)?Ol(t,e,...s):Nl(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},ux=(t,e,n)=>{const r=at(t),s=[];for(const o of r.outputs)o[1]===n&&(Zs(o)?Ol(t,e,...o):Nl(t,e,...o),s.push(o[0]),r.outputs.delete(o));return s},dx=(t,e,n,r,s)=>{const o=at(t);return Array.from(o.outputs).filter(i=>i[0]===n&&(r===void 0||i[1]===r)&&(s===void 0||i[2]===s)).map(i=>(Zs(i)?Ol(t,e,...i):Nl(t,e,...i),o.outputs.delete(i),i[0]))},hx=(t,e,n,r,s,o,i,a,c,l,u,d,h,p,m,f)=>class extends l{constructor(v,S,x,M){super(x),this._context=v,this._nativeAudioNode=x;const y=u(v);d(y)&&n(Td,()=>Td(y,f))!==!0&&ox(x),Tl.set(this,x),Kf.set(this,new Set),v.state!=="closed"&&S&&Br(this),t(this,M,x)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,S=0,x=0){if(S<0||S>=this._nativeAudioNode.numberOfOutputs)throw s();const M=u(this._context),y=m(M);if(h(v)||p(v))throw o();if(Jo(v)){const C=Ie(v);try{const O=ei(this._nativeAudioNode,C,S,x),k=jo(this);(y||k)&&this._nativeAudioNode.disconnect(...O),this.context.state!=="closed"&&!k&&jo(v)&&Br(v)}catch(O){throw O.code===12?o():O}if(e(this,v,S,x,y)){const O=c([this],v);Xa(O,r(y))}return v}const b=As(v);if(b.name==="playbackRate"&&b.maxValue===1024)throw i();try{this._nativeAudioNode.connect(b,S),(y||jo(this))&&this._nativeAudioNode.disconnect(b,S)}catch(C){throw C.code===12?o():C}if(ix(this,v,S,y)){const C=c([this],v);Xa(C,r(y))}}disconnect(v,S,x){let M;const y=u(this._context),b=m(y);if(v===void 0)M=lx(this,b);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw s();M=ux(this,b,v)}else{if(S!==void 0&&(S<0||S>=this.numberOfOutputs)||Jo(v)&&x!==void 0&&(x<0||x>=v.numberOfInputs))throw s();if(M=dx(this,b,v,S,x),M.length===0)throw o()}for(const P of M){const C=c([this],P);Xa(C,a)}}},fx=(t,e,n,r,s,o,i,a,c,l,u,d,h)=>(p,m,f,g=null,v=null)=>{const S=f.value,x=new P0(S),M=m?r(x):null,y={get defaultValue(){return S},get maxValue(){return g===null?f.maxValue:g},get minValue(){return v===null?f.minValue:v},get value(){return f.value},set value(b){f.value=b,y.setValueAtTime(b,p.context.currentTime)},cancelAndHoldAtTime(b){if(typeof f.cancelAndHoldAtTime=="function")M===null&&x.flush(p.context.currentTime),x.add(s(b)),f.cancelAndHoldAtTime(b);else{const P=Array.from(x).pop();M===null&&x.flush(p.context.currentTime),x.add(s(b));const C=Array.from(x).pop();f.cancelScheduledValues(b),P!==C&&C!==void 0&&(C.type==="exponentialRampToValue"?f.exponentialRampToValueAtTime(C.value,C.endTime):C.type==="linearRampToValue"?f.linearRampToValueAtTime(C.value,C.endTime):C.type==="setValue"?f.setValueAtTime(C.value,C.startTime):C.type==="setValueCurve"&&f.setValueCurveAtTime(C.values,C.startTime,C.duration))}return y},cancelScheduledValues(b){return M===null&&x.flush(p.context.currentTime),x.add(o(b)),f.cancelScheduledValues(b),y},exponentialRampToValueAtTime(b,P){if(b===0)throw new RangeError;if(!Number.isFinite(P)||P<0)throw new RangeError;const C=p.context.currentTime;return M===null&&x.flush(C),Array.from(x).length===0&&(x.add(l(S,C)),f.setValueAtTime(S,C)),x.add(i(b,P)),f.exponentialRampToValueAtTime(b,P),y},linearRampToValueAtTime(b,P){const C=p.context.currentTime;return M===null&&x.flush(C),Array.from(x).length===0&&(x.add(l(S,C)),f.setValueAtTime(S,C)),x.add(a(b,P)),f.linearRampToValueAtTime(b,P),y},setTargetAtTime(b,P,C){return M===null&&x.flush(p.context.currentTime),x.add(c(b,P,C)),f.setTargetAtTime(b,P,C),y},setValueAtTime(b,P){return M===null&&x.flush(p.context.currentTime),x.add(l(b,P)),f.setValueAtTime(b,P),y},setValueCurveAtTime(b,P,C){const E=b instanceof Float32Array?b:new Float32Array(b);if(d!==null&&d.name==="webkitAudioContext"){const O=P+C,k=p.context.sampleRate,N=Math.ceil(P*k),j=Math.floor(O*k),R=j-N,W=new Float32Array(R);for(let F=0;F<R;F+=1){const T=(E.length-1)/C*((N+F)/k-P),A=Math.floor(T),I=Math.ceil(T);W[F]=A===I?E[A]:(1-(T-A))*E[A]+(1-(I-T))*E[I]}M===null&&x.flush(p.context.currentTime),x.add(u(W,P,C)),f.setValueCurveAtTime(W,P,C);const L=j/k;L<O&&h(y,W[W.length-1],L),h(y,E[E.length-1],O)}else M===null&&x.flush(p.context.currentTime),x.add(u(E,P,C)),f.setValueCurveAtTime(E,P,C);return y}};return n.set(y,f),e.set(y,p),t(y,M),y},px=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:o}=n;e.setTargetAtTime(s,r,o)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:o}=n;e.setValueCurveAtTime(o,s,r)}else throw new Error("Can't apply an unknown automation.")}});class op{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const mx={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},gx=(t,e,n,r,s,o,i,a,c,l,u,d,h,p)=>class extends e{constructor(f,g,v){var S;const x=a(f),M=c(x),y=u({...mx,...v});h(y);const b=Ac.get(x),P=b==null?void 0:b.get(g),C=M||x.state!=="closed"?x:(S=i(x))!==null&&S!==void 0?S:x,E=s(C,M?null:f.baseLatency,l,g,P,y),O=M?r(g,y,P):null;super(f,!0,E,O);const k=[];E.parameters.forEach((j,R)=>{const W=n(this,M,j);k.push([R,W])}),this._nativeAudioWorkletNode=E,this._onprocessorerror=null,this._parameters=new op(k),M&&t(x,this);const{activeInputs:N}=o(this);d(E,N)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(f){const g=typeof f=="function"?p(this,f):null;this._nativeAudioWorkletNode.onprocessorerror=g;const v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===g?f:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function ri(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const o=t.getChannelData(r);if(e[n].byteLength===0)e[n]=o.slice(s,s+128);else{const i=new Float32Array(o.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(i)}}}const ip=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},si=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],o=typeof e=="number"?e:e[r];for(let i=0;i<o;i+=1)s.push(new Float32Array(128));n.push(s)}return n},vx=(t,e)=>{const n=Ft(Ec,t),r=Ie(e);return Ft(n,r)},yx=async(t,e,n,r,s,o,i)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,c=r.channelCount*r.numberOfInputs,l=s.reduce((g,v)=>g+v,0),u=l===0?null:n.createBuffer(l,a,n.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const d=at(t),h=await vx(n,t),p=si(r.numberOfInputs,r.channelCount),m=si(r.numberOfOutputs,s),f=Array.from(t.parameters.keys()).reduce((g,v)=>({...g,[v]:new Float32Array(128)}),{});for(let g=0;g<a;g+=128){if(r.numberOfInputs>0&&e!==null)for(let v=0;v<r.numberOfInputs;v+=1)for(let S=0;S<r.channelCount;S+=1)ri(e,p[v],S,S,g);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:v},S)=>{ri(e,f,v,c+S,g)});for(let v=0;v<r.numberOfInputs;v+=1)for(let S=0;S<s[v];S+=1)m[v][S].byteLength===0&&(m[v][S]=new Float32Array(128));try{const v=p.map((x,M)=>d.activeInputs[M].size===0?[]:x),S=i(g/n.sampleRate,n.sampleRate,()=>h.process(v,m,f));if(u!==null)for(let x=0,M=0;x<r.numberOfOutputs;x+=1){for(let y=0;y<s[x];y+=1)ip(u,m[x],y,M+y,g);M+=s[x]}if(!S)break}catch(v){t.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return u},bx=(t,e,n,r,s,o,i,a,c,l,u,d,h,p,m,f)=>(g,v,S)=>{const x=new WeakMap;let M=null;const y=async(b,P)=>{let C=u(b),E=null;const O=nt(C,P),k=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(d===null){const N=k.reduce((L,F)=>L+F,0),j=s(P,{channelCount:Math.max(1,N),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,N)}),R=[];for(let L=0;L<b.numberOfOutputs;L+=1)R.push(r(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:k[L]}));const W=i(P,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});W.connect=e.bind(null,R),W.disconnect=c.bind(null,R),E=[j,R,W]}else O||(C=new d(P,g));if(x.set(P,E===null?C:E[2]),E!==null){if(M===null){if(S===void 0)throw new Error("Missing the processor constructor.");if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const F=b.channelCount*b.numberOfInputs,T=S.parameterDescriptors===void 0?0:S.parameterDescriptors.length,A=F+T;M=yx(b,A===0?null:await(async()=>{const D=new h(A,Math.ceil(b.context.length/128)*128,P.sampleRate),V=[],q=[];for(let G=0;G<v.numberOfInputs;G+=1)V.push(i(D,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),q.push(s(D,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const X=await Promise.all(Array.from(b.parameters.values()).map(async G=>{const $=o(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:G.value});return await p(D,G,$.offset),$})),z=r(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,F+T)});for(let G=0;G<v.numberOfInputs;G+=1){V[G].connect(q[G]);for(let $=0;$<v.channelCount;$+=1)q[G].connect(z,$,G*v.channelCount+$)}for(const[G,$]of X.entries())$.connect(z,0,F+G),$.start(0);return z.connect(D.destination),await Promise.all(V.map(G=>m(b,D,G))),f(D)})(),P,v,k,S,l)}const N=await M,j=n(P,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[R,W,L]=E;N!==null&&(j.buffer=N,j.start(0)),j.connect(R);for(let F=0,T=0;F<b.numberOfOutputs;F+=1){const A=W[F];for(let I=0;I<k[F];I+=1)R.connect(A,T+I,I);T+=k[F]}return L}if(O)for(const[N,j]of b.parameters.entries())await t(P,j,C.parameters.get(N));else for(const[N,j]of b.parameters.entries())await p(P,j,C.parameters.get(N));return await m(b,P,C),C};return{render(b,P){a(P,b);const C=x.get(P);return C!==void 0?Promise.resolve(C):y(b,P)}}},_x=(t,e,n,r,s,o,i,a,c,l,u,d,h,p,m,f,g,v,S,x)=>class extends m{constructor(y,b){super(y,b),this._nativeContext=y,this._audioWorklet=t===void 0?void 0:{addModule:(P,C)=>t(this,P,C)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(y,b,P){return new n({length:b,numberOfChannels:y,sampleRate:P})}createBufferSource(){return new r(this)}createChannelMerger(y=6){return new o(this,{numberOfInputs:y})}createChannelSplitter(y=6){return new i(this,{numberOfOutputs:y})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(y=1){return new u(this,{maxDelayTime:y})}createDynamicsCompressor(){return new d(this)}createGain(){return new h(this)}createIIRFilter(y,b){return new p(this,{feedback:b,feedforward:y})}createOscillator(){return new f(this)}createPanner(){return new g(this)}createPeriodicWave(y,b,P={disableNormalization:!1}){return new v(this,{...P,imag:b,real:y})}createStereoPanner(){return new S(this)}createWaveShaper(){return new x(this)}decodeAudioData(y,b,P){return l(this._nativeContext,y).then(C=>(typeof b=="function"&&b(C),C),C=>{throw typeof P=="function"&&P(C),C})}},wx={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},xx=(t,e,n,r,s,o,i,a)=>class extends t{constructor(l,u){const d=o(l),h={...wx,...u},p=s(d,h),m=i(d),f=m?n():null;super(l,!1,p,f),this._Q=e(this,m,p.Q,it,ft),this._detune=e(this,m,p.detune,1200*Math.log2(it),-1200*Math.log2(it)),this._frequency=e(this,m,p.frequency,l.sampleRate/2,0),this._gain=e(this,m,p.gain,40*Math.log10(it),ft),this._nativeBiquadFilterNode=p,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,u,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,u,d)}catch(h){throw h.code===11?r():h}if(l.length!==u.length||u.length!==d.length)throw r()}},Px=(t,e,n,r,s)=>()=>{const o=new WeakMap,i=async(a,c)=>{let l=n(a);const u=nt(l,c);if(!u){const d={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(c,d)}return o.set(c,l),u?(await t(c,a.Q,l.Q),await t(c,a.detune,l.detune),await t(c,a.frequency,l.frequency),await t(c,a.gain,l.gain)):(await r(c,a.Q,l.Q),await r(c,a.detune,l.detune),await r(c,a.frequency,l.frequency),await r(c,a.gain,l.gain)),await s(a,c,l),l};return{render(a,c){const l=o.get(c);return l!==void 0?Promise.resolve(l):i(a,c)}}},Sx=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const o=t.get(n);if(o!==void 0)return o;try{const i=r();return i instanceof Promise?(t.set(n,i),i.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,i),i)}catch{return e.set(n,!1),!1}},Mx={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Cx=(t,e,n,r,s)=>class extends t{constructor(i,a){const c=r(i),l={...Mx,...a},u=n(c,l),d=s(c)?e():null;super(i,!1,u,d)}},Tx=(t,e,n)=>()=>{const r=new WeakMap,s=async(o,i)=>{let a=e(o);if(!nt(a,i)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(i,l)}return r.set(i,a),await n(o,i,a),a};return{render(o,i){const a=r.get(i);return a!==void 0?Promise.resolve(a):s(o,i)}}},Ax={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Ex=(t,e,n,r,s,o)=>class extends t{constructor(a,c){const l=r(a),u=o({...Ax,...c}),d=n(l,u),h=s(l)?e():null;super(a,!1,d,h)}},Ox=(t,e,n)=>()=>{const r=new WeakMap,s=async(o,i)=>{let a=e(o);if(!nt(a,i)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(i,l)}return r.set(i,a),await n(o,i,a),a};return{render(o,i){const a=r.get(i);return a!==void 0?Promise.resolve(a):s(o,i)}}},Nx=t=>(e,n,r)=>t(n,e,r),kx=t=>(e,n,r=0,s=0)=>{const o=e[r];if(o===void 0)throw t();return ni(n)?o.connect(n,0,s):o.connect(n,0)},Ix=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},Rx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Dx=(t,e,n,r,s,o,i)=>class extends t{constructor(c,l){const u=s(c),d={...Rx,...l},h=r(u,d),p=o(u),m=p?n():null;super(c,!1,h,m),this._constantSourceNodeRenderer=m,this._nativeConstantSourceNode=h,this._offset=e(this,p,h.offset,it,ft),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const l=typeof c=="function"?i(this,c):null;this._nativeConstantSourceNode.onended=l;const u=this._nativeConstantSourceNode.onended;this._onended=u!==null&&u===l?c:u}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){Br(this);const l=()=>{this._nativeConstantSourceNode.removeEventListener("ended",l),pn(this)&&Xs(this)};this._nativeConstantSourceNode.addEventListener("ended",l)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}},jx=(t,e,n,r,s)=>()=>{const o=new WeakMap;let i=null,a=null;const c=async(l,u)=>{let d=n(l);const h=nt(d,u);if(!h){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(u,p),i!==null&&d.start(i),a!==null&&d.stop(a)}return o.set(u,d),h?await t(u,l.offset,d.offset):await r(u,l.offset,d.offset),await s(l,u,d),d};return{set start(l){i=l},set stop(l){a=l},render(l,u){const d=o.get(u);return d!==void 0?Promise.resolve(d):c(l,u)}}},Lx=t=>e=>(t[0]=e,t[0]),Fx={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Vx=(t,e,n,r,s,o)=>class extends t{constructor(a,c){const l=r(a),u={...Fx,...c},d=n(l,u),p=s(l)?e():null;super(a,!1,d,p),this._isBufferNullified=!1,this._nativeConvolverNode=d,u.buffer!==null&&o(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},Wx=(t,e,n)=>()=>{const r=new WeakMap,s=async(o,i)=>{let a=e(o);if(!nt(a,i)){const l={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(i,l)}return r.set(i,a),Qr(a)?await n(o,i,a.inputs[0]):await n(o,i,a),a};return{render(o,i){const a=r.get(i);return a!==void 0?Promise.resolve(a):s(o,i)}}},$x=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(o){throw o.name==="SyntaxError"?t():o}},Bx=()=>new DOMException("","DataCloneError"),Ad=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},Ux=(t,e,n,r,s,o,i,a,c,l,u)=>(d,h)=>{const p=i(d)?d:o(d);if(s.has(h)){const m=n();return Promise.reject(m)}try{s.add(h)}catch{}return e(c,()=>c(p))?p.decodeAudioData(h).then(m=>(Ad(h).catch(()=>{}),e(a,()=>a(m))||u(m),t.add(m),m)):new Promise((m,f)=>{const g=async()=>{try{await Ad(h)}catch{}},v=S=>{f(S),g()};try{p.decodeAudioData(h,S=>{typeof S.copyFromChannel!="function"&&(l(S),El(S)),t.add(S),g().then(()=>m(S))},S=>{v(S===null?r():S)})}catch(S){v(S)}})},zx=(t,e,n,r,s,o,i,a)=>(c,l)=>{const u=e.get(c);if(u===void 0)throw new Error("Missing the expected cycle count.");const d=o(c.context),h=a(d);if(u===l){if(e.delete(c),!h&&i(c)){const p=r(c),{outputs:m}=n(c);for(const f of m)if(Zs(f)){const g=r(f[0]);t(p,g,f[1],f[2])}else{const g=s(f[0]);p.connect(g,f[1])}}}else e.set(c,u-l)},Hx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},qx=(t,e,n,r,s,o,i)=>class extends t{constructor(c,l){const u=s(c),d={...Hx,...l},h=r(u,d),p=o(u),m=p?n(d.maxDelayTime):null;super(c,!1,h,m),this._delayTime=e(this,p,h.delayTime),i(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},Gx=(t,e,n,r,s)=>o=>{const i=new WeakMap,a=async(c,l)=>{let u=n(c);const d=nt(u,l);if(!d){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:o};u=e(l,h)}return i.set(l,u),d?await t(l,c.delayTime,u.delayTime):await r(l,c.delayTime,u.delayTime),await s(c,l,u),u};return{render(c,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):a(c,l)}}},Yx=t=>(e,n,r,s)=>t(e[s],o=>o[0]===n&&o[1]===r),Xx=t=>(e,n)=>{t(e).delete(n)},Kx=t=>"delayTime"in t,Zx=(t,e,n)=>function r(s,o){const i=Jo(o)?o:n(t,o);if(Kx(i))return[];if(s[0]===i)return[s];if(s.includes(i))return[];const{outputs:a}=e(i);return Array.from(a).map(c=>r([...s,i],c[0])).reduce((c,l)=>c.concat(l),[])},_o=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},Qx=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(o=>o.disconnect()):typeof n=="number"?_o(t,e,n).disconnect():ni(n)?r===void 0?e.forEach(o=>o.disconnect(n)):s===void 0?_o(t,e,r).disconnect(n,0):_o(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(o=>o.disconnect(n)):_o(t,e,r).disconnect(n,0),Jx={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},eP=(t,e,n,r,s,o,i,a)=>class extends t{constructor(l,u){const d=o(l),h={...Jx,...u},p=r(d,h),m=i(d),f=m?n():null;super(l,!1,p,f),this._attack=e(this,m,p.attack),this._knee=e(this,m,p.knee),this._nativeDynamicsCompressorNode=p,this._ratio=e(this,m,p.ratio),this._release=e(this,m,p.release),this._threshold=e(this,m,p.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(l){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=l,l>2)throw this._nativeDynamicsCompressorNode.channelCount=u,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(l){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=l,l==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=u,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},tP=(t,e,n,r,s)=>()=>{const o=new WeakMap,i=async(a,c)=>{let l=n(a);const u=nt(l,c);if(!u){const d={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(c,d)}return o.set(c,l),u?(await t(c,a.attack,l.attack),await t(c,a.knee,l.knee),await t(c,a.ratio,l.ratio),await t(c,a.release,l.release),await t(c,a.threshold,l.threshold)):(await r(c,a.attack,l.attack),await r(c,a.knee,l.knee),await r(c,a.ratio,l.ratio),await r(c,a.release,l.release),await r(c,a.threshold,l.threshold)),await s(a,c,l),l};return{render(a,c){const l=o.get(c);return l!==void 0?Promise.resolve(l):i(a,c)}}},nP=()=>new DOMException("","EncodingError"),rP=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const o=t.document.createElement("script"),i=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(i),c=t.onerror,l=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(u,d,h,p,m)=>{if(d===a||d===t.location.href&&h===1&&p===1)return l(),r(m),!1;if(c!==null)return c(u,d,h,p,m)},o.onerror=()=>{l(),r(new SyntaxError)},o.onload=()=>{l(),n()},o.src=a,o.type="module",s.appendChild(o)}}),sP=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let o=this._listeners.get(r);o===void 0&&(o=t(this,r),typeof r=="function"&&this._listeners.set(r,o)),this._nativeEventTarget.addEventListener(n,o,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const o=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,o===void 0?null:o,s)}},oP=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},iP=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},aP={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},cP=(t,e,n,r,s,o)=>class extends t{constructor(a,c){const l=s(a),u={...aP,...c},d=r(l,u),h=o(l),p=h?n():null;super(a,!1,d,p),this._gain=e(this,h,d.gain,it,ft)}get gain(){return this._gain}},lP=(t,e,n,r,s)=>()=>{const o=new WeakMap,i=async(a,c)=>{let l=n(a);const u=nt(l,c);if(!u){const d={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(c,d)}return o.set(c,l),u?await t(c,a.gain,l.gain):await r(c,a.gain,l.gain),await s(a,c,l),l};return{render(a,c){const l=o.get(c);return l!==void 0?Promise.resolve(l):i(a,c)}}},uP=(t,e)=>n=>e(t,n),dP=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},hP=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},fP=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},pP=t=>e=>t.get(e),Xe=()=>new DOMException("","InvalidStateError"),mP=t=>e=>{const n=t.get(e);if(n===void 0)throw Xe();return n},gP=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},vP=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},fa=()=>new DOMException("","InvalidAccessError"),yP=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw fa();return e.call(t,n,r,s)})(t.getFrequencyResponse)},bP={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},_P=(t,e,n,r,s,o)=>class extends t{constructor(a,c){const l=r(a),u=s(l),d={...bP,...c},h=e(l,u?null:a.baseLatency,d),p=u?n(d.feedback,d.feedforward):null;super(a,!1,h,p),yP(h),this._nativeIIRFilterNode=h,o(this,1)}getFrequencyResponse(a,c,l){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,l)}},ap=(t,e,n,r,s,o,i,a,c,l,u)=>{const d=l.length;let h=a;for(let p=0;p<d;p+=1){let m=n[0]*l[p];for(let f=1;f<s;f+=1){const g=h-f&c-1;m+=n[f]*o[g],m-=t[f]*i[g]}for(let f=s;f<r;f+=1)m+=n[f]*o[h-f&c-1];for(let f=s;f<e;f+=1)m-=t[f]*i[h-f&c-1];o[h]=l[p],i[h]=m,h=h+1&c-1,u[p]=m}return h},wP=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),o=r instanceof Float64Array?r:new Float64Array(r),i=s.length,a=o.length,c=Math.min(i,a);if(s[0]!==1){for(let m=0;m<i;m+=1)o[m]/=s[0];for(let m=1;m<a;m+=1)s[m]/=s[0]}const l=32,u=new Float32Array(l),d=new Float32Array(l),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let m=0;m<p;m+=1){const f=t.getChannelData(m),g=h.getChannelData(m);u.fill(0),d.fill(0),ap(s,i,o,a,c,u,d,0,l,f,g)}return h},xP=(t,e,n,r,s)=>(o,i)=>{const a=new WeakMap;let c=null;const l=async(u,d)=>{let h=null,p=e(u);const m=nt(p,d);if(d.createIIRFilter===void 0?h=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(p=d.createIIRFilter(i,o)),a.set(d,h===null?p:h),h!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const g=new n(u.context.destination.channelCount,u.context.length,d.sampleRate);c=(async()=>{await r(u,g,g.destination);const v=await s(g);return wP(v,d,o,i)})()}const f=await c;return h.buffer=f,h.start(0),h}return await r(u,d,p),p};return{render(u,d){const h=a.get(d);return h!==void 0?Promise.resolve(h):l(u,d)}}},PP=(t,e,n,r,s,o)=>i=>(a,c)=>{const l=t.get(a);if(l===void 0){if(!i&&o(a)){const u=r(a),{outputs:d}=n(a);for(const h of d)if(Zs(h)){const p=r(h[0]);e(u,p,h[1],h[2])}else{const p=s(h[0]);u.disconnect(p,h[1])}}t.set(a,c)}else t.set(a,l+c)},SP=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},MP=(t,e)=>n=>t.has(n)||e(n),CP=(t,e)=>n=>t.has(n)||e(n),TP=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},AP=t=>e=>t!==null&&e instanceof t,EP=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,OP=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,NP=(t,e)=>n=>t(n)||e(n),kP=t=>e=>t!==null&&e instanceof t,IP=t=>t!==null&&t.isSecureContext,RP=(t,e,n,r)=>class extends t{constructor(o,i){const a=n(o),c=e(a,i);if(r(a))throw TypeError();super(o,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},DP={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},jP=(t,e,n,r)=>class extends t{constructor(o,i){const a=n(o);if(r(a))throw new TypeError;const c={...DP,...i},l=e(a,c);super(o,!1,l,null),this._nativeMediaStreamAudioDestinationNode=l}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},LP=(t,e,n,r)=>class extends t{constructor(o,i){const a=n(o),c=e(a,i);if(r(a))throw new TypeError;super(o,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},FP=(t,e,n)=>class extends t{constructor(s,o){const i=n(s),a=e(i,o);super(s,!0,a,null)}},VP=(t,e,n,r,s,o)=>class extends n{constructor(a,c){super(a),this._nativeContext=a,da.set(this,a),r(a)&&s.set(a,new Set),this._destination=new t(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const c=typeof a=="function"?o(this,a):null;this._nativeContext.onstatechange=c;const l=this._nativeContext.onstatechange;this._onstatechange=l!==null&&l===c?a:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Es=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},WP=(t,e)=>(n,r,s)=>{const o=new Set;return n.connect=(i=>(a,c=0,l=0)=>{const u=o.size===0;if(e(a))return i.call(n,a,c,l),t(o,[a,c,l],d=>d[0]===a&&d[1]===c&&d[2]===l,!0),u&&r(),a;i.call(n,a,c),t(o,[a,c],d=>d[0]===a&&d[1]===c,!0),u&&r()})(n.connect),n.disconnect=(i=>(a,c,l)=>{const u=o.size>0;if(a===void 0)i.apply(n),o.clear();else if(typeof a=="number"){i.call(n,a);for(const h of o)h[1]===a&&o.delete(h)}else{e(a)?i.call(n,a,c,l):i.call(n,a,c);for(const h of o)h[0]===a&&(c===void 0||h[1]===c)&&(l===void 0||h[2]===l)&&o.delete(h)}const d=o.size===0;u&&d&&s()})(n.disconnect),n},je=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},Ye=(t,e)=>{je(t,e,"channelCount"),je(t,e,"channelCountMode"),je(t,e,"channelInterpretation")},Ed=t=>typeof t.getFloatTimeDomainData=="function",$P=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},BP=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(Ye(s,r),!(r.maxDecibels>r.minDecibels))throw e();return je(s,r,"fftSize"),je(s,r,"maxDecibels"),je(s,r,"minDecibels"),je(s,r,"smoothingTimeConstant"),t(Ed,()=>Ed(s))||$P(s),s},UP=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Be=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},zP=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,o)=>{if(n)throw Xe();e.call(t,r,s,o),n=!0}})(t.start)},kl=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},Il=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},HP=(t,e,n,r,s,o,i,a,c,l,u)=>(d,h)=>{const p=d.createBufferSource();return Ye(p,h),Be(p,h,"playbackRate"),je(p,h,"buffer"),je(p,h,"loop"),je(p,h,"loopEnd"),je(p,h,"loopStart"),e(n,()=>n(d))||zP(p),e(r,()=>r(d))||c(p),e(s,()=>s(d))||l(p,d),e(o,()=>o(d))||kl(p),e(i,()=>i(d))||u(p,d),e(a,()=>a(d))||Il(p),t(d,p),p},qP=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,GP=(t,e)=>(n,r,s)=>{const o=n.destination;if(o.channelCount!==r)try{o.channelCount=r}catch{}s&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:r});const i=t(n,{channelCount:r,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(i,"channelCount",a=>()=>a.call(i),a=>c=>{a.call(i,c);try{o.channelCount=c}catch(l){if(c>o.maxChannelCount)throw l}}),e(i,"channelCountMode",a=>()=>a.call(i),a=>c=>{a.call(i,c),o.channelCountMode=c}),e(i,"channelInterpretation",a=>()=>a.call(i),a=>c=>{a.call(i,c),o.channelInterpretation=c}),Object.defineProperty(i,"maxChannelCount",{get:()=>o.maxChannelCount}),i.connect(o),i},YP=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,XP=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},KP=(t,e,n,r,s)=>(o,i,a,c,l,u)=>{if(a!==null)try{const d=new a(o,c,u),h=new Map;let p=null;if(Object.defineProperties(d,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>p,set:m=>{typeof p=="function"&&d.removeEventListener("processorerror",p),p=typeof m=="function"?m:null,typeof p=="function"&&d.addEventListener("processorerror",p)}}}),d.addEventListener=(m=>(...f)=>{if(f[0]==="processorerror"){const g=typeof f[1]=="function"?f[1]:typeof f[1]=="object"&&f[1]!==null&&typeof f[1].handleEvent=="function"?f[1].handleEvent:null;if(g!==null){const v=h.get(f[1]);v!==void 0?f[1]=v:(f[1]=S=>{S.type==="error"?(Object.defineProperties(S,{type:{value:"processorerror"}}),g(S)):g(new ErrorEvent(f[0],{...S}))},h.set(g,f[1]))}}return m.call(d,"error",f[1],f[2]),m.call(d,...f)})(d.addEventListener),d.removeEventListener=(m=>(...f)=>{if(f[0]==="processorerror"){const g=h.get(f[1]);g!==void 0&&(h.delete(f[1]),f[1]=g)}return m.call(d,"error",f[1],f[2]),m.call(d,f[0],f[1],f[2])})(d.removeEventListener),u.numberOfOutputs!==0){const m=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(m).connect(o.destination),s(d,()=>m.disconnect(),()=>m.connect(o.destination))}return d}catch(d){throw d.code===11?r():d}if(l===void 0)throw r();return XP(u),e(o,i,l,u)},cp=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),ZP=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:o})=>{r.close(),s.close(),e(o)},r.onmessageerror=({data:o})=>{r.close(),s.close(),n(o)},s.postMessage(t)}),QP=async(t,e)=>{const n=await ZP(e);return new t(n)},JP=(t,e,n,r)=>{let s=Ec.get(t);s===void 0&&(s=new WeakMap,Ec.set(t,s));const o=QP(n,r);return s.set(e,o),o},eS=(t,e,n,r,s,o,i,a,c,l,u,d,h)=>(p,m,f,g)=>{if(g.numberOfInputs===0&&g.numberOfOutputs===0)throw c();const v=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(v.some(H=>H<1))throw c();if(v.length!==g.numberOfOutputs)throw e();if(g.channelCountMode!=="explicit")throw c();const S=g.channelCount*g.numberOfInputs,x=v.reduce((H,K)=>H+K,0),M=f.parameterDescriptors===void 0?0:f.parameterDescriptors.length;if(S+M>6||x>6)throw c();const y=new MessageChannel,b=[],P=[];for(let H=0;H<g.numberOfInputs;H+=1)b.push(i(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),P.push(s(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const C=[];if(f.parameterDescriptors!==void 0)for(const{defaultValue:H,maxValue:K,minValue:_e,name:fe}of f.parameterDescriptors){const re=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:g.parameterData[fe]!==void 0?g.parameterData[fe]:H===void 0?0:H});Object.defineProperties(re.offset,{defaultValue:{get:()=>H===void 0?0:H},maxValue:{get:()=>K===void 0?it:K},minValue:{get:()=>_e===void 0?ft:_e}}),C.push(re)}const E=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,S+M)}),O=cp(m,p.sampleRate),k=a(p,O,S+M,Math.max(1,x)),N=s(p,{channelCount:Math.max(1,x),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,x)}),j=[];for(let H=0;H<g.numberOfOutputs;H+=1)j.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[H]}));for(let H=0;H<g.numberOfInputs;H+=1){b[H].connect(P[H]);for(let K=0;K<g.channelCount;K+=1)P[H].connect(E,K,H*g.channelCount+K)}const R=new op(f.parameterDescriptors===void 0?[]:f.parameterDescriptors.map(({name:H},K)=>{const _e=C[K];return _e.connect(E,0,S+K),_e.start(0),[H,_e.offset]}));E.connect(k);let W=g.channelInterpretation,L=null;const F=g.numberOfOutputs===0?[k]:j,T={get bufferSize(){return O},get channelCount(){return g.channelCount},set channelCount(H){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(H){throw n()},get channelInterpretation(){return W},set channelInterpretation(H){for(const K of b)K.channelInterpretation=H;W=H},get context(){return k.context},get inputs(){return b},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return L},set onprocessorerror(H){typeof L=="function"&&T.removeEventListener("processorerror",L),L=typeof H=="function"?H:null,typeof L=="function"&&T.addEventListener("processorerror",L)},get parameters(){return R},get port(){return y.port2},addEventListener(...H){return k.addEventListener(H[0],H[1],H[2])},connect:t.bind(null,F),disconnect:l.bind(null,F),dispatchEvent(...H){return k.dispatchEvent(H[0])},removeEventListener(...H){return k.removeEventListener(H[0],H[1],H[2])}},A=new Map;y.port1.addEventListener=(H=>(...K)=>{if(K[0]==="message"){const _e=typeof K[1]=="function"?K[1]:typeof K[1]=="object"&&K[1]!==null&&typeof K[1].handleEvent=="function"?K[1].handleEvent:null;if(_e!==null){const fe=A.get(K[1]);fe!==void 0?K[1]=fe:(K[1]=re=>{u(p.currentTime,p.sampleRate,()=>_e(re))},A.set(_e,K[1]))}}return H.call(y.port1,K[0],K[1],K[2])})(y.port1.addEventListener),y.port1.removeEventListener=(H=>(...K)=>{if(K[0]==="message"){const _e=A.get(K[1]);_e!==void 0&&(A.delete(K[1]),K[1]=_e)}return H.call(y.port1,K[0],K[1],K[2])})(y.port1.removeEventListener);let I=null;Object.defineProperty(y.port1,"onmessage",{get:()=>I,set:H=>{typeof I=="function"&&y.port1.removeEventListener("message",I),I=typeof H=="function"?H:null,typeof I=="function"&&(y.port1.addEventListener("message",I),y.port1.start())}}),f.prototype.port=y.port1;let D=null;JP(p,T,f,g).then(H=>D=H);const q=si(g.numberOfInputs,g.channelCount),X=si(g.numberOfOutputs,v),z=f.parameterDescriptors===void 0?[]:f.parameterDescriptors.reduce((H,{name:K})=>({...H,[K]:new Float32Array(128)}),{});let G=!0;const $=()=>{g.numberOfOutputs>0&&k.disconnect(N);for(let H=0,K=0;H<g.numberOfOutputs;H+=1){const _e=j[H];for(let fe=0;fe<v[H];fe+=1)N.disconnect(_e,K+fe,fe);K+=v[H]}},B=new Map;k.onaudioprocess=({inputBuffer:H,outputBuffer:K})=>{if(D!==null){const _e=d(T);for(let fe=0;fe<O;fe+=128){for(let re=0;re<g.numberOfInputs;re+=1)for(let Re=0;Re<g.channelCount;Re+=1)ri(H,q[re],Re,Re,fe);f.parameterDescriptors!==void 0&&f.parameterDescriptors.forEach(({name:re},Re)=>{ri(H,z,re,S+Re,fe)});for(let re=0;re<g.numberOfInputs;re+=1)for(let Re=0;Re<v[re];Re+=1)X[re][Re].byteLength===0&&(X[re][Re]=new Float32Array(128));try{const re=q.map((ot,Rt)=>{if(_e[Rt].size>0)return B.set(Rt,O/128),ot;const Ht=B.get(Rt);return Ht===void 0?[]:(ot.every(wr=>wr.every(ue=>ue===0))&&(Ht===1?B.delete(Rt):B.set(Rt,Ht-1)),ot)});G=u(p.currentTime+fe/p.sampleRate,p.sampleRate,()=>D.process(re,X,z));for(let ot=0,Rt=0;ot<g.numberOfOutputs;ot+=1){for(let Qe=0;Qe<v[ot];Qe+=1)ip(K,X[ot],Qe,Rt+Qe,fe);Rt+=v[ot]}}catch(re){G=!1,T.dispatchEvent(new ErrorEvent("processorerror",{colno:re.colno,filename:re.filename,lineno:re.lineno,message:re.message}))}if(!G){for(let re=0;re<g.numberOfInputs;re+=1){b[re].disconnect(P[re]);for(let Re=0;Re<g.channelCount;Re+=1)P[fe].disconnect(E,Re,re*g.channelCount+Re)}if(f.parameterDescriptors!==void 0){const re=f.parameterDescriptors.length;for(let Re=0;Re<re;Re+=1){const ot=C[Re];ot.disconnect(E,0,S+Re),ot.stop()}}E.disconnect(k),k.onaudioprocess=null,ve?$():le();break}}}};let ve=!1;const ce=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ie=()=>k.connect(ce).connect(p.destination),le=()=>{k.disconnect(ce),ce.disconnect()},He=()=>{if(G){le(),g.numberOfOutputs>0&&k.connect(N);for(let H=0,K=0;H<g.numberOfOutputs;H+=1){const _e=j[H];for(let fe=0;fe<v[H];fe+=1)N.connect(_e,K+fe,fe);K+=v[H]}}ve=!0},st=()=>{G&&(ie(),$()),ve=!1};return ie(),h(T,He,st)},lp=(t,e)=>{const n=t.createBiquadFilter();return Ye(n,e),Be(n,e,"Q"),Be(n,e,"detune"),Be(n,e,"frequency"),Be(n,e,"gain"),je(n,e,"type"),n},tS=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),Ye(s,r),s},nS=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Xe()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Xe()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Xe()}})},Qs=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Ye(n,e),nS(n),n},rS=(t,e,n,r,s)=>(o,i)=>{if(o.createConstantSource===void 0)return n(o,i);const a=o.createConstantSource();return Ye(a,i),Be(a,i,"offset"),e(r,()=>r(o))||kl(a),e(s,()=>s(o))||Il(a),t(o,a),a},Jr=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),sS=(t,e,n,r)=>(s,{offset:o,...i})=>{const a=s.createBuffer(1,2,44100),c=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=n(s,{...i,gain:o}),u=a.getChannelData(0);u[0]=1,u[1]=1,c.buffer=a,c.loop=!0;const d={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(m){l.channelCount=m},get channelCountMode(){return l.channelCountMode},set channelCountMode(m){l.channelCountMode=m},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(m){l.channelInterpretation=m},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return c.onended},set onended(m){c.onended=m},addEventListener(...m){return c.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return c.dispatchEvent(m[0])},removeEventListener(...m){return c.removeEventListener(m[0],m[1],m[2])},start(m=0){c.start.call(c,m)},stop(m=0){c.stop.call(c,m)}},h=()=>c.connect(l),p=()=>c.disconnect(l);return t(s,c),r(Jr(d,l),h,p)},oS=(t,e)=>(n,r)=>{const s=n.createConvolver();if(Ye(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),je(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",o=>()=>o.call(s),o=>i=>{if(i>2)throw t();return o.call(s,i)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",o=>()=>o.call(s),o=>i=>{if(i==="max")throw t();return o.call(s,i)}),s},up=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Ye(n,e),Be(n,e,"delayTime"),n},iS=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(Ye(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Be(r,n,"attack"),Be(r,n,"knee"),Be(r,n,"ratio"),Be(r,n,"release"),Be(r,n,"threshold"),r},mt=(t,e)=>{const n=t.createGain();return Ye(n,e),Be(n,e,"gain"),n},aS=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return Ye(s,r),s};function cS(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function lS(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Od(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=lS(n,e),n[0]+=t[r];return n}const uS=(t,e,n,r)=>(s,o,{channelCount:i,channelCountMode:a,channelInterpretation:c,feedback:l,feedforward:u})=>{const d=cp(o,s.sampleRate),h=l instanceof Float64Array?l:new Float64Array(l),p=u instanceof Float64Array?u:new Float64Array(u),m=h.length,f=p.length,g=Math.min(m,f);if(m===0||m>20)throw r();if(h[0]===0)throw e();if(f===0||f>20)throw r();if(p[0]===0)throw e();if(h[0]!==1){for(let C=0;C<f;C+=1)p[C]/=h[0];for(let C=1;C<m;C+=1)h[C]/=h[0]}const v=n(s,d,i,i);v.channelCount=i,v.channelCountMode=a,v.channelInterpretation=c;const S=32,x=[],M=[],y=[];for(let C=0;C<i;C+=1){x.push(0);const E=new Float32Array(S),O=new Float32Array(S);E.fill(0),O.fill(0),M.push(E),y.push(O)}v.onaudioprocess=C=>{const E=C.inputBuffer,O=C.outputBuffer,k=E.numberOfChannels;for(let N=0;N<k;N+=1){const j=E.getChannelData(N),R=O.getChannelData(N);x[N]=ap(h,m,p,f,g,M[N],y[N],x[N],S,j,R)}};const b=s.sampleRate/2;return Jr({get bufferSize(){return d},get channelCount(){return v.channelCount},set channelCount(C){v.channelCount=C},get channelCountMode(){return v.channelCountMode},set channelCountMode(C){v.channelCountMode=C},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(C){v.channelInterpretation=C},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(...C){return v.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return v.dispatchEvent(C[0])},getFrequencyResponse(C,E,O){if(C.length!==E.length||E.length!==O.length)throw t();const k=C.length;for(let N=0;N<k;N+=1){const j=-Math.PI*(C[N]/b),R=[Math.cos(j),Math.sin(j)],W=Od(p,R),L=Od(h,R),F=cS(W,L);E[N]=Math.sqrt(F[0]*F[0]+F[1]*F[1]),O[N]=Math.atan2(F[1],F[0])}},removeEventListener(...C){return v.removeEventListener(C[0],C[1],C[2])}},v)},dS=(t,e)=>t.createMediaElementSource(e.mediaElement),hS=(t,e)=>{const n=t.createMediaStreamDestination();return Ye(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},fS=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((o,i)=>o.id<i.id?-1:o.id>i.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},pS=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),o=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return o},mS=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,gS=(t,e,n,r,s,o)=>(i,a)=>{const c=i.createOscillator();return Ye(c,a),Be(c,a,"detune"),Be(c,a,"frequency"),a.periodicWave!==void 0?c.setPeriodicWave(a.periodicWave):je(c,a,"type"),e(n,()=>n(i))||kl(c),e(r,()=>r(i))||o(c,i),e(s,()=>s(i))||Il(c),t(i,c),c},vS=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(Ye(r,n),Be(r,n,"orientationX"),Be(r,n,"orientationY"),Be(r,n,"orientationZ"),Be(r,n,"positionX"),Be(r,n,"positionY"),Be(r,n,"positionZ"),je(r,n,"coneInnerAngle"),je(r,n,"coneOuterAngle"),je(r,n,"coneOuterGain"),je(r,n,"distanceModel"),je(r,n,"maxDistance"),je(r,n,"panningModel"),je(r,n,"refDistance"),je(r,n,"rolloffFactor"),r)},yS=(t,e,n,r,s,o,i,a,c,l)=>(u,{coneInnerAngle:d,coneOuterAngle:h,coneOuterGain:p,distanceModel:m,maxDistance:f,orientationX:g,orientationY:v,orientationZ:S,panningModel:x,positionX:M,positionY:y,positionZ:b,refDistance:P,rolloffFactor:C,...E})=>{const O=u.createPanner();if(E.channelCount>2||E.channelCountMode==="max")throw i();Ye(O,E);const k={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},N=n(u,{...k,channelInterpretation:"speakers",numberOfInputs:6}),j=r(u,{...E,gain:1}),R=r(u,{...k,gain:1}),W=r(u,{...k,gain:0}),L=r(u,{...k,gain:0}),F=r(u,{...k,gain:0}),T=r(u,{...k,gain:0}),A=r(u,{...k,gain:0}),I=s(u,256,6,1),D=o(u,{...k,curve:new Float32Array([1,1]),oversample:"none"});let V=[g,v,S],q=[M,y,b];const X=new Float32Array(1);I.onaudioprocess=({inputBuffer:B})=>{const ve=[c(B,X,0),c(B,X,1),c(B,X,2)];ve.some((ie,le)=>ie!==V[le])&&(O.setOrientation(...ve),V=ve);const ce=[c(B,X,3),c(B,X,4),c(B,X,5)];ce.some((ie,le)=>ie!==q[le])&&(O.setPosition(...ce),q=ce)},Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(A.gain,"defaultValue",{get:()=>0});const z={get bufferSize(){},get channelCount(){return O.channelCount},set channelCount(B){if(B>2)throw i();j.channelCount=B,O.channelCount=B},get channelCountMode(){return O.channelCountMode},set channelCountMode(B){if(B==="max")throw i();j.channelCountMode=B,O.channelCountMode=B},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(B){j.channelInterpretation=B,O.channelInterpretation=B},get coneInnerAngle(){return O.coneInnerAngle},set coneInnerAngle(B){O.coneInnerAngle=B},get coneOuterAngle(){return O.coneOuterAngle},set coneOuterAngle(B){O.coneOuterAngle=B},get coneOuterGain(){return O.coneOuterGain},set coneOuterGain(B){if(B<0||B>1)throw e();O.coneOuterGain=B},get context(){return O.context},get distanceModel(){return O.distanceModel},set distanceModel(B){O.distanceModel=B},get inputs(){return[j]},get maxDistance(){return O.maxDistance},set maxDistance(B){if(B<0)throw new RangeError;O.maxDistance=B},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},get orientationX(){return R.gain},get orientationY(){return W.gain},get orientationZ(){return L.gain},get panningModel(){return O.panningModel},set panningModel(B){O.panningModel=B},get positionX(){return F.gain},get positionY(){return T.gain},get positionZ(){return A.gain},get refDistance(){return O.refDistance},set refDistance(B){if(B<0)throw new RangeError;O.refDistance=B},get rolloffFactor(){return O.rolloffFactor},set rolloffFactor(B){if(B<0)throw new RangeError;O.rolloffFactor=B},addEventListener(...B){return j.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return j.dispatchEvent(B[0])},removeEventListener(...B){return j.removeEventListener(B[0],B[1],B[2])}};d!==z.coneInnerAngle&&(z.coneInnerAngle=d),h!==z.coneOuterAngle&&(z.coneOuterAngle=h),p!==z.coneOuterGain&&(z.coneOuterGain=p),m!==z.distanceModel&&(z.distanceModel=m),f!==z.maxDistance&&(z.maxDistance=f),g!==z.orientationX.value&&(z.orientationX.value=g),v!==z.orientationY.value&&(z.orientationY.value=v),S!==z.orientationZ.value&&(z.orientationZ.value=S),x!==z.panningModel&&(z.panningModel=x),M!==z.positionX.value&&(z.positionX.value=M),y!==z.positionY.value&&(z.positionY.value=y),b!==z.positionZ.value&&(z.positionZ.value=b),P!==z.refDistance&&(z.refDistance=P),C!==z.rolloffFactor&&(z.rolloffFactor=C),(V[0]!==1||V[1]!==0||V[2]!==0)&&O.setOrientation(...V),(q[0]!==0||q[1]!==0||q[2]!==0)&&O.setPosition(...q);const G=()=>{j.connect(O),t(j,D,0,0),D.connect(R).connect(N,0,0),D.connect(W).connect(N,0,1),D.connect(L).connect(N,0,2),D.connect(F).connect(N,0,3),D.connect(T).connect(N,0,4),D.connect(A).connect(N,0,5),N.connect(I).connect(u.destination)},$=()=>{j.disconnect(O),a(j,D,0,0),D.disconnect(R),R.disconnect(N),D.disconnect(W),W.disconnect(N),D.disconnect(L),L.disconnect(N),D.disconnect(F),F.disconnect(N),D.disconnect(T),T.disconnect(N),D.disconnect(A),A.disconnect(N),N.disconnect(I),I.disconnect(u.destination)};return l(Jr(z,O),G,$)},bS=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const o=r instanceof Float32Array?r:new Float32Array(r),i=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(i,o,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},Js=(t,e,n,r)=>t.createScriptProcessor(e,n,r),_S=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const o=n.createStereoPanner();return Ye(o,r),Be(o,r,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>s,set:i=>{if(i!==s)throw e()}}),o},wS=(t,e,n,r,s,o)=>{const a=new Float32Array([1,1]),c=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...l,oversample:"none"},d=(m,f,g,v)=>{const S=new Float32Array(16385),x=new Float32Array(16385);for(let E=0;E<16385;E+=1){const O=E/16384*c;S[E]=Math.cos(O),x[E]=Math.sin(O)}const M=n(m,{...l,gain:0}),y=r(m,{...u,curve:S}),b=r(m,{...u,curve:a}),P=n(m,{...l,gain:0}),C=r(m,{...u,curve:x});return{connectGraph(){f.connect(M),f.connect(b.inputs===void 0?b:b.inputs[0]),f.connect(P),b.connect(g),g.connect(y.inputs===void 0?y:y.inputs[0]),g.connect(C.inputs===void 0?C:C.inputs[0]),y.connect(M.gain),C.connect(P.gain),M.connect(v,0,0),P.connect(v,0,1)},disconnectGraph(){f.disconnect(M),f.disconnect(b.inputs===void 0?b:b.inputs[0]),f.disconnect(P),b.disconnect(g),g.disconnect(y.inputs===void 0?y:y.inputs[0]),g.disconnect(C.inputs===void 0?C:C.inputs[0]),y.disconnect(M.gain),C.disconnect(P.gain),M.disconnect(v,0,0),P.disconnect(v,0,1)}}},h=(m,f,g,v)=>{const S=new Float32Array(16385),x=new Float32Array(16385),M=new Float32Array(16385),y=new Float32Array(16385),b=Math.floor(16385/2);for(let F=0;F<16385;F+=1)if(F>b){const T=(F-b)/(16384-b)*c;S[F]=Math.cos(T),x[F]=Math.sin(T),M[F]=0,y[F]=1}else{const T=F/(16384-b)*c;S[F]=1,x[F]=0,M[F]=Math.cos(T),y[F]=Math.sin(T)}const P=e(m,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),C=n(m,{...l,gain:0}),E=r(m,{...u,curve:S}),O=n(m,{...l,gain:0}),k=r(m,{...u,curve:x}),N=r(m,{...u,curve:a}),j=n(m,{...l,gain:0}),R=r(m,{...u,curve:M}),W=n(m,{...l,gain:0}),L=r(m,{...u,curve:y});return{connectGraph(){f.connect(P),f.connect(N.inputs===void 0?N:N.inputs[0]),P.connect(C,0),P.connect(O,0),P.connect(j,1),P.connect(W,1),N.connect(g),g.connect(E.inputs===void 0?E:E.inputs[0]),g.connect(k.inputs===void 0?k:k.inputs[0]),g.connect(R.inputs===void 0?R:R.inputs[0]),g.connect(L.inputs===void 0?L:L.inputs[0]),E.connect(C.gain),k.connect(O.gain),R.connect(j.gain),L.connect(W.gain),C.connect(v,0,0),j.connect(v,0,0),O.connect(v,0,1),W.connect(v,0,1)},disconnectGraph(){f.disconnect(P),f.disconnect(N.inputs===void 0?N:N.inputs[0]),P.disconnect(C,0),P.disconnect(O,0),P.disconnect(j,1),P.disconnect(W,1),N.disconnect(g),g.disconnect(E.inputs===void 0?E:E.inputs[0]),g.disconnect(k.inputs===void 0?k:k.inputs[0]),g.disconnect(R.inputs===void 0?R:R.inputs[0]),g.disconnect(L.inputs===void 0?L:L.inputs[0]),E.disconnect(C.gain),k.disconnect(O.gain),R.disconnect(j.gain),L.disconnect(W.gain),C.disconnect(v,0,0),j.disconnect(v,0,0),O.disconnect(v,0,1),W.disconnect(v,0,1)}}},p=(m,f,g,v,S)=>{if(f===1)return d(m,g,v,S);if(f===2)return h(m,g,v,S);throw s()};return(m,{channelCount:f,channelCountMode:g,pan:v,...S})=>{if(g==="max")throw s();const x=t(m,{...S,channelCount:1,channelCountMode:g,numberOfInputs:2}),M=n(m,{...S,channelCount:f,channelCountMode:g,gain:1}),y=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:v});let{connectGraph:b,disconnectGraph:P}=p(m,f,M,y,x);Object.defineProperty(y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(y.gain,"maxValue",{get:()=>1}),Object.defineProperty(y.gain,"minValue",{get:()=>-1});const C={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(N){M.channelCount!==N&&(E&&P(),{connectGraph:b,disconnectGraph:P}=p(m,N,M,y,x),E&&b()),M.channelCount=N},get channelCountMode(){return M.channelCountMode},set channelCountMode(N){if(N==="clamped-max"||N==="max")throw s();M.channelCountMode=N},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(N){M.channelInterpretation=N},get context(){return M.context},get inputs(){return[M]},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get pan(){return y.gain},addEventListener(...N){return M.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return M.dispatchEvent(N[0])},removeEventListener(...N){return M.removeEventListener(N[0],N[1],N[2])}};let E=!1;const O=()=>{b(),E=!0},k=()=>{P(),E=!1};return o(Jr(C,x),O,k)}},xS=(t,e,n,r,s,o,i)=>(a,c)=>{const l=a.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,c);Ye(l,c);const u=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(u!==null&&u.length<2)throw e();je(l,{curve:u},"curve"),je(l,c,"oversample");let d=null,h=!1;return i(l,"curve",f=>()=>f.call(l),f=>g=>(f.call(l,g),h&&(r(g)&&d===null?d=t(a,l):!r(g)&&d!==null&&(d(),d=null)),g)),s(l,()=>{h=!0,r(l.curve)&&(d=t(a,l))},()=>{h=!1,d!==null&&(d(),d=null)})},PS=(t,e,n,r,s)=>(o,{curve:i,oversample:a,...c})=>{const l=o.createWaveShaper(),u=o.createWaveShaper();Ye(l,c),Ye(u,c);const d=n(o,{...c,gain:1}),h=n(o,{...c,gain:-1}),p=n(o,{...c,gain:1}),m=n(o,{...c,gain:-1});let f=null,g=!1,v=null;const S={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(y){d.channelCount=y,h.channelCount=y,l.channelCount=y,p.channelCount=y,u.channelCount=y,m.channelCount=y},get channelCountMode(){return l.channelCountMode},set channelCountMode(y){d.channelCountMode=y,h.channelCountMode=y,l.channelCountMode=y,p.channelCountMode=y,u.channelCountMode=y,m.channelCountMode=y},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(y){d.channelInterpretation=y,h.channelInterpretation=y,l.channelInterpretation=y,p.channelInterpretation=y,u.channelInterpretation=y,m.channelInterpretation=y},get context(){return l.context},get curve(){return v},set curve(y){if(y!==null&&y.length<2)throw e();if(y===null)l.curve=y,u.curve=y;else{const b=y.length,P=new Float32Array(b+2-b%2),C=new Float32Array(b+2-b%2);P[0]=y[0],C[0]=-y[b-1];const E=Math.ceil((b+1)/2),O=(b+1)/2-1;for(let k=1;k<E;k+=1){const N=k/E*O,j=Math.floor(N),R=Math.ceil(N);P[k]=j===R?y[j]:(1-(N-j))*y[j]+(1-(R-N))*y[R],C[k]=j===R?-y[b-1-j]:-((1-(N-j))*y[b-1-j])-(1-(R-N))*y[b-1-R]}P[E]=b%2===1?y[E-1]:(y[E-2]+y[E-1])/2,l.curve=P,u.curve=C}v=y,g&&(r(v)&&f===null?f=t(o,d):f!==null&&(f(),f=null))},get inputs(){return[d]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(y){l.oversample=y,u.oversample=y},addEventListener(...y){return d.addEventListener(y[0],y[1],y[2])},dispatchEvent(...y){return d.dispatchEvent(y[0])},removeEventListener(...y){return d.removeEventListener(y[0],y[1],y[2])}};i!==null&&(S.curve=i instanceof Float32Array?i:new Float32Array(i)),a!==S.oversample&&(S.oversample=a);const x=()=>{d.connect(l).connect(p),d.connect(h).connect(u).connect(m).connect(p),g=!0,r(v)&&(f=t(o,d))},M=()=>{d.disconnect(l),l.disconnect(p),d.disconnect(h),h.disconnect(u),u.disconnect(m),m.disconnect(p),g=!1,f!==null&&(f(),f=null)};return s(Jr(S,p),x,M)},dt=()=>new DOMException("","NotSupportedError"),SS={numberOfChannels:1},MS=(t,e,n,r,s)=>class extends t{constructor(i,a,c){let l;if(typeof i=="number"&&a!==void 0&&c!==void 0)l={length:a,numberOfChannels:i,sampleRate:c};else if(typeof i=="object")l=i;else throw new Error("The given parameters are not valid.");const{length:u,numberOfChannels:d,sampleRate:h}={...SS,...l},p=r(d,u,h);e(Es,()=>Es(p))||p.addEventListener("statechange",(()=>{let m=0;const f=g=>{this._state==="running"&&(m>0?(p.removeEventListener("statechange",f),g.stopImmediatePropagation(),this._waitForThePromiseToSettle(g)):m+=1)};return f})()),super(p,d),this._length=u,this._nativeOfflineAudioContext=p,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,tp(this)}))}_waitForThePromiseToSettle(i){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(i):setTimeout(()=>this._waitForThePromiseToSettle(i))}},CS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},TS=(t,e,n,r,s,o,i)=>class extends t{constructor(c,l){const u=s(c),d={...CS,...l},h=n(u,d),p=o(u),m=p?r():null,f=c.sampleRate/2;super(c,!1,h,m),this._detune=e(this,p,h.detune,153600,-153600),this._frequency=e(this,p,h.frequency,f,-f),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=m,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const l=typeof c=="function"?i(this,c):null;this._nativeOscillatorNode.onended=l;const u=this._nativeOscillatorNode.onended;this._onended=u!==null&&u===l?c:u}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){Br(this);const l=()=>{this._nativeOscillatorNode.removeEventListener("ended",l),pn(this)&&Xs(this)};this._nativeOscillatorNode.addEventListener("ended",l)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}},AS=(t,e,n,r,s)=>()=>{const o=new WeakMap;let i=null,a=null,c=null;const l=async(u,d)=>{let h=n(u);const p=nt(h,d);if(!p){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:i===null?void 0:i,type:h.type};h=e(d,m),a!==null&&h.start(a),c!==null&&h.stop(c)}return o.set(d,h),p?(await t(d,u.detune,h.detune),await t(d,u.frequency,h.frequency)):(await r(d,u.detune,h.detune),await r(d,u.frequency,h.frequency)),await s(u,d,h),h};return{set periodicWave(u){i=u},set start(u){a=u},set stop(u){c=u},render(u,d){const h=o.get(d);return h!==void 0?Promise.resolve(h):l(u,d)}}},ES={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},OS=(t,e,n,r,s,o,i)=>class extends t{constructor(c,l){const u=s(c),d={...ES,...l},h=n(u,d),p=o(u),m=p?r():null;super(c,!1,h,m),this._nativePannerNode=h,this._orientationX=e(this,p,h.orientationX,it,ft),this._orientationY=e(this,p,h.orientationY,it,ft),this._orientationZ=e(this,p,h.orientationZ,it,ft),this._positionX=e(this,p,h.positionX,it,ft),this._positionY=e(this,p,h.positionY,it,ft),this._positionZ=e(this,p,h.positionZ,it,ft),i(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}},NS=(t,e,n,r,s,o,i,a,c,l)=>()=>{const u=new WeakMap;let d=null;const h=async(p,m)=>{let f=null,g=o(p);const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},S={...v,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},x=nt(g,m);if("bufferSize"in g)f=r(m,{...v,gain:1});else if(!x){const M={...S,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=s(m,M)}if(u.set(m,f===null?g:f),f!==null){if(d===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new i(6,p.context.length,m.sampleRate),N=e(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});N.connect(k.destination),d=(async()=>{const j=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(async(R,W)=>{const L=n(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:W===0?1:0});return await a(k,R,L.offset),L}));for(let R=0;R<6;R+=1)j[R].connect(N,0,R),j[R].start(0);return l(k)})()}const M=await d,y=r(m,{...v,gain:1});await c(p,m,y);const b=[];for(let k=0;k<M.numberOfChannels;k+=1)b.push(M.getChannelData(k));let P=[b[0][0],b[1][0],b[2][0]],C=[b[3][0],b[4][0],b[5][0]],E=r(m,{...v,gain:1}),O=s(m,{...S,orientationX:P[0],orientationY:P[1],orientationZ:P[2],positionX:C[0],positionY:C[1],positionZ:C[2]});y.connect(E).connect(O.inputs[0]),O.connect(f);for(let k=128;k<M.length;k+=128){const N=[b[0][k],b[1][k],b[2][k]],j=[b[3][k],b[4][k],b[5][k]];if(N.some((R,W)=>R!==P[W])||j.some((R,W)=>R!==C[W])){P=N,C=j;const R=k/m.sampleRate;E.gain.setValueAtTime(0,R),E=r(m,{...v,gain:0}),O=s(m,{...S,orientationX:P[0],orientationY:P[1],orientationZ:P[2],positionX:C[0],positionY:C[1],positionZ:C[2]}),E.gain.setValueAtTime(1,R),y.connect(E).connect(O.inputs[0]),O.connect(f)}}return f}return x?(await t(m,p.orientationX,g.orientationX),await t(m,p.orientationY,g.orientationY),await t(m,p.orientationZ,g.orientationZ),await t(m,p.positionX,g.positionX),await t(m,p.positionY,g.positionY),await t(m,p.positionZ,g.positionZ)):(await a(m,p.orientationX,g.orientationX),await a(m,p.orientationY,g.orientationY),await a(m,p.orientationZ,g.orientationZ),await a(m,p.positionX,g.positionX),await a(m,p.positionY,g.positionY),await a(m,p.positionZ,g.positionZ)),Qr(g)?await c(p,m,g.inputs[0]):await c(p,m,g),g};return{render(p,m){const f=u.get(m);return f!==void 0?Promise.resolve(f):h(p,m)}}},kS={disableNormalization:!1},IS=(t,e,n,r)=>class dp{constructor(o,i){const a=e(o),c=r({...kS,...i}),l=t(a,c);return n.add(l),l}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===dp.prototype||n.has(o)}},RS=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),DS=(t,e,n)=>async(r,s,o)=>{const i=t(r);await Promise.all(i.activeInputs.map((a,c)=>Array.from(a).map(async([l,u])=>{const h=await e(l).render(l,s),p=r.context.destination;!n(l)&&(r!==p||!n(r))&&h.connect(o,u,c)})).reduce((a,c)=>[...a,...c],[]))},jS=(t,e,n)=>async(r,s,o)=>{const i=e(r);await Promise.all(Array.from(i.activeInputs).map(async([a,c])=>{const u=await t(a).render(a,s);n(a)||u.connect(o,c)}))},LS=(t,e,n,r)=>s=>t(Es,()=>Es(s))?Promise.resolve(t(r,r)).then(o=>{if(!o){const i=n(s,512,0,1);s.oncomplete=()=>{i.onaudioprocess=null,i.disconnect()},i.onaudioprocess=()=>s.currentTime,i.connect(s.destination)}return s.startRendering()}):new Promise(o=>{const i=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{i.disconnect(),o(a.renderedBuffer)},i.connect(s.destination),s.startRendering()}),FS=t=>(e,n)=>{t.set(e,n)},VS=t=>(e,n)=>t.set(e,n),WS=(t,e,n,r,s,o,i,a)=>(c,l)=>n(c).render(c,l).then(()=>Promise.all(Array.from(r(l)).map(u=>n(u).render(u,l)))).then(()=>s(l)).then(u=>(typeof u.copyFromChannel!="function"?(i(u),El(u)):e(o,()=>o(u))||a(u),t.add(u),u)),$S={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},BS=(t,e,n,r,s,o)=>class extends t{constructor(a,c){const l=s(a),u={...$S,...c},d=n(l,u),h=o(l),p=h?r():null;super(a,!1,d,p),this._pan=e(this,h,d.pan)}get pan(){return this._pan}},US=(t,e,n,r,s)=>()=>{const o=new WeakMap,i=async(a,c)=>{let l=n(a);const u=nt(l,c);if(!u){const d={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(c,d)}return o.set(c,l),u?await t(c,a.pan,l.pan):await r(c,a.pan,l.pan),Qr(l)?await s(a,c,l.inputs[0]):await s(a,c,l),l};return{render(a,c){const l=o.get(c);return l!==void 0?Promise.resolve(l):i(a,c)}}},zS=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},HS=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let o=!1,i=!1;try{await r.audioWorklet.addModule(s);const a=new t(r,"a",{numberOfOutputs:0}),c=r.createOscillator();a.port.onmessage=()=>o=!0,a.onprocessorerror=()=>i=!0,c.connect(a),c.start(0),await r.startRendering(),await new Promise(l=>setTimeout(l))}catch{}finally{URL.revokeObjectURL(s)}return o&&!i},qS=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},GS=()=>new DOMException("","UnknownError"),YS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},XS=(t,e,n,r,s,o,i)=>class extends t{constructor(c,l){const u=s(c),d={...YS,...l},h=n(u,d),m=o(u)?r():null;super(c,!0,h,m),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,i(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}},KS=(t,e,n)=>()=>{const r=new WeakMap,s=async(o,i)=>{let a=e(o);if(!nt(a,i)){const l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(i,l)}return r.set(i,a),Qr(a)?await n(o,i,a.inputs[0]):await n(o,i,a),a};return{render(o,i){const a=r.get(i);return a!==void 0?Promise.resolve(a):s(o,i)}}},ZS=()=>typeof window>"u"?null:window,QS=(t,e)=>n=>{n.copyFromChannel=(r,s,o=0)=>{const i=t(o),a=t(s);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=r.length;for(let d=i<0?-i:0;d+i<c&&d<u;d+=1)r[d]=l[d+i]},n.copyToChannel=(r,s,o=0)=>{const i=t(o),a=t(s);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=r.length;for(let d=i<0?-i:0;d+i<c&&d<u;d+=1)l[d+i]=r[d]}},JS=t=>e=>{e.copyFromChannel=(n=>(r,s,o=0)=>{const i=t(o),a=t(s);if(i<e.length)return n.call(e,r,a,i)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,o=0)=>{const i=t(o),a=t(s);if(i<e.length)return n.call(e,r,a,i)})(e.copyToChannel)},eM=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const o=s.call(e);return o===r?null:o},s=>o=>s.call(e,o===null?r:o))},tM=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let c=0;c<a;c+=1)s.connect(r,0,c)},()=>s.disconnect(r))},hp=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),fp=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},eo=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:o,set:i}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(o),set:r(i)})},nM=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),rM=t=>({...t,channelCount:t.numberOfOutputs}),sM=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},pp=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;pp(t,e,n+1e-7)}},oM=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},iM=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},aM=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Rl=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},mp=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Dl=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},cM=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},lM=t=>{t.start=(e=>(n=0,r=0,s)=>{const o=t.buffer,i=o===null?r:Math.min(o.duration,r);o!==null&&i>o.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,i,s)})(t.start)},gp=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Jr(t,n),t.stop=(s=>{let o=!1;return(i=0)=>{if(o)try{s.call(t,i)}catch{n.gain.setValueAtTime(0,i)}else s.call(t,i),o=!0}})(t.stop)},es=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},uM=O0(vr),dM=j0(vr),hM=Yx(ha),vp=new WeakMap,fM=hP(vp),$t=Sx(new Map,new WeakMap),nn=ZS(),yp=BP($t,on),jl=dP(at),Je=DS(at,jl,cr),pM=$0(yp,Ie,Je),Ee=mP(da),Mn=mS(nn),Pe=kP(Mn),bp=new WeakMap,_p=sP(es),to=qP(nn),Ll=AP(to),Fl=EP(nn),wp=OP(nn),Os=YP(nn),ze=hx(N0(Yf),D0(uM,dM,ei,hM,ti,at,fM,Ys,Ie,vr,pn,cr,jo),$t,PP(Tc,ti,at,Ie,As,pn),on,fa,dt,zx(ei,Tc,at,Ie,As,Ee,pn,Pe),Zx(bp,at,Ft),_p,Ee,Ll,Fl,wp,Pe,Os),mM=W0(ze,pM,on,yp,Ee,Pe),Vl=new WeakSet,Nd=UP(nn),xp=Lx(new Uint32Array(1)),Wl=QS(xp,on),$l=JS(xp),Pp=U0(Vl,$t,dt,Nd,Mn,zS(Nd),Wl,$l),pa=L0(mt),Sp=jS(jl,Ks,cr),an=Nx(Sp),ts=HP(pa,$t,oM,iM,aM,Rl,mp,Dl,lM,eM(eo),gp),cn=RS(fP(Ks),Sp),gM=q0(an,ts,Ie,cn,Je),Bt=fx(k0(Xf),bp,Al,px,S0,M0,C0,T0,A0,Sc,qf,to,pp),vM=H0(ze,gM,Bt,Xe,ts,Ee,Pe,es),yM=tx(ze,nx,on,Xe,GP(mt,eo),Ee,Pe,Je),bM=Px(an,lp,Ie,cn,Je),yr=VS(vp),_M=xx(ze,Bt,bM,fa,lp,Ee,Pe,yr),Gn=WP(vr,Fl),wM=tM(Xe,Gn),Yn=tS(to,wM),xM=Tx(Yn,Ie,Je),PM=Cx(ze,xM,Yn,Ee,Pe),SM=Ox(Qs,Ie,Je),MM=Ex(ze,SM,Qs,Ee,Pe,rM),CM=sS(pa,ts,mt,Gn),ns=rS(pa,$t,CM,Rl,Dl),TM=jx(an,ns,Ie,cn,Je),AM=Dx(ze,Bt,TM,ns,Ee,Pe,es),Mp=oS(dt,eo),EM=Wx(Mp,Ie,Je),OM=Vx(ze,EM,Mp,Ee,Pe,yr),NM=Gx(an,up,Ie,cn,Je),kM=qx(ze,Bt,NM,up,Ee,Pe,yr),Cp=iS(dt),IM=tP(an,Cp,Ie,cn,Je),RM=eP(ze,Bt,IM,Cp,dt,Ee,Pe,yr),DM=lP(an,mt,Ie,cn,Je),jM=cP(ze,Bt,DM,mt,Ee,Pe),LM=uS(fa,Xe,Js,dt),ma=LS($t,mt,Js,qS(mt,Mn)),FM=xP(ts,Ie,Mn,Je,ma),VM=aS(LM),WM=_P(ze,VM,FM,Ee,Pe,yr),$M=rx(Bt,Yn,ns,Js,dt,hp,Pe,eo),Tp=new WeakMap,BM=VP(yM,$M,_p,Pe,Tp,es),Ap=gS(pa,$t,Rl,mp,Dl,gp),UM=AS(an,Ap,Ie,cn,Je),zM=TS(ze,Bt,Ap,UM,Ee,Pe,es),Ep=Ix(ts),HM=PS(Ep,Xe,mt,fp,Gn),ga=xS(Ep,Xe,HM,fp,Gn,to,eo),qM=yS(ei,Xe,Yn,mt,Js,ga,dt,ti,hp,Gn),Op=vS(qM),GM=NS(an,Yn,ns,mt,Op,Ie,Mn,cn,Je,ma),YM=OS(ze,Bt,Op,GM,Ee,Pe,yr),XM=bS(on),KM=IS(XM,Ee,new WeakSet,sM),ZM=wS(Yn,Qs,mt,ga,dt,Gn),Np=_S(ZM,dt),QM=US(an,Np,Ie,cn,Je),JM=BS(ze,Bt,Np,QM,Ee,Pe),eC=KS(ga,Ie,Je),tC=XS(ze,Xe,ga,eC,Ee,Pe,yr),kp=IP(nn),Bl=oP(nn),Ip=new WeakMap,nC=gP(Ip,Mn),rC=kp?R0($t,dt,rP(nn),Bl,iP(E0),Ee,nC,Pe,Os,new WeakMap,new WeakMap,HS(Os,Mn),nn):void 0,sC=NP(Ll,Pe),oC=Ux(Vl,$t,Bx,nP,new WeakSet,Ee,sC,Qo,Es,Wl,$l),Rp=_x(rC,mM,Pp,vM,_M,PM,MM,AM,OM,oC,kM,RM,jM,WM,BM,zM,YM,KM,JM,tC),iC=RP(ze,dS,Ee,Pe),aC=jP(ze,hS,Ee,Pe),cC=LP(ze,fS,Ee,Pe),lC=pS(Xe,Pe),uC=FP(ze,lC,Ee),dC=ex(Rp,Xe,dt,GS,iC,aC,cC,uC,to),Ul=vP(Tp),hC=F0(Ul),Dp=kx(on),fC=Xx(Ul),jp=Qx(on),Lp=new WeakMap,pC=uP(Lp,Ft),mC=eS(Dp,on,Xe,Yn,Qs,ns,mt,Js,dt,jp,Bl,pC,Gn),gC=KP(Xe,mC,mt,dt,Gn),vC=bx(an,Dp,ts,Yn,Qs,ns,mt,fC,jp,Bl,Ie,Os,Mn,cn,Je,ma),yC=pP(Ip),bC=FS(Lp),kd=kp?gx(hC,ze,Bt,vC,gC,at,yC,Ee,Pe,Os,nM,bC,cM,es):void 0,_C=$x(dt,Mn),wC=WS(Vl,$t,jl,Ul,ma,Qo,Wl,$l),xC=MS(Rp,$t,Xe,_C,wC),PC=SP(da,Ll),SC=MP(Tl,Fl),MC=CP(Al,wp),CC=TP(da,Pe);function Ot(t){return t===void 0}function de(t){return t!==void 0}function TC(t){return typeof t=="function"}function Vn(t){return typeof t=="number"}function sr(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function AC(t){return typeof t=="boolean"}function wt(t){return Array.isArray(t)}function mn(t){return typeof t=="string"}function wo(t){return mn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Z(t,e){if(!t)throw new Error(e)}function Wn(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Fp(t){!t.isOffline&&t.state!=="running"&&va('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Vp=!1,Id=!1;function Rd(t){Vp=t}function EC(t){Ot(t)&&Vp&&!Id&&(Id=!0,va("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Wp=console;function OC(...t){Wp.log(...t)}function va(...t){Wp.warn(...t)}function NC(t){return new dC(t)}function kC(t,e,n){return new xC(t,e,n)}const or=typeof self=="object"?self:null,IC=or&&(or.hasOwnProperty("AudioContext")||or.hasOwnProperty("webkitAudioContext"));function RC(t,e,n){return Z(de(kd),"This node only works in a secure context (https or localhost)"),new kd(t,e,n)}var Kt=function(){return Kt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Kt.apply(this,arguments)};function $p(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Ut(t,e,n,r){var s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function qe(t,e,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(u){try{l(r.next(u))}catch(d){i(d)}}function c(u){try{l(r.throw(u))}catch(d){i(d)}}function l(u){u.done?o(u.value):s(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function DC(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}class jC{constructor(e,n,r,s){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function lr(t){return MC(t)}function Ln(t){return SC(t)}function Lo(t){return CC(t)}function Mr(t){return PC(t)}function LC(t){return t instanceof Pp}function FC(t,e){return t==="value"||lr(e)||Ln(e)||LC(e)}function ir(t,...e){if(!e.length)return t;const n=e.shift();if(sr(t)&&sr(n))for(const r in n)FC(r,n[r])?t[r]=n[r]:sr(n[r])?(t[r]||Object.assign(t,{[r]:{}}),ir(t[r],n[r])):Object.assign(t,{[r]:n[r]});return ir(t,...e)}function VC(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function U(t,e,n=[],r){const s={},o=Array.from(e);if(sr(o[0])&&r&&!Reflect.has(o[0],r)&&(Object.keys(o[0]).some(a=>Reflect.has(t,a))||(ir(s,{[r]:o[0]}),n.splice(n.indexOf(r),1),o.shift())),o.length===1&&sr(o[0]))ir(s,o[0]);else for(let i=0;i<n.length;i++)de(o[i])&&(s[n[i]]=o[i]);return ir(t,s)}function WC(t){return t.constructor.getDefaults()}function Nr(t,e){return Ot(t)?e:t}function kc(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Cn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||or&&this.toString()===or.TONE_DEBUG_CLASS)&&OC(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Cn.version=Hf;const zl=1e-6;function Ur(t,e){return t>e+zl}function Ic(t,e){return Ur(t,e)||jt(t,e)}function oi(t,e){return t+zl<e}function jt(t,e){return Math.abs(t-e)<zl}function $C(t,e,n){return Math.max(Math.min(t,n),e)}class Nt extends Cn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=U(Nt.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Z(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];Z(Ic(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(jt(this._timeline[n].time,e)){for(let r=n;r>=0&&jt(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Ic(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let o=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<o;){let i=Math.floor(r+(o-r)/2);const a=this._timeline[i],c=this._timeline[i+1];if(jt(a[n],e)){for(let l=i;l<this._timeline.length;l++){const u=this._timeline[l];if(jt(u[n],e))i=l;else break}return i}else{if(oi(a[n],e)&&Ur(c[n],e))return i;Ur(a[n],e)?o=i:r=i+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),o=this._search(n);return s!==-1&&o!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[o].time===n&&(o-=1),this._iterate(r,s,o)):s===-1&&this._iterate(r,0,o),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&jt(this._timeline[r].time,e)){let s=r;for(let o=r;o>=0&&jt(this._timeline[o].time,e);o--)s=o;this._iterate(o=>{n(o)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Bp=[];function ya(t){Bp.push(t)}function BC(t){Bp.forEach(e=>e(t))}const Up=[];function ba(t){Up.push(t)}function UC(t){Up.forEach(e=>e(t))}class no extends Cn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{Ot(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(Ot(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(Ot(n))this._events[s]=[];else{const o=this._events[s];for(let i=o.length-1;i>=0;i--)o[i]===n&&o.splice(i,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,o=r.length;s<o;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(no.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class zp extends no{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class ro extends zp{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Nt,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=U(ro.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=NC({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new jC(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(BC(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Z(Mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Z(Mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Z(Mr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Z(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Z(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Z(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Z(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return RC(this.rawContext,e,n)}addAudioWorkletModule(e){return qe(this,void 0,void 0,function*(){Z(de(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return qe(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Mr(this._context)?this._context.resume():Promise.resolve()}close(){return qe(this,void 0,void 0,function*(){Mr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&UC(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let o=0;o<r.length;o++)r[o]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:o+n})};return s(),r}}class zC extends zp{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return qe(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Me(t,e){wt(e)?e.forEach(n=>Me(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Hp(t,e){wt(e)?e.forEach(n=>Hp(t,n)):Object.defineProperty(t,e,{writable:!0})}const xe=()=>{};class ke extends Cn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=xe;const e=U(ke.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,mn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:xe,onload:xe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:bt().sampleRate}set(e){return e instanceof ke?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return qe(this,void 0,void 0,function*(){const n=ke.load(e).then(r=>{this.set(r),this.onload(this)});ke.downloads.push(n);try{yield n}finally{const r=ke.downloads.indexOf(n);ke.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=wt(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,o=bt(),i=o.createBuffer(r,s,o.sampleRate),a=!n&&r===1?[e]:e;for(let c=0;c<r;c++)i.copyToChannel(a[c],c);return this._buffer=i,this}toMono(e){if(Vn(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const o=this.toArray(s);for(let i=0;i<o.length;i++)n[i]+=o[i]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if(Vn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){Z(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);Z(r<s,"The start time must be less than the end time");const o=s-r,i=bt().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)i.copyToChannel(this.getChannelData(a).subarray(r,s),a);return new ke(i)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new ke().fromArray(e)}static fromUrl(e){return qe(this,void 0,void 0,function*(){return yield new ke().load(e)})}static load(e){return qe(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const c=n[1].split("|");let l=c[0];for(const u of c)if(ke.supportsType(u)){l=u;break}e=e.replace(n[0],l)}const r=ke.baseUrl===""||ke.baseUrl.endsWith("/")?ke.baseUrl:ke.baseUrl+"/",s=document.createElement("a");s.href=r+e,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const o=yield fetch(s.href);if(!o.ok)throw new Error(`could not load url: ${e}`);const i=yield o.arrayBuffer();return yield bt().decodeAudioData(i)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return qe(this,void 0,void 0,function*(){for(yield Promise.resolve();ke.downloads.length;)yield ke.downloads[0]})}}ke.baseUrl="";ke.downloads=[];class Hl extends ro{constructor(){super({clockSource:"offline",context:Lo(arguments[0])?arguments[0]:kC(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Lo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Lo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return qe(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(e=!0){return qe(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new ke(n)})}close(){return Promise.resolve()}}const qp=new zC;let Tr=qp;function bt(){return Tr===qp&&IC&&HC(new ro),Tr}function HC(t,e=!1){e&&Tr.dispose(),Mr(t)?Tr=new ro(t):Lo(t)?Tr=new Hl(t):Tr=t}if(or&&!or.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Hf} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function qC(t){return Math.pow(10,t/20)}function GC(t){return 20*(Math.log(t)/Math.LN10)}function Gp(t){return Math.pow(2,t/12)}let _a=440;function YC(){return _a}function XC(t){_a=t}function rr(t){return Math.round(Yp(t))}function Yp(t){return 69+12*Math.log2(t/_a)}function Xp(t){return _a*Math.pow(2,(t-69)/12)}class ql extends Cn{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof ql&&this.fromType(this._val),Ot(this._val))return this._noArg();if(mn(this._val)&&Ot(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(sr(this._val)){let e=0;for(const n in this._val)if(de(this._val[n])){const r=this._val[n],s=new this.constructor(this.context,n).valueOf()*r;e+=s}return e}if(de(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return mn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Lt extends ql{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Lt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),a=Math.round(s/r)*r-s;return s+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let o=1;o<9;o++){const i=Math.pow(2,o);n.push(i+"n."),n.push(i+"n"),n.push(i+"t")}n.push("0");let r=n[0],s=new Lt(this.context,n[0]).toSeconds();return n.forEach(o=>{const i=new Lt(this.context,o).toSeconds();Math.abs(i-e)<Math.abs(s-e)&&(r=o,s=i)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const o=s.toString();return o.length>3&&(s=parseFloat(parseFloat(o).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return rr(this.toFrequency())}_now(){return this.context.now()}}class _t extends Lt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return YC()}static set A4(e){XC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:_t.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const s=KC[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:_t.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new _t(this.context,this.valueOf()*Gp(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return rr(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/_t.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),ZC[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Xp(e)}static ftom(e){return rr(e)}}const KC={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},ZC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class _s extends Lt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class pt extends Cn{constructor(){super();const e=U(pt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:bt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return EC(e),new Lt(this.context,e).toSeconds()}toFrequency(e){return new _t(this.context,e).toFrequency()}toTicks(e){return new _s(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{Ot(e[r])&&delete n[r]}),n}get(){const e=WC(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];de(r)&&de(r.value)&&de(r.setValueAtTime)?e[n]=r.value:r instanceof pt?e[n]=r._getPartialProperties(e[n]):wt(r)||Vn(r)||mn(r)||AC(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&de(this[n])&&(this[n]&&de(this[n].value)&&de(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof pt?this[n].set(e[n]):this[n]=e[n])}),this}}class Gl extends Nt{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Wn(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const o=this._timeline[s];if(o.state===e)return o}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const o=this._timeline[s];if(o.state===e)return o}}}class be extends pt{constructor(){super(U(be.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=U(be.getDefaults(),arguments,["param","units","convert"]);for(Z(de(e.param)&&(lr(e.param)||e.param instanceof be),"param must be an AudioParam");!lr(e.param);)e.param=e.param._param;this._swappable=de(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Nt(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,de(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(pt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return de(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return de(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return de(this.maxValue)&&de(this.minValue)&&Wn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?qC(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?GC(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return Z(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let o=this._initialValue;if(s===null)o=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const i=this._events.getBefore(s.time);let a;i===null?a=this._initialValue:a=i.value,s.type==="setTargetAtTime"&&(o=this._exponentialApproach(s.time,a,s.value,s.constant,n))}else if(r===null)o=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let i=s.value;if(s.type==="setTargetAtTime"){const a=this._events.getBefore(s.time);a===null?i=this._initialValue:i=a.value}r.type==="linearRampToValueAtTime"?o=this._linearInterpolate(s.time,i,r.time,r.value,n):o=this._exponentialInterpolate(s.time,i,r.time,r.value,n)}else o=s.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return Z(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=jt(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return Z(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);Z(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(n);return this._assertRange(s),Z(isFinite(s)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:o,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,o,r),this._param.setTargetAtTime(s,o,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const o=this._fromType(e[0])*s;this.setValueAtTime(this._toType(o),n);const i=r/(e.length-1);for(let a=1;a<e.length;a++){const c=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(c),n+a*i)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return Z(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));Z(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),o=this._events.getAfter(n);return s&&jt(s.time,n)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),o=s?s.time:n+2,i=(o-n)/10;for(let a=n;a<o;a+=i)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){Z(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,o){return r+(n-r)*Math.exp(-(o-e)/s)}_linearInterpolate(e,n,r,s,o){return n+(s-n)*((o-e)/(r-e))}_exponentialInterpolate(e,n,r,s,o){return n*Math.pow(s/n,(o-e)/(r-e))}}class ee extends pt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return de(this.input)?lr(this.input)||this.input instanceof be?1:this.input.numberOfInputs:0}get numberOfOutputs(){return de(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return de(e)&&(e instanceof ee||Ln(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Z(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return gn(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return va("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return Kp(this,e,n,r),this}chain(...e){return ii(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),de(this.input)&&(this.input instanceof ee?this.input.dispose():Ln(this.input)&&this.input.disconnect()),de(this.output)&&(this.output instanceof ee?this.output.dispose():Ln(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function ii(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof ee?n.connect(r):Ln(n)&&gn(n,r),r),e)}function gn(t,e,n=0,r=0){for(Z(de(t),"Cannot connect from undefined node"),Z(de(e),"Cannot connect to undefined node"),(e instanceof ee||Ln(e))&&Z(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Z(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof ee||e instanceof be;)de(e.input)&&(e=e.input);for(;t instanceof ee;)de(t.output)&&(t=t.output);lr(e)?t.connect(e,n):t.connect(e,n,r)}function Kp(t,e,n=0,r=0){if(de(e))for(;e instanceof ee;)e=e.input;for(;!Ln(t);)de(t.output)&&(t=t.output);lr(e)?t.disconnect(e,n):Ln(e)?t.disconnect(e,n,r):t.disconnect()}class Ae extends ee{constructor(){super(U(Ae.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=U(Ae.getDefaults(),arguments,["gain","units"]);this.gain=new be({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Me(this,"gain")}static getDefaults(){return Object.assign(ee.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class zr extends ee{constructor(e){super(e),this.onended=xe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ae({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(ee.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:xe})}_startGain(e,n=1){Z(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Z(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==xe&&(this.onended(this),this.onended=xe,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Z(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=xe,this}}class ai extends zr{constructor(){super(U(ai.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=U(ai.getDefaults(),arguments,["offset"]);gn(this._source,this._gainNode),this.offset=new be({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(zr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Le extends ee{constructor(){super(U(Le.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=U(Le.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ai({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ee.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return wa(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function wa(t,e,n,r){(e instanceof be||lr(e)||e instanceof Le&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Le&&(e.overridden=!0)),gn(t,e,n,r)}class ci extends be{constructor(){super(U(ci.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Nt(1/0),this._multiplier=1;const e=U(ci.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(be.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),o=this._events.get(n),i=Math.round(Math.max(1/r,1));for(let a=0;a<=i;a++){const c=r*a+n,l=this._exponentialApproach(o.time,o.value,s,r,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),o=this._events.previousEvent(s),i=this._getTicksUntilEvent(o,r);return s.ticks=Math.max(i,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),o=this._events.previousEvent(s),i=this._getTicksUntilEvent(o,r);return s.ticks=Math.max(i,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),o=Math.round(Math.max((n-s.time)*10,1)),i=(n-s.time)/o;for(let a=0;a<=o;a++){const c=i*a+s.time,l=this._exponentialInterpolate(s.time,s.value,n,r,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ot(e.ticks)){const i=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(i,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const o=this._events.get(n);return o&&o.time===n&&o.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),i=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),a=Math.sqrt(Math.pow(s,2)-2*i*(n.ticks-e)),c=(-s+a)/i,l=(-s-a)/i;return(c>0?c:l)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),o=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class li extends Le{constructor(){super(U(li.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=U(li.getDefaults(),arguments,["value"]);this.input=this._param=new ci({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Le.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class ui extends pt{constructor(){super(U(ui.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Gl,this._tickOffset=new Nt,this._ticksAtTime=new Nt,this._secondsAtTime=new Nt;const e=U(ui.getDefaults(),arguments,["frequency"]);this.frequency=new li({context:this.context,units:e.units,value:e.frequency}),Me(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},pt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),de(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s=this._ticksAtTime.get(n),o={state:"paused",time:n};this._state.add(o);let i=s||r,a=s?s.ticks:0,c=null;return this._state.forEachBetween(i.time,n+this.sampleTime,l=>{let u=i.time;const d=this._tickOffset.get(l.time);d&&d.time>=i.time&&(a=d.ticks,u=d.time),i.state==="started"&&l.state!=="started"&&(a+=this.frequency.getTicksAtTime(l.time)-this.frequency.getTicksAtTime(u),l.time!==o.time&&(c={state:l.state,time:l.time,ticks:a})),i=l}),this._state.remove(o),c&&this._ticksAtTime.add(c),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let o=s||n,i=s?s.seconds:0,a=null;return this._state.forEachBetween(o.time,e+this.sampleTime,c=>{let l=o.time;const u=this._tickOffset.get(c.time);u&&u.time>=o.time&&(i=u.seconds,l=u.time),o.state==="started"&&c.state!=="started"&&(i+=c.time-l,c.time!==r.time&&(a={state:c.state,time:c.time,seconds:i})),o=c}),this._state.remove(r),a&&this._secondsAtTime.add(a),i}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),o=Math.max(r.time,s.time),i=this.frequency.getTicksAtTime(o)+e-r.ticks;return this.frequency.getTimeOfTick(i)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,i=>{s&&s.state==="started"&&i.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),i.time-this.sampleTime,r),s=i});let o=null;if(s&&s.state==="started"){const i=Math.max(s.time,e),a=this.frequency.getTicksAtTime(i),c=this.frequency.getTicksAtTime(s.time),l=a-c;let u=Math.ceil(l)-l;u=jt(u,1)?0:u;let d=this.frequency.getTimeOfTick(a+u);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(h){o=h;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Ns extends pt{constructor(){super(U(Ns.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=xe,this._lastUpdate=0,this._state=new Gl("stopped"),this._boundLoop=this._loop.bind(this);const e=U(Ns.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new ui({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Me(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(pt.getDefaults(),{callback:xe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Fp(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}no.mixin(Ns);class di extends ee{constructor(){super(U(di.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=U(di.getDefaults(),arguments,["delayTime","maxDelay"]),n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new be({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Me(this,"delayTime")}static getDefaults(){return Object.assign(ee.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Yl extends Cn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=U(Yl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:xe,onload:xe,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Z(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=xe,s=xe){return mn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ke(this.baseUrl+n,r,s))):this._buffers.set(e.toString(),new ke(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class hi extends _t{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return rr(super._frequencyToUnits(e))}_ticksToUnits(e){return rr(super._ticksToUnits(e))}_beatsToUnits(e){return rr(super._beatsToUnits(e))}_secondsToUnits(e){return rr(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return Xp(this.toMidi())}transpose(e){return new hi(this.context,this.toMidi()+e)}}class Ar extends _s{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class QC extends pt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Nt,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}ya(t=>{t.draw=new QC({context:t})});ba(t=>{t.draw.dispose()});class JC extends Cn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Z(de(e.time),"Events must have a time property"),Z(de(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new eT(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class eT{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class ur extends ee{constructor(){super(U(ur.getDefaults(),arguments,["volume"])),this.name="Volume";const e=U(ur.getDefaults(),arguments,["volume"]);this.input=this.output=new Ae({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Me(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(ee.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class fi extends ee{constructor(){super(U(fi.getDefaults(),arguments)),this.name="Destination",this.input=new ur({context:this.context}),this.output=new Ae({context:this.context}),this.volume=this.input.volume;const e=U(fi.getDefaults(),arguments);ii(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ee.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),ii(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}ya(t=>{t.destination=new fi({context:t})});ba(t=>{t.destination.dispose()});class tT extends Cn{constructor(e){super(),this.name="TimelineValue",this._timeline=new Nt({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class rn extends ee{constructor(){super(Object.assign(U(rn.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return wa(this,e,n,r),this}}class dr extends rn{constructor(){super(Object.assign(U(dr.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=U(dr.getDefaults(),arguments,["mapping","length"]);wt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):TC(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Le.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,o=n;s<o;s++){const i=s/(o-1)*2-1;r[s]=e(i,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));Z(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class pi extends rn{constructor(){super(Object.assign(U(pi.getDefaults(),arguments,["value"]))),this.name="Pow";const e=U(pi.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new dr({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(rn.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class $n{constructor(e,n){this.id=$n._eventId++,this._remainderTime=0;const r=Object.assign($n.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:xe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}$n._eventId=0;class Xl extends $n{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Xl.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},$n.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return oi(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Ar(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){oi(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ar(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);Ur(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class ks extends pt{constructor(){super(U(ks.getDefaults(),arguments)),this.name="Transport",this._loop=new tT(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Nt,this._repeatedEvents=new JC,this._syncedSignals=[],this._swingAmount=0;const e=U(ks.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new Ns({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Me(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(pt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new Ar(this.context,this._swingTicks*2/3).toSeconds()*s}Rd(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),Rd(!1)}schedule(e,n){const r=new $n(this,{callback:e,time:new _s(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const o=new Xl(this,{callback:e,duration:new Lt(this.context,s).toTicks(),interval:new Lt(this.context,n).toTicks(),time:new _s(this.context,r).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,n){const r=new $n(this,{callback:e,once:!0,time:new _s(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Ar(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return de(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){wt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Lt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Lt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Ar(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Ar(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),o=n+s;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){const r=this.now();let s=this.bpm,o=1/(60/s.getValueAtTime(r)/this.PPQ),i=[];if(e.units==="time"){const c=.015625/o,l=new Ae(c),u=new pi(-1),d=new Ae(c);s.chain(l,u,d),s=d,o=1/o,i=[l,u,d]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/o:n=0);const a=new Ae(n);return s.connect(a),a.connect(e._param),i.push(a),this._syncedSignals.push({initial:e.value,nodes:i,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Hp(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}no.mixin(ks);ya(t=>{t.transport=new ks({context:t})});ba(t=>{t.transport.dispose()});class St extends ee{constructor(e){super(e),this.input=void 0,this._state=new Gl("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=xe,this._syncedStop=xe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ur({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Me(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(ee.getDefaults(),{mute:!1,onstop:xe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=Ot(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")Z(Ur(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const o=this._state.get(s);o&&(o.offset=this.toSeconds(Nr(n,0)),o.duration=r?this.toSeconds(r):void 0);const i=this.context.transport.schedule(a=>{this._start(a,n,r)},s);this._scheduled.push(i),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else Fp(this.context),this._start(s,n,r);return this}stop(e){let n=Ot(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||de(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(Ur(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let o;r.duration&&(o=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,o)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=xe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Is extends zr{constructor(){super(U(Is.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=U(Is.getDefaults(),arguments,["url","onload"]);gn(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new be({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ke(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(zr.getDefaults(),{url:new ke,loop:!1,loopEnd:0,loopStart:0,onload:xe,onerror:xe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){Z(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,s),this.loop?n=Nr(n,this.loopStart):n=Nr(n,0);let i=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),l=a-c;Ic(i,a)&&(i=(i-c)%l+c),jt(i,this.buffer.duration)&&(i=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,oi(i,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,i)),de(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(o+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function br(t,e){return qe(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new Hl(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class mi extends zr{constructor(){super(U(mi.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=U(mi.getDefaults(),arguments,["frequency","type"]);gn(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new be({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new be({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Me(this,["frequency","detune"])}static getDefaults(){return Object.assign(zr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class We extends St{constructor(){super(U(We.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=U(We.getDefaults(),arguments,["frequency","type"]);this.frequency=new Le({context:this.context,units:"frequency",value:e.frequency}),Me(this,"frequency"),this.detune=new Le({context:this.context,units:"cents",value:e.detune}),Me(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(St.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new mi({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return We._periodicWaveCache.find(n=>n.phase===this._phase&&VC(n.partials,this._partials));{const e=We._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(de(r)){const{partials:s,wave:o}=r;this._wave=o,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,o]=this._getRealImaginary(e,this._phase),i=this.context.createPeriodicWave(s,o);this._wave=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),We._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),We._periodicWaveCache.length>100&&We._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Wn(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((o,i)=>s[i]=o),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const o=new Float32Array(s),i=new Float32Array(s);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,s=a,this._partials.length===0)return[o,i]}else{const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);c?(a=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),e=c[1],a=Math.max(a,2),s=a):this._partialCount=0,this._partials=[]}for(let c=1;c<s;++c){const l=2/(c*Math.PI);let u;switch(e){case"sine":u=c<=a?1:0,this._partials[c-1]=u;break;case"square":u=c&1?2*l:0,this._partials[c-1]=u;break;case"sawtooth":u=l*(c&1?1:-1),this._partials[c-1]=u;break;case"triangle":c&1?u=2*(l*l)*(c-1>>1&1?-1:1):u=0,this._partials[c-1]=u;break;case"custom":u=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}u!==0?(o[c]=-u*Math.sin(n*c),i[c]=u*Math.cos(n*c)):(o[c]=0,i[c]=0)}return[o,i]}_inverseFFT(e,n,r){let s=0;const o=e.length;for(let i=0;i<o;i++)s+=e[i]*Math.cos(i*r)+n[i]*Math.sin(i*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,o=32;for(let i=0;i<o;i++)r=Math.max(this._inverseFFT(e,n,i/o*s),r);return $C(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return qe(this,void 0,void 0,function*(){return br(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}We._periodicWaveCache=[];class Zp extends rn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new dr({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Bn extends Le{constructor(){super(Object.assign(U(Bn.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=U(Bn.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Ae({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Le.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Rs extends St{constructor(){super(U(Rs.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Zp({context:this.context}),this._modulationNode=new Ae({context:this.context});const e=U(Rs.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new We({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new We({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Bn({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Me(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(We.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return qe(this,void 0,void 0,function*(){return br(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ds extends St{constructor(){super(U(Ds.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Ae({context:this.context,gain:0});const e=U(Ds.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new We({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Le({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new We({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Bn({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Bn({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Me(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(We.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return qe(this,void 0,void 0,function*(){return br(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Hr extends St{constructor(){super(U(Hr.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Ae({context:this.context,gain:0}),this._thresh=new dr({context:this.context,mapping:n=>n<=0?-1:1});const e=U(Hr.getDefaults(),arguments,["frequency","width"]);this.width=new Le({context:this.context,units:"audioRange",value:e.width}),this._triangle=new We({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Me(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(St.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return qe(this,void 0,void 0,function*(){return br(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class js extends St{constructor(){super(U(js.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=U(js.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Le({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Le({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Me(this,["frequency","detune"])}static getDefaults(){return Object.assign(We.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,o)=>s.detune.value=n+r*o)}}get count(){return this._oscillators.length}set count(e){if(Wn(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new We({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):xe});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return qe(this,void 0,void 0,function*(){return br(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Ls extends St{constructor(){super(U(Ls.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Bn({context:this.context,value:2});const e=U(Ls.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Hr({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new We({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Me(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(St.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return qe(this,void 0,void 0,function*(){return br(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Dd={am:Rs,fat:js,fm:Ds,oscillator:We,pulse:Hr,pwm:Ls};class Fs extends St{constructor(){super(U(Fs.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=U(Fs.getDefaults(),arguments,["frequency","type"]);this.frequency=new Le({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Le({context:this.context,units:"cents",value:e.detune}),Me(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(We.getDefaults(),Ds.getDefaults(),Rs.getDefaults(),js.getDefaults(),Hr.getDefaults(),Ls.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Dd[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Dd[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Vn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Vn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&mn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return qe(this,void 0,void 0,function*(){return br(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Kl extends Le{constructor(){super(Object.assign(U(Kl.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Ae({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,ii(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Le.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class gi extends rn{constructor(){super(Object.assign(U(gi.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=U(gi.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Bn({context:this.context,value:e.max-e.min}),this._add=this.output=new Kl({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(rn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Zl extends rn{constructor(){super(Object.assign(U(Zl.getDefaults(),arguments))),this.name="Zero",this._gain=new Ae({context:this.context}),this.output=this._gain,this.input=void 0,gn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Kp(this.context.getConstant(0),this._gain),this}}class vi extends ee{constructor(){super(U(vi.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=be.prototype._fromType,this._toType=be.prototype._toType,this._is=be.prototype._is,this._clampValue=be.prototype._clampValue;const e=U(vi.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new We(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Ae({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Le({context:this.context,units:"audioRange",value:0}),this._zeros=new Zl({context:this.context}),this._a2g=new Zp({context:this.context}),this._scaler=this.output=new gi({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Me(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(We.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,r=this.max;this._units=e,this.min=n,this.max=r}get state(){return this._oscillator.state}connect(e,n,r){return(e instanceof be||e instanceof Le)&&(this.convert=e.convert,this.units=e.units),wa(this,e,n,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Qp(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(o){Wn(o,t,e),n.set(this,o)}})}}function Tn(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(o){Wn(this.toSeconds(o),t,e),n.set(this,o)}})}}class Vs extends St{constructor(){super(U(Vs.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=U(Vs.getDefaults(),arguments,["url","onload"]);this._buffer=new ke({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(St.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:xe,onerror:xe,playbackRate:1,reverse:!1})}load(e){return qe(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=xe){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Nr(n,this._loopStart):n=Nr(n,0);const s=this.toSeconds(n),o=r;r=Nr(r,Math.max(this._buffer.duration-s,0));let i=this.toSeconds(r);i=i/this._playbackRate,e=this.toSeconds(e);const a=new Is({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+i),this._state.setStateAtTime("stopped",e+i,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Ot(o)?a.start(e,s):a.start(e,s,i-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Wn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Wn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Ut([Tn(0)],Vs.prototype,"fadeIn",void 0);Ut([Tn(0)],Vs.prototype,"fadeOut",void 0);class nT extends rn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new dr({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class vn extends ee{constructor(){super(U(vn.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Le({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=U(vn.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(ee.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(mn(e))return e;{let r;for(r in xo)if(xo[r][n]===e)return r;return e}}_setCurve(e,n,r){if(mn(r)&&Reflect.has(xo,r)){const s=xo[r];sr(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(wt(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),i=this.getValueAtTime(e);if(i>0){const a=1/s;s=(1-i)/a}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let c=1;c<a.length;c++)if(a[c-1]<=i&&i<=a[c]){a=this._attackCurve.slice(c),a[0]=i;break}this._sig.setValueCurveAtTime(a,e,s,n)}if(o&&this.sustain<1){const a=n*this.sustain,c=e+s;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,o+c):this._sig.exponentialApproachValueAtTime(a,c,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(Z(wt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return wa(this,e,n,r),this}asArray(e=1024){return qe(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,r=new Hl(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=s+this.toSeconds(this.release),i=o*.1,a=o+i,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return c._sig.toDestination(),c.triggerAttackRelease(n*(s+i)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Ut([Tn(0)],vn.prototype,"attack",void 0);Ut([Tn(0)],vn.prototype,"decay",void 0);Ut([Qp(0,1)],vn.prototype,"sustain",void 0);Ut([Tn(0)],vn.prototype,"release",void 0);const xo=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[],o=6.4;for(e=0;e<127;e++){n=e/127;const h=Math.sin(n*(Math.PI*2)*o-Math.PI/2)+1;s[e]=h/10+n*.83}s[127]=1;const i=[],a=5;for(e=0;e<128;e++)i[e]=Math.ceil(e/127*a)/a;const c=[];for(e=0;e<128;e++)n=e/127,c[e]=.5*(1-Math.cos(Math.PI*n));const l=[];for(e=0;e<128;e++){n=e/127;const h=Math.pow(n,3)*4+.2,p=Math.cos(h*Math.PI*2*n);l[e]=Math.abs(p*(1-n))}function u(h){const p=new Array(h.length);for(let m=0;m<h.length;m++)p[m]=1-h[m];return p}function d(h){return h.slice(0).reverse()}return{bounce:{In:u(l),Out:l},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:u(s)},sine:{In:c,Out:u(c)},step:{In:i,Out:u(i)}}})();class yn extends ee{constructor(){super(U(yn.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n);const e=U(yn.getDefaults(),arguments);this._volume=this.output=new ur({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Me(this,"volume")}static getDefaults(){return Object.assign(ee.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const o=s[n],i=this.context.transport.schedule(a=>{s[n]=a,r.apply(this,s)},o);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,s){const o=this.toSeconds(r),i=this.toSeconds(n);return this.triggerAttack(e,o,s),this.triggerRelease(o+i),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Un extends yn{constructor(){super(U(Un.getDefaults(),arguments));const e=U(Un.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(yn.getDefaults(),{detune:0,onsilence:xe,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof _t?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,o,r)}else this.frequency.setValueAtTime(s,r);return this}}Ut([Tn(0)],Un.prototype,"portamento",void 0);class Ql extends vn{constructor(){super(U(Ql.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ae({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class qr extends Un{constructor(){super(U(qr.getDefaults(),arguments)),this.name="Synth";const e=U(qr.getDefaults(),arguments);this.oscillator=new Fs(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ql(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Me(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Un.getDefaults(),{envelope:Object.assign(kc(vn.getDefaults(),Object.keys(ee.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(kc(Fs.getDefaults(),[...Object.keys(St.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ws extends qr{constructor(){super(U(Ws.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=U(Ws.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Me(this,["oscillator","envelope"])}static getDefaults(){return ir(Un.getDefaults(),qr.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof _t?e.toFrequency():e),o=s*this.octaves;return this.oscillator.frequency.setValueAtTime(o,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ut([Qp(0)],Ws.prototype,"octaves",void 0);Ut([Tn(0)],Ws.prototype,"pitchDecay",void 0);const Jp=new Set;function Jl(t){Jp.add(t)}function em(t,e){const n=`registerProcessor("${t}", ${e})`;Jp.add(n)}const rT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Jl(rT);const sT=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Jl(sT);const oT=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Jl(oT);const iT="feedback-comb-filter",aT=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;em(iT,aT);class bn extends yn{constructor(){super(U(bn.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=s=>this.releaseAll(s);const e=U(bn.getDefaults(),arguments,["voice","options"]);Z(!Vn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(yn.getDefaults(),{maxPolyphony:32,options:{},voice:qr})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Z(e instanceof Un,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else va("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,r){e.forEach(s=>{const o=new hi(this.context,s).toMidi(),i=this._getNextAvailableVoice();i&&(i.triggerAttack(s,n,r),this._activeVoices.push({midi:o,voice:i,released:!1}),this.log("triggerAttack",s,n))})}_triggerRelease(e,n){e.forEach(r=>{const s=new hi(this.context,r).toMidi(),o=this._activeVoices.find(({midi:i,released:a})=>i===s&&!a);o&&(o.voice.triggerRelease(n),o.released=!0,this.log("triggerRelease",r,n))})}_scheduleEvent(e,n,r,s){Z(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(n,r,s):this._triggerRelease(n,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,r,s)},r-this.now())}triggerAttack(e,n,r){Array.isArray(e)||(e=[e]);const s=this.toSeconds(n);return this._scheduleEvent("attack",e,s,r),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,n,r,s){const o=this.toSeconds(r);if(this.triggerAttack(e,o,s),wt(n)){Z(wt(e),"If the duration is an array, the notes must also be an array"),e=e;for(let i=0;i<e.length;i++){const a=n[Math.min(i,n.length-1)],c=this.toSeconds(a);Z(c>0,"The duration must be greater than 0"),this.triggerRelease(e[i],o+c)}}else{const i=this.toSeconds(n);Z(i>0,"The duration must be greater than 0"),this.triggerRelease(e,o+i)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=kc(e,["onsilence","context"]);return this.options=ir(this.options,n),this._voices.forEach(r=>r.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class $s extends yn{constructor(){super(U($s.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=U($s.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(Z(wo(r)||Vn(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),wo(r)){const o=new _t(this.context,r).toMidi();n[o]=e.urls[r]}else Vn(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new Yl({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(yn.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:xe,onerror:xe,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const o=Yp(new _t(this.context,s).toFrequency()),i=Math.round(o),a=o-i,c=this._findClosest(i),l=i-c,u=this._buffers.get(l),d=Gp(c+a),h=new Is({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);h.start(n,0,u.duration/d,r),wt(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(h),h.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const p=this._activeSources.get(i),m=p.indexOf(h);m!==-1&&p.splice(m,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new _t(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const o=this._activeSources.get(s);n=this.toSeconds(n),o.forEach(i=>{i.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const o=this.toSeconds(r);return this.triggerAttack(e,o,s),wt(n)?(Z(wt(e),"notes must be an array when duration is array"),e.forEach((i,a)=>{const c=n[Math.min(a,n.length-1)];this.triggerRelease(i,o+this.toSeconds(c))})):this.triggerRelease(e,o+this.toSeconds(n)),this}add(e,n,r){if(Z(wo(e)||isFinite(e),`note must be a pitch or midi: ${e}`),wo(e)){const s=new _t(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Ut([Tn(0)],$s.prototype,"attack",void 0);Ut([Tn(0)],$s.prototype,"release",void 0);class yi extends ee{constructor(){super(Object.assign(U(yi.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new nT({context:this.context}),this.a=new Ae({context:this.context,gain:0}),this.b=new Ae({context:this.context,gain:0}),this.output=new Ae({context:this.context}),this._internalChannels=[this.a,this.b];const e=U(yi.getDefaults(),arguments,["fade"]);this.fade=new Le({context:this.context,units:"normalRange",value:e.fade}),Me(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",gn(this._split,this.a.gain,0),gn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ee.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class jd extends ee{constructor(e){super(e),this.name="Effect",this._dryWet=new yi({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Ae({context:this.context}),this.effectReturn=new Ae({context:this.context}),this.input=new Ae({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Me(this,"wet")}static getDefaults(){return Object.assign(ee.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class bi extends ee{constructor(){super(Object.assign(U(bi.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=U(bi.getDefaults(),arguments,["pan"]);this.pan=new be({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Me(this,"pan")}static getDefaults(){return Object.assign(ee.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const cT="bit-crusher",lT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;em(cT,lT);class _i extends jd{constructor(){super(U(_i.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const e=U(_i.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new di({context:this.context,delayTime:0,maxDelay:e.maxDelay}),this._lfo=new vi({context:this.context,type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,Me(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(jd.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Ue extends ee{constructor(){super(U(Ue.getDefaults(),arguments,["solo"])),this.name="Solo";const e=U(Ue.getDefaults(),arguments,["solo"]);this.input=this.output=new Ae({context:this.context}),Ue._allSolos.has(this.context)||Ue._allSolos.set(this.context,new Set),Ue._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(ee.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Ue._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ue._soloed.has(this.context)||Ue._soloed.set(this.context,new Set),Ue._soloed.get(this.context).add(this)}_removeSolo(){Ue._soloed.has(this.context)&&Ue._soloed.get(this.context).delete(this)}_isSoloed(){return Ue._soloed.has(this.context)&&Ue._soloed.get(this.context).has(this)}_noSolos(){return!Ue._soloed.has(this.context)||Ue._soloed.has(this.context)&&Ue._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ue._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ue._allSolos=new Map;Ue._soloed=new Map;class wi extends ee{constructor(){super(U(wi.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=U(wi.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new bi({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ur({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Me(this,["pan","volume"])}static getDefaults(){return Object.assign(ee.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class er extends ee{constructor(){super(U(er.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=U(er.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Ue({solo:e.solo,context:this.context}),this._panVol=this.output=new wi({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Me(this,["pan","volume"])}static getDefaults(){return Object.assign(ee.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return er.buses.has(e)||er.buses.set(e,new Ae({context:this.context})),er.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new Ae({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}er.buses=new Map;class uT extends ee{constructor(){super(...arguments),this.name="Listener",this.positionX=new be({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new be({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new be({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new be({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new be({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new be({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new be({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new be({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new be({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ee.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}ya(t=>{t.listener=new uT({context:t})});ba(t=>{t.listener.dispose()});bt().transport;bt().destination;bt().destination;bt().listener;bt().draw;bt();var Y={},Rc={exports:{}};(function(t,e){(function(n,r){var s="1.0.39",o="",i="?",a="function",c="undefined",l="object",u="string",d="major",h="model",p="name",m="type",f="vendor",g="version",v="architecture",S="console",x="mobile",M="tablet",y="smarttv",b="wearable",P="embedded",C=500,E="Amazon",O="Apple",k="ASUS",N="BlackBerry",j="Browser",R="Chrome",W="Edge",L="Firefox",F="Google",T="Huawei",A="LG",I="Microsoft",D="Motorola",V="Opera",q="Samsung",X="Sharp",z="Sony",G="Xiaomi",$="Zebra",B="Facebook",ve="Chromium OS",ce="Mac OS",ie=" Browser",le=function(ue,pe){var ne={};for(var Te in ue)pe[Te]&&pe[Te].length%2===0?ne[Te]=pe[Te].concat(ue[Te]):ne[Te]=ue[Te];return ne},He=function(ue){for(var pe={},ne=0;ne<ue.length;ne++)pe[ue[ne].toUpperCase()]=ue[ne];return pe},st=function(ue,pe){return typeof ue===u?H(pe).indexOf(H(ue))!==-1:!1},H=function(ue){return ue.toLowerCase()},K=function(ue){return typeof ue===u?ue.replace(/[^\d\.]/g,o).split(".")[0]:r},_e=function(ue,pe){if(typeof ue===u)return ue=ue.replace(/^\s\s*/,o),typeof pe===c?ue:ue.substring(0,C)},fe=function(ue,pe){for(var ne=0,Te,dn,qt,ye,J,Gt;ne<pe.length&&!J;){var Ua=pe[ne],zu=pe[ne+1];for(Te=dn=0;Te<Ua.length&&!J&&Ua[Te];)if(J=Ua[Te++].exec(ue),J)for(qt=0;qt<zu.length;qt++)Gt=J[++dn],ye=zu[qt],typeof ye===l&&ye.length>0?ye.length===2?typeof ye[1]==a?this[ye[0]]=ye[1].call(this,Gt):this[ye[0]]=ye[1]:ye.length===3?typeof ye[1]===a&&!(ye[1].exec&&ye[1].test)?this[ye[0]]=Gt?ye[1].call(this,Gt,ye[2]):r:this[ye[0]]=Gt?Gt.replace(ye[1],ye[2]):r:ye.length===4&&(this[ye[0]]=Gt?ye[3].call(this,Gt.replace(ye[1],ye[2])):r):this[ye]=Gt||r;ne+=2}},re=function(ue,pe){for(var ne in pe)if(typeof pe[ne]===l&&pe[ne].length>0){for(var Te=0;Te<pe[ne].length;Te++)if(st(pe[ne][Te],ue))return ne===i?r:ne}else if(st(pe[ne],ue))return ne===i?r:ne;return pe.hasOwnProperty("*")?pe["*"]:ue},Re={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ot={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Rt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,V+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[p,V+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[p,V]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+j]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[p,"Smart Lenovo "+j]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+j],g],[/\bfocus\/([\w\.]+)/i],[g,[p,L+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,V+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,V+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI "+j]],[/fxios\/([-\w\.]+)/i],[g,[p,L]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360"+ie]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+ie],g],[/samsungbrowser\/([\w\.]+)/i],[g,[p,q+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],g],[/metasr[\/ ]?([\d\.]+)/i],[g,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,B],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,R+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,R+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+j]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,re,Re]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/(wolvic)\/([\w\.]+)/i],[p,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,L+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,H]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,o,H]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[f,q],[m,M]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[h,[f,q],[m,x]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[f,O],[m,x]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[f,O],[m,M]],[/(macintosh);/i],[h,[f,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[f,X],[m,x]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[f,T],[m,M]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[f,T],[m,x]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[h,/_/g," "],[f,G],[m,x]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[f,G],[m,M]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[f,"OPPO"],[m,x]],[/\b(opd2\d{3}a?) bui/i],[h,[f,"OPPO"],[m,M]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[f,"Vivo"],[m,x]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[f,"Realme"],[m,x]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[f,D],[m,x]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[f,D],[m,M]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[f,A],[m,M]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[f,A],[m,x]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[f,"Lenovo"],[m,M]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[f,"Nokia"],[m,x]],[/(pixel c)\b/i],[h,[f,F],[m,M]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[f,F],[m,x]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[f,z],[m,x]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[f,z],[m,M]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[f,"OnePlus"],[m,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[f,E],[m,M]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[f,E],[m,x]],[/(playbook);[-\w\),; ]+(rim)/i],[h,f,[m,M]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[f,N],[m,x]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[f,k],[m,M]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[f,k],[m,x]],[/(nexus 9)/i],[h,[f,"HTC"],[m,M]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[h,/_/g," "],[m,x]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[h,[f,"TCL"],[m,M]],[/(itel) ((\w+))/i],[[f,H],h,[m,re,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[f,"Acer"],[m,M]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[f,"Meizu"],[m,x]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[f,"Ulefone"],[m,x]],[/droid.+; (a(?:015|06[35]|142p?))/i],[h,[f,"Nothing"],[m,x]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,h,[m,x]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,h,[m,M]],[/(surface duo)/i],[h,[f,I],[m,M]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[f,"Fairphone"],[m,x]],[/(u304aa)/i],[h,[f,"AT&T"],[m,x]],[/\bsie-(\w*)/i],[h,[f,"Siemens"],[m,x]],[/\b(rct\w+) b/i],[h,[f,"RCA"],[m,M]],[/\b(venue[\d ]{2,7}) b/i],[h,[f,"Dell"],[m,M]],[/\b(q(?:mv|ta)\w+) b/i],[h,[f,"Verizon"],[m,M]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[f,"Barnes & Noble"],[m,M]],[/\b(tm\d{3}\w+) b/i],[h,[f,"NuVision"],[m,M]],[/\b(k88) b/i],[h,[f,"ZTE"],[m,M]],[/\b(nx\d{3}j) b/i],[h,[f,"ZTE"],[m,x]],[/\b(gen\d{3}) b.+49h/i],[h,[f,"Swiss"],[m,x]],[/\b(zur\d{3}) b/i],[h,[f,"Swiss"],[m,M]],[/\b((zeki)?tb.*\b) b/i],[h,[f,"Zeki"],[m,M]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],h,[m,M]],[/\b(ns-?\w{0,9}) b/i],[h,[f,"Insignia"],[m,M]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[f,"NextBook"],[m,M]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],h,[m,x]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],h,[m,x]],[/\b(ph-1) /i],[h,[f,"Essential"],[m,x]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[f,"Envizen"],[m,M]],[/\b(trio[-\w\. ]+) b/i],[h,[f,"MachSpeed"],[m,M]],[/\btu_(1491) b/i],[h,[f,"Rotor"],[m,M]],[/(shield[\w ]+) b/i],[h,[f,"Nvidia"],[m,M]],[/(sprint) (\w+)/i],[f,h,[m,x]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[f,I],[m,x]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[f,$],[m,M]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[f,$],[m,x]],[/smart-tv.+(samsung)/i],[f,[m,y]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[f,q],[m,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,A],[m,y]],[/(apple) ?tv/i],[f,[h,O+" TV"],[m,y]],[/crkey/i],[[h,R+"cast"],[f,F],[m,y]],[/droid.+aft(\w+)( bui|\))/i],[h,[f,E],[m,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[f,X],[m,y]],[/(bravia[\w ]+)( bui|\))/i],[h,[f,z],[m,y]],[/(mitv-\w{5}) bui/i],[h,[f,G],[m,y]],[/Hbbtv.*(technisat) (.*);/i],[f,h,[m,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,_e],[h,_e],[m,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,h,[m,S]],[/droid.+; (shield) bui/i],[h,[f,"Nvidia"],[m,S]],[/(playstation [345portablevi]+)/i],[h,[f,z],[m,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[f,I],[m,S]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[h,[f,q],[m,b]],[/((pebble))app/i],[f,h,[m,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[f,O],[m,b]],[/droid.+; (glass) \d/i],[h,[f,F],[m,b]],[/droid.+; (wt63?0{2,3})\)/i],[h,[f,$],[m,b]],[/(quest( \d| pro)?)/i],[h,[f,B],[m,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[m,P]],[/(aeobc)\b/i],[h,[f,E],[m,P]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[m,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[m,M]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,M]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,x]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,W+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[g,re,ot]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,re,ot],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,ce],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,L+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,R+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,ve],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},Qe=function(ue,pe){if(typeof ue===l&&(pe=ue,ue=r),!(this instanceof Qe))return new Qe(ue,pe).getResult();var ne=typeof n!==c&&n.navigator?n.navigator:r,Te=ue||(ne&&ne.userAgent?ne.userAgent:o),dn=ne&&ne.userAgentData?ne.userAgentData:r,qt=pe?le(Rt,pe):Rt,ye=ne&&ne.userAgent==Te;return this.getBrowser=function(){var J={};return J[p]=r,J[g]=r,fe.call(J,Te,qt.browser),J[d]=K(J[g]),ye&&ne&&ne.brave&&typeof ne.brave.isBrave==a&&(J[p]="Brave"),J},this.getCPU=function(){var J={};return J[v]=r,fe.call(J,Te,qt.cpu),J},this.getDevice=function(){var J={};return J[f]=r,J[h]=r,J[m]=r,fe.call(J,Te,qt.device),ye&&!J[m]&&dn&&dn.mobile&&(J[m]=x),ye&&J[h]=="Macintosh"&&ne&&typeof ne.standalone!==c&&ne.maxTouchPoints&&ne.maxTouchPoints>2&&(J[h]="iPad",J[m]=M),J},this.getEngine=function(){var J={};return J[p]=r,J[g]=r,fe.call(J,Te,qt.engine),J},this.getOS=function(){var J={};return J[p]=r,J[g]=r,fe.call(J,Te,qt.os),ye&&!J[p]&&dn&&dn.platform&&dn.platform!="Unknown"&&(J[p]=dn.platform.replace(/chrome os/i,ve).replace(/macos/i,ce)),J},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Te},this.setUA=function(J){return Te=typeof J===u&&J.length>C?_e(J,C):J,this},this.setUA(Te),this};Qe.VERSION=s,Qe.BROWSER=He([p,g,d]),Qe.CPU=He([v]),Qe.DEVICE=He([h,f,m,S,x,y,M,b,P]),Qe.ENGINE=Qe.OS=He([p,g]),t.exports&&(e=t.exports=Qe),e.UAParser=Qe;var Ht=typeof n!==c&&(n.jQuery||n.Zepto);if(Ht&&!Ht.ua){var wr=new Qe;Ht.ua=wr.getResult(),Ht.ua.get=function(){return wr.getUA()},Ht.ua.set=function(ue){wr.setUA(ue);var pe=wr.getResult();for(var ne in pe)Ht.ua[ne]=pe[ne]}}})(typeof window=="object"?window:ps)})(Rc,Rc.exports);var dT=Rc.exports;Object.defineProperty(Y,"__esModule",{value:!0});function hT(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var tt=_,Oe=hT(tt),tm=dT,Xn=new tm,rt=Xn.getBrowser(),fT=Xn.getCPU(),Tt=Xn.getDevice(),eu=Xn.getEngine(),Kn=Xn.getOS(),so=Xn.getUA(),nm=function(e){return Xn.setUA(e)},oo=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new tm(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(s){return n.setUA(s)}}},rm=Object.freeze({ClientUAInstance:Xn,browser:rt,cpu:fT,device:Tt,engine:eu,os:Kn,ua:so,setUa:nm,parseUserAgent:oo});function Ld(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function pT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ld(Object(n),!0).forEach(function(r){yT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ld(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ws(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(e){return typeof e}:ws=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}function mT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vT(t,e,n){return e&&gT(t.prototype,e),t}function yT(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dc(){return Dc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}function bT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lc(t,e)}function jc(t){return jc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},jc(t)}function Lc(t,e){return Lc=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Lc(t,e)}function _T(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function It(t,e){if(t==null)return{};var n=_T(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wT(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fo(t)}function xT(t,e){return PT(t)||ST(t,e)||MT(t,e)||CT()}function PT(t){if(Array.isArray(t))return t}function ST(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,o=!1,i,a;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!(e&&r.length===e));s=!0);}catch(c){o=!0,a=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function MT(t,e){if(t){if(typeof t=="string")return Fd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fd(t,e)}}function Fd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var et={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},gt={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},rs={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},TT={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},AT=function(e){switch(e){case et.Mobile:return{isMobile:!0};case et.Tablet:return{isTablet:!0};case et.SmartTv:return{isSmartTV:!0};case et.Console:return{isConsole:!0};case et.Wearable:return{isWearable:!0};case et.Browser:return{isBrowser:!0};case et.Embedded:return{isEmbedded:!0};default:return TT}},ET=function(e){return nm(e)},Q=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},tu=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},nu=function(e){var n=tu();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},OT=function(e,n,r,s,o){return{isBrowser:e,browserMajorVersion:Q(n.major),browserFullVersion:Q(n.version),browserName:Q(n.name),engineName:Q(r.name),engineVersion:Q(r.version),osName:Q(s.name),osVersion:Q(s.version),userAgent:Q(o)}},Vd=function(e,n,r,s){return pT({},e,{vendor:Q(n.vendor),model:Q(n.model),os:Q(r.name),osVersion:Q(r.version),ua:Q(s)})},NT=function(e,n,r,s){return{isSmartTV:e,engineName:Q(n.name),engineVersion:Q(n.version),osName:Q(r.name),osVersion:Q(r.version),userAgent:Q(s)}},kT=function(e,n,r,s){return{isConsole:e,engineName:Q(n.name),engineVersion:Q(n.version),osName:Q(r.name),osVersion:Q(r.version),userAgent:Q(s)}},IT=function(e,n,r,s){return{isWearable:e,engineName:Q(n.name),engineVersion:Q(n.version),osName:Q(r.name),osVersion:Q(r.version),userAgent:Q(s)}},RT=function(e,n,r,s,o){return{isEmbedded:e,vendor:Q(n.vendor),model:Q(n.model),engineName:Q(r.name),engineVersion:Q(r.version),osName:Q(s.name),osVersion:Q(s.version),userAgent:Q(o)}};function DT(t){var e=t?oo(t):rm,n=e.device,r=e.browser,s=e.engine,o=e.os,i=e.ua,a=AT(n.type),c=a.isBrowser,l=a.isMobile,u=a.isTablet,d=a.isSmartTV,h=a.isConsole,p=a.isWearable,m=a.isEmbedded;if(c)return OT(c,r,s,o,i);if(d)return NT(d,s,o,i);if(h)return kT(h,s,o,i);if(l||u)return Vd(a,n,o,i);if(p)return IT(p,s,o,i);if(m)return RT(m,n,s,o,i)}var sm=function(e){var n=e.type;return n===et.Mobile},om=function(e){var n=e.type;return n===et.Tablet},im=function(e){var n=e.type;return n===et.Mobile||n===et.Tablet},am=function(e){var n=e.type;return n===et.SmartTv},xi=function(e){var n=e.type;return n===et.Browser},cm=function(e){var n=e.type;return n===et.Wearable},lm=function(e){var n=e.type;return n===et.Console},um=function(e){var n=e.type;return n===et.Embedded},dm=function(e){var n=e.vendor;return Q(n)},hm=function(e){var n=e.model;return Q(n)},fm=function(e){var n=e.type;return Q(n,"browser")},pm=function(e){var n=e.name;return n===rs.Android},mm=function(e){var n=e.name;return n===rs.Windows},gm=function(e){var n=e.name;return n===rs.MAC_OS},vm=function(e){var n=e.name;return n===rs.WindowsPhone},ym=function(e){var n=e.name;return n===rs.IOS},bm=function(e){var n=e.version;return Q(n)},_m=function(e){var n=e.name;return Q(n)},wm=function(e){var n=e.name;return n===gt.Chrome},xm=function(e){var n=e.name;return n===gt.Firefox},Pm=function(e){var n=e.name;return n===gt.Chromium},Pi=function(e){var n=e.name;return n===gt.Edge},Sm=function(e){var n=e.name;return n===gt.Yandex},Mm=function(e){var n=e.name;return n===gt.Safari||n===gt.MobileSafari},Cm=function(e){var n=e.name;return n===gt.MobileSafari},Tm=function(e){var n=e.name;return n===gt.Opera},Am=function(e){var n=e.name;return n===gt.InternetExplorer||n===gt.Ie},Em=function(e){var n=e.name;return n===gt.MIUI},Om=function(e){var n=e.name;return n===gt.SamsungBrowser},Nm=function(e){var n=e.version;return Q(n)},km=function(e){var n=e.major;return Q(n)},Im=function(e){var n=e.name;return Q(n)},Rm=function(e){var n=e.name;return Q(n)},Dm=function(e){var n=e.version;return Q(n)},jm=function(){var e=tu(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},kr=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},Lm=function(){var e=tu();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},Zt=function(){return nu("iPad")},Fm=function(){return nu("iPhone")},Vm=function(){return nu("iPod")},Wm=function(e){return Q(e)};function $m(t){var e=t||rm,n=e.device,r=e.browser,s=e.os,o=e.engine,i=e.ua;return{isSmartTV:am(n),isConsole:lm(n),isWearable:cm(n),isEmbedded:um(n),isMobileSafari:Cm(r)||Zt(),isChromium:Pm(r),isMobile:im(n)||Zt(),isMobileOnly:sm(n),isTablet:om(n)||Zt(),isBrowser:xi(n),isDesktop:xi(n),isAndroid:pm(s),isWinPhone:vm(s),isIOS:ym(s)||Zt(),isChrome:wm(r),isFirefox:xm(r),isSafari:Mm(r),isOpera:Tm(r),isIE:Am(r),osVersion:bm(s),osName:_m(s),fullBrowserVersion:Nm(r),browserVersion:km(r),browserName:Im(r),mobileVendor:dm(n),mobileModel:hm(n),engineName:Rm(o),engineVersion:Dm(o),getUA:Wm(i),isEdge:Pi(r)||kr(i),isYandex:Sm(r),deviceType:fm(n),isIOS13:Lm(),isIPad13:Zt(),isIPhone13:Fm(),isIPod13:Vm(),isElectron:jm(),isEdgeChromium:kr(i),isLegacyEdge:Pi(r)&&!kr(i),isWindows:mm(s),isMacOs:gm(s),isMIUI:Em(r),isSamsungBrowser:Om(r)}}var Bm=am(Tt),Um=lm(Tt),zm=cm(Tt),jT=um(Tt),LT=Cm(rt)||Zt(),FT=Pm(rt),xa=im(Tt)||Zt(),Hm=sm(Tt),qm=om(Tt)||Zt(),Gm=xi(Tt),VT=xi(Tt),Ym=pm(Kn),Xm=vm(Kn),Km=ym(Kn)||Zt(),WT=wm(rt),$T=xm(rt),BT=Mm(rt),UT=Tm(rt),Zm=Am(rt),zT=bm(Kn),HT=_m(Kn),qT=Nm(rt),GT=km(rt),YT=Im(rt),XT=dm(Tt),KT=hm(Tt),ZT=Rm(eu),QT=Dm(eu),JT=Wm(so),eA=Pi(rt)||kr(so),tA=Sm(rt),nA=fm(Tt),rA=Lm(),sA=Zt(),oA=Fm(),iA=Vm(),aA=jm(),cA=kr(so),lA=Pi(rt)&&!kr(so),uA=mm(Kn),dA=gm(Kn),hA=Em(rt),fA=Om(rt),pA=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=oo(e),r=n.device,s=n.browser,o=n.os,i=n.engine,a=n.ua;return $m({device:r,browser:s,os:o,engine:i,ua:a})},mA=function(e){var n=e.renderWithFragment,r=e.children,s=It(e,["renderWithFragment","children"]);return Ym?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",s,r):null},gA=function(e){var n=e.renderWithFragment,r=e.children,s=It(e,["renderWithFragment","children"]);return Gm?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",s,r):null},vA=function(e){var n=e.renderWithFragment,r=e.children,s=It(e,["renderWithFragment","children"]);return Zm?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",s,r):null},yA=function(e){var n=e.renderWithFragment,r=e.children,s=It(e,["renderWithFragment","children"]);return Km?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",s,r):null},bA=function(e){var n=e.renderWithFragment,r=e.children,s=It(e,["renderWithFragment","children"]);return xa?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",s,r):null},_A=function(e){var n=e.renderWithFragment,r=e.children,s=It(e,["renderWithFragment","children"]);return qm?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",s,r):null},wA=function(e){var n=e.renderWithFragment,r=e.children,s=It(e,["renderWithFragment","children"]);return Xm?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",s,r):null},xA=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var s=It(e,["renderWithFragment","children","viewClassName","style"]);return Hm?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",s,r):null},PA=function(e){var n=e.renderWithFragment,r=e.children,s=It(e,["renderWithFragment","children"]);return Bm?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",s,r):null},SA=function(e){var n=e.renderWithFragment,r=e.children,s=It(e,["renderWithFragment","children"]);return Um?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",s,r):null},MA=function(e){var n=e.renderWithFragment,r=e.children,s=It(e,["renderWithFragment","children"]);return zm?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",s,r):null},CA=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var s=e.condition,o=It(e,["renderWithFragment","children","viewClassName","style","condition"]);return s?n?Oe.createElement(tt.Fragment,null,r):Oe.createElement("div",o,r):null};function TA(t){return function(e){bT(n,e);function n(r){var s;return mT(this,n),s=wT(this,jc(n).call(this,r)),s.isEventListenerAdded=!1,s.handleOrientationChange=s.handleOrientationChange.bind(Fo(s)),s.onOrientationChange=s.onOrientationChange.bind(Fo(s)),s.onPageLoad=s.onPageLoad.bind(Fo(s)),s.state={isLandscape:!1,isPortrait:!1},s}return vT(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var s=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:s===0,isLandscape:s===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":ws(window))!==void 0&&xa&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return Oe.createElement(t,Dc({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(Oe.Component)}function AA(){var t=tt.useState(function(){var o=window.innerWidth>window.innerHeight?90:0;return{isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"}}),e=xT(t,2),n=e[0],r=e[1],s=tt.useCallback(function(){var o=window.innerWidth>window.innerHeight?90:0,i={isPortrait:o===0,isLandscape:o===90,orientation:o===0?"portrait":"landscape"};n.orientation!==i.orientation&&r(i)},[n.orientation]);return tt.useEffect(function(){return(typeof window>"u"?"undefined":ws(window))!==void 0&&xa&&(s(),window.addEventListener("load",s,!1),window.addEventListener("resize",s,!1)),function(){window.removeEventListener("resize",s,!1),window.removeEventListener("load",s,!1)}},[s]),n}function Qm(t){var e=t||window.navigator.userAgent;return oo(e)}function EA(t){var e=t||window.navigator.userAgent,n=Qm(e),r=$m(n);return[r,n]}Y.AndroidView=mA;Y.BrowserTypes=gt;Y.BrowserView=gA;Y.ConsoleView=SA;Y.CustomView=CA;Y.IEView=vA;Y.IOSView=yA;Y.MobileOnlyView=xA;Y.MobileView=bA;Y.OsTypes=rs;Y.SmartTVView=PA;Y.TabletView=_A;Y.WearableView=MA;Y.WinPhoneView=wA;Y.browserName=YT;Y.browserVersion=GT;Y.deviceDetect=DT;Y.deviceType=nA;Y.engineName=ZT;Y.engineVersion=QT;Y.fullBrowserVersion=qT;Y.getSelectorsByUserAgent=pA;Y.getUA=JT;Y.isAndroid=Ym;Y.isBrowser=Gm;Y.isChrome=WT;Y.isChromium=FT;Y.isConsole=Um;Y.isDesktop=VT;Y.isEdge=eA;Y.isEdgeChromium=cA;Y.isElectron=aA;Y.isEmbedded=jT;Y.isFirefox=$T;Y.isIE=Zm;Y.isIOS=Km;Y.isIOS13=rA;Y.isIPad13=sA;Y.isIPhone13=oA;Y.isIPod13=iA;Y.isLegacyEdge=lA;Y.isMIUI=hA;Y.isMacOs=dA;var Bs=Y.isMobile=xa;Y.isMobileOnly=Hm;Y.isMobileSafari=LT;Y.isOpera=UT;Y.isSafari=BT;Y.isSamsungBrowser=fA;Y.isSmartTV=Bm;Y.isTablet=qm;Y.isWearable=zm;Y.isWinPhone=Xm;Y.isWindows=uA;Y.isYandex=tA;Y.mobileModel=KT;Y.mobileVendor=XT;Y.osName=HT;Y.osVersion=zT;Y.parseUserAgent=oo;Y.setUserAgent=ET;Y.useDeviceData=Qm;Y.useDeviceSelectors=EA;Y.useMobileOrientation=AA;Y.withOrientationChange=TA;let At=null,Ka=null,En=2;function OA(){return new bn().toDestination()}function NA(){const t=new bn().toDestination(),e=new _i(5,.1).toDestination();return t.connect(e),t}function kA(){return new bn().toDestination()}function IA(){const t=new bn().toDestination(),e={oscillator:{type:"fatcustom",partials:[.7,1,0,.3,.1],spread:10,count:3},envelope:{attack:.001,decay:1.6,sustain:.5,release:1.6}};return t.set(e),t}function RA(){const t=new bn().toDestination(),e={harmonicity:8,modulationIndex:6,oscillator:{type:"sine2"},envelope:{attack:.001,decay:2,sustain:.1,release:2},modulation:{type:"square2"},modulationEnvelope:{attack:.002,decay:.2,sustain:0,release:.2}};return t.set(e),t}function DA(){const t=new bn().toDestination(),e={harmonicity:5,modulationIndex:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:2,sustain:.1,release:2},modulation:{type:"square"},modulationEnvelope:{attack:.002,decay:.2,sustain:0,release:.2}};return t.set(e),t}function jA(t){if(At!==null&&Ka===t.synth)return{synth:At,baseDecibel:En};switch(Ka=t.synth,At!==null&&At.dispose(),Ka){case"w":En=-1,At=NA();break;case"s":En=16,At=kA();break;case"o":En=-3,At=IA();break;case"pl":En=-8,At=RA();break;case"g":En=-4,At=DA();break;case"p":default:En=2,At=OA();break}return Bs&&At.set({latencyHint:"balanced"}),{synth:At,baseDecibel:En}}const Jm={p:"plumber",w:"wave",s:"swell",o:"organ",pl:"pluck",g:"guit"};function LA(t){const e=t.substring(0,1);return!e||isNaN(Number(e))||Number(e)<0?0:Number(e)>2?2:Number(e)}function FA(t){let e={};try{if(t=t.replace("(",""),t.includes("&amp"))return;t.includes("&fbclid")&&(t=UA(t)),t=t.split("#piano-")[0],e.octave=LA(t),t=t.replace(")",""),e.isKey=t.includes("*"),t=t.replace("*",""),t=zA(t,e);let n=$A(t);e.noteLetter=GA(t.substring(1,n)),e.type=t.substring(n)}catch(n){VA(n,t);return}if(!(ng(e.type)&&k_(e.noteLetter))){WA(t,e);return}return e}function VA(t,e){console.log(t),console.log("Exception - invalid chord code: "+e)}function WA(t,e){console.log("Invalid chord code: "+t+"; letter: "+e.noteLetter+"; type: "+e.type)}function $A(t){let e=BA(t[0])?2:1;for(let n=e;n<t.length;n++)if(t[n]!=="#"&&t[n]!=="b")return n;return t.length}function BA(t){return/^-?\d+$/.test(t)}function UA(t){const e=t.indexOf("&fbclid");let n=t.substring(e,e+69);return t=t.replace(n,""),console.log("fbCode removed: "+n),t}function zA(t,e){if(t.includes(":")){var n=t.split(":").pop();e.slashNote=n,e.slash=!0,t=t.replace(":"+n,"")}return t}function eg(t){var a,c,l;var e="?s="+t.synth+":"+t.volume,n="";let r=(c=(a=t.chordPianoSet)==null?void 0:a.find(u=>u.isProgKey))==null?void 0:c.selectedChord;if((l=t.chordPianoSet)!=null&&l.length)for(let u=0;u<t.chordPianoSet.length;u++){var s=t.chordPianoSet[u],o=s.selectedChord;if(!o)continue;let d=Qt(r,o.noteLetter);var i=o.octave+d+o.type;s.isProgKey&&(i+="*"),ru(o)&&(o.slashNote=Gr(s.showFlats||!1,o.slashNote),o.slashNote=Qt(r,o.slashNote),i+=":"+o.slashNote),n+=`(${i})`}return e+"&p="+n}const HA=t=>`${t.noteLetter}${t.type}${ru(t)?`/${t.slashNote}`:""}`;function qA(t){let e="";for(let n=0;n<t.length;n++){let s=t[n].selectedChord;if(!s)continue;let o=(s.noteLetter??"")+(s.type??"");ru(s)&&(o+="/"+s.slashNote);let i;s.octave!==1&&(i=s.octave),e+=`${i??""}${o} `}return e}function ru(t){return t.slash===!0&&t.slashNote!==void 0&&t.slashNote!==""}function GA(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Gr(t,e){var n=ar(e);if(t){if(e!=null&&e.includes("#"))return Ts[n]??e}else if(e!=null&&e.includes("b"))return ca[n]??e;return e}function YA(t){var e={volume:90,type:"p"};if(t!=null){if(XA(t))return e;var n=t.split(":"),r=n[0],s=parseInt(n[1]);KA(r)&&(e.type=r),ZA(s)&&(e.volume=s)}return e}function XA(t){return t.split(":").length!==2}function KA(t){return Object.keys(Jm).includes(t)}function ZA(t){return!isNaN(t)&&t>=0&&t<=100}function QA(t){if(t==null)return[];var e=t.split(")"),n=[],r=!1;for(let i=0;i<e.length;i++){var s=e[i];if(s!==""){var o=v0(i,s);o&&(r=JA(o,r),n.push(o))}}return n}function JA(t,e){return t.isProgKey&&(e?t.isProgKey=!1:e=!0),e}function Wd(t,e){if(t.building)return t;e.includes("%")&&(e=decodeURIComponent(e));var n=eE(e),r=n.prog!=null?n.prog:n.p,s=YA(n.s);return t.synth=s.type,t.volume=s.volume,t.chordPianoSet=QA(r),t.building=!1,Rn(t),t}function eE(t){return t?(/^[?]/.test(t)?t.slice(1):t).split("&").reduce((e,n)=>{let[r,s]=n.split("=");return e[r]=s?decodeURIComponent(s.replace(/\+/g," ")):"",e},{}):{}}function Rn(t){if(!t.building){var e=eg(t);tE(t,e)}}function tE(t,e){if(e!==t.currentProgCode){if(t.building){t.currentProgCode=e;return}if(t.currentProgCode){const n=t.previousProgCodes.length;(n<=1||t.previousProgCodes[n-1]!==t.currentProgCode)&&t.previousProgCodes.push(t.currentProgCode)}t.currentProgCode=e}}function nE(t){let e="";t=t.replace(","," ").trim().replace(/\s\s+/g," ");for(let n of t.split(" ")){let r=rE(n);e+=`(${r})`}return e}function rE(t){let e=aE(t),n=t.replace(/(^\d+)(.+$)/i,"$2"),r=iE(n),{type:s,slash:o}=sE(n,r);return`${e}${r}${s}${o}`}function sE(t,e){let n=t.replace(e,"").toLowerCase(),r="";try{if(n.includes("/")&&!n.endsWith("6/9")){var s=n.lastIndexOf("/");r=n.substring(s+1),r=":"+cE(r),n=n.substring(0,s)}}catch{console.log("Error while extracting slash"),r=""}return n=oE(n),{type:n,slash:r}}function oE(t){try{t=t.replace("minor","m").replace("diminished","dim").replace("major7","maj7").replace("major","");let e="";return ng(t)?t:(t.startsWith("m")?e+="m":t.includes("dim")&&(e+="dim"),e.includes("dim")||(t.includes("7")?e+="7":t.includes("6")?e+="6":t.includes("9")&&(e+="9")),e!=null&&e.length||(e="x"),e)}catch{return console.log("Error while extracting type"),"x"}}function iE(t){try{let e=(t==null?void 0:t[0])||"",n=$d(t,1);return n.length&&(n+=$d(t,2),e+=n),e}catch{return console.log("Error while extracting letter"),"C"}}function $d(t,e){var n;return(t==null?void 0:t[e])==="#"||((n=t==null?void 0:t[e])==null?void 0:n.toLowerCase())==="b"?t[e].toLowerCase():""}function aE(t){let e="1";try{t.match(/^\d/)&&(e=t.replace(/(^\d+)(.+$)/i,"$1"),Number(e)>2?e="2":Number(e)<0&&(e="0"))}catch{console.log("Error while extracting octave")}return e}function cE(t){return t.charAt(0).toUpperCase()+t.substring(1)}function tg(t,e){const n=t.selectedChord.noteLetter,r=e.noteLetter,s=ar(n);return ar(r)-s}function lE(t,e){const n=tg(t,e),r=e.octave-t.selectedChord.octave;return n+12*r}function uE(t,e){const n=t.selectedChord.noteLetter,r=t.selectedChord.octave??0,o=ar(n)+e,i=Pf(o,r),a=xl("C",i.noteNumber);return{noteLetter:Gr(t.showFlats,a),octave:i.octave}}function dE(t,e){if(t===void 0||t==="")return t||"";let n=ar(t)+e;return n===0&&(n=12),xl("C",n)}const su={"":[0,4,7],m:[0,3,7],m6:[0,3,7,9],m7:[0,3,7,10],m9:[0,3,7,10,14],maj7:[0,4,7,11],maj9:[0,4,7,11,14],maj13:[0,4,7,11,14,21],6:[0,4,7,9],5:[0,7],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,4,7,10,14,17],13:[0,4,7,10,14,17,21],"6/9":[0,4,7,9,14],dim:[0,3,6],dim7:[0,3,6,9],sus2:[0,2,7],sus4:[0,5,7],aug:[0,4,8],add9:[0,4,7,14],add2:[0,2,4,7],mM7:[0,3,7,11],m11:[0,3,7,10,14,17],m13:[0,3,7,10,14,17,21],"7sus4":[0,5,7,10],"7b9":[0,4,7,10,13],"7#5":[0,4,8,10],"7b5":[0,4,6,10],"7#11":[0,4,7,10,18],"m7#9":[0,3,7,10,15],m7b9:[0,3,7,10,13],"m7#5":[0,3,8,10],m7b5:[0,3,6,10],"m7#11":[0,3,7,10,18],"9sus4":[0,5,7,10,14],"+":[0,4,8],x:[0]},ng=t=>su[t]!==void 0;function hE(t,e){const n=su[e],r=[];for(let s=0;s<n.length;s++){const o=t+n[s];r.push(o)}return r}function Si(t){return((t==null?void 0:t.startsWith("m"))&&!(t!=null&&t.includes("maj")))??!1}function Qt(t,e){if(!t)return e;const n=Si(t.type)?"minor":"major",r=Vf(t.noteLetter,n);for(const s of r)if(xs(s,e)){e=s;break}return e}function Po(t,e){if(!t)return!1;const n=Si(t.type)?"minor":"major",r=Vf(t.noteLetter,n);for(const s of r)if(xs(s,e))return!0;return!1}function xs(t,e){return cd(t)===cd(e)}const rg="PIANO_STATE",Za={history:null,previousProgCodes:[],currentProgCode:null,building:!1,chordPianoSet:void 0,synth:"p",volume:90};function fE(t){return{id:t,piano:$f(),selectedKey:{noteLetter:"C",octave:0},selectedChord:{noteLetter:"C",type:"",octave:1}}}function Et(t,e){var n;return((n=t.chordPianoSet)==null?void 0:n.find(r=>r.id===e))||null}function pE(t){var e;(e=t.chordPianoSet)==null||e.forEach(n=>{n.isProgKey=!1})}function Vo(t){var n;const e=(n=t.chordPianoSet)==null?void 0:n.find(r=>r.isProgKey);return e==null?void 0:e.selectedChord}function mE(t,e){pE(t);const n=Et(t,e);n&&(n.isProgKey=!0)}function gE(t){var n;const e=Math.max(...((n=t.chordPianoSet)==null?void 0:n.map(r=>r.id))??[0]);return e===-1/0?0:e+1}function Bd(t,e){const n=Vo(t);return n?Qt(n,e):e}const vE=(t,e)=>{var r,s,o;const n="id"in e?e.id:0;switch(e.type){case"REFRESH_BOARD":return{...t,refreshBoard:Math.random()};case"UPDATE_PIANO":{const i=(r=t.chordPianoSet)==null?void 0:r.map(a=>a.id===n?{...a,piano:e.payload}:a);return{...t,chordPianoSet:i}}case"UPDATE_KEY":{const i=Et(t,n);if(!i)return console.log("Piano not found:",n),t;const a=Gr(i.showFlats??!1,e.payload.noteLetter);i.isProgKey&&y0(n,t.chordPianoSet,i,e.payload);const c=i.isProgKey?a:Bd(t,a);return i.selectedKey={...e.payload,noteLetter:c},i.selectedChord={...i.selectedChord,noteLetter:c,octave:e.payload.octave},i.rendered=!1,bs(i),Rn(t),{...t}}case"UPDATE_SYNTH":return{...t,synth:e.synth};case"REFRESH_PIANO":return{...t,chordPianoSet:(s=t.chordPianoSet)==null?void 0:s.map(i=>i.id===(e==null?void 0:e.id)?{...i,...e.payload}:i)};case"UPDATE_SYNTH_VOLUME":return{...t,volume:e.volume};case"UPDATE_CHORD_TYPE":{const i=Et(t,n);return i&&(i.selectedChord.type=e.chordType,i.rendered=!1,bs(i)),Rn(t),{...t}}case"UPDATE_SLASH_CHORD":{const i=Et(t,n);return i&&(i.selectedChord.slash=e.isSlashChord,i.selectedChord.slashNote=e.slashNote,i.rendered=!1,bs(i)),Rn(t),{...t}}case"UPDATE_SHOW_FLATS":{const i=Et(t,n);if(i){i.showFlats=e.showFlats;let a=Gr(i.showFlats,i.selectedKey.noteLetter);a=Bd(t,a),i.selectedKey.noteLetter=a,i.selectedChord.noteLetter=a}return Rn(t),{...t}}case"ADD_CHORD_PIANO":{if(e.payload!==null){const i=gE(t);return t.chordPianoSet=[...t.chordPianoSet??[],fE(i)],Rn(t),{...t}}return t}case"REMOVE_PIANO":{const i=(o=t.chordPianoSet)==null?void 0:o.filter(a=>a.id!==e.id);return Rn(t),{...t,chordPianoSet:i}}case"SET_PROG_KEY":{if(e.keyChecked)mE(t,e.id);else{const i=Et(t,e.id);i&&(i.isProgKey=!1)}return Rn(t),{...t}}case"BUILD_PROG_FROM_CODE":return e.payload!==null?{...Wd(t,e.payload),building:!1}:t;case"LOAD_PREVIOUS_PROG_CODE":{if(t.previousProgCodes.length>0){const i=t.previousProgCodes.length-1;let a=t.previousProgCodes[i],l={...t,building:!1,previousProgCodes:t.previousProgCodes.slice(0,-1)},u=Wd(l,a);return u.previousProgCodes=t.previousProgCodes.slice(0,-1),{...u}}return t}default:return t}},sg=_.createContext(void 0),yE=()=>{const t=sessionStorage.getItem(rg);if(!t)return Za;try{return{...Za,...JSON.parse(t)}}catch{return Za}},bE=({children:t})=>{const[e,n]=_.useReducer(vE,yE());return _.useEffect(()=>{sessionStorage.setItem(rg,JSON.stringify(e))},[e]),w.jsx(sg.Provider,{value:{state:e,dispatch:n},children:t})},io=()=>{const t=te.useContext(sg);if(t===void 0)throw new Error("usePianoContext must be used within a PianoProvider");return t};var $e={},ou={},ao={},co={},og="Expected a function",Ud=NaN,_E="[object Symbol]",wE=/^\s+|\s+$/g,xE=/^[-+]0x[0-9a-f]+$/i,PE=/^0b[01]+$/i,SE=/^0o[0-7]+$/i,ME=parseInt,CE=typeof ps=="object"&&ps&&ps.Object===Object&&ps,TE=typeof self=="object"&&self&&self.Object===Object&&self,AE=CE||TE||Function("return this")(),EE=Object.prototype,OE=EE.toString,NE=Math.max,kE=Math.min,Qa=function(){return AE.Date.now()};function IE(t,e,n){var r,s,o,i,a,c,l=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(og);e=zd(e)||0,Mi(n)&&(u=!!n.leading,d="maxWait"in n,o=d?NE(zd(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(b){var P=r,C=s;return r=s=void 0,l=b,i=t.apply(C,P),i}function m(b){return l=b,a=setTimeout(v,e),u?p(b):i}function f(b){var P=b-c,C=b-l,E=e-P;return d?kE(E,o-C):E}function g(b){var P=b-c,C=b-l;return c===void 0||P>=e||P<0||d&&C>=o}function v(){var b=Qa();if(g(b))return S(b);a=setTimeout(v,f(b))}function S(b){return a=void 0,h&&r?p(b):(r=s=void 0,i)}function x(){a!==void 0&&clearTimeout(a),l=0,r=c=s=a=void 0}function M(){return a===void 0?i:S(Qa())}function y(){var b=Qa(),P=g(b);if(r=arguments,s=this,c=b,P){if(a===void 0)return m(c);if(d)return a=setTimeout(v,e),p(c)}return a===void 0&&(a=setTimeout(v,e)),i}return y.cancel=x,y.flush=M,y}function RE(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(og);return Mi(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),IE(t,e,{leading:r,maxWait:e,trailing:s})}function Mi(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function DE(t){return!!t&&typeof t=="object"}function jE(t){return typeof t=="symbol"||DE(t)&&OE.call(t)==_E}function zd(t){if(typeof t=="number")return t;if(jE(t))return Ud;if(Mi(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Mi(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(wE,"");var n=PE.test(t);return n||SE.test(t)?ME(t.slice(2),n?2:8):xE.test(t)?Ud:+t}var LE=RE,lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.addPassiveEventListener=function(e,n,r){var s=r.name;s||(s=n,console.warn("Listener must be a named function.")),Wo.has(n)||Wo.set(n,new Set);var o=Wo.get(n);if(!o.has(s)){var i=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,c)}catch{}return a}();e.addEventListener(n,r,i?{passive:!0}:!1),o.add(s)}};lo.removePassiveEventListener=function(e,n,r){e.removeEventListener(n,r),Wo.get(n).delete(r.name||n)};var Wo=new Map;Object.defineProperty(co,"__esModule",{value:!0});var FE=LE,VE=$E(FE),WE=lo;function $E(t){return t&&t.__esModule?t:{default:t}}var BE=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,VE.default)(e,n)},Fe={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,n){if(e){var r=BE(function(s){Fe.scrollHandler(e)},n);Fe.scrollSpyContainers.push(e),(0,WE.addPassiveEventListener)(e,"scroll",r)}},isMounted:function(e){return Fe.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var n=window.pageYOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var n=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var n=Fe.scrollSpyContainers[Fe.scrollSpyContainers.indexOf(e)].spyCallbacks||[];n.forEach(function(r){return r(Fe.currentPositionX(e),Fe.currentPositionY(e))})},addStateHandler:function(e){Fe.spySetState.push(e)},addSpyHandler:function(e,n){var r=Fe.scrollSpyContainers[Fe.scrollSpyContainers.indexOf(n)];r.spyCallbacks||(r.spyCallbacks=[]),r.spyCallbacks.push(e),e(Fe.currentPositionX(n),Fe.currentPositionY(n))},updateStates:function(){Fe.spySetState.forEach(function(e){return e()})},unmount:function(e,n){Fe.scrollSpyContainers.forEach(function(r){return r.spyCallbacks&&r.spyCallbacks.length&&r.spyCallbacks.indexOf(n)>-1&&r.spyCallbacks.splice(r.spyCallbacks.indexOf(n),1)}),Fe.spySetState&&Fe.spySetState.length&&Fe.spySetState.indexOf(e)>-1&&Fe.spySetState.splice(Fe.spySetState.indexOf(e),1),document.removeEventListener("scroll",Fe.scrollHandler)},update:function(){return Fe.scrollSpyContainers.forEach(function(e){return Fe.scrollHandler(e)})}};co.default=Fe;var ss={},uo={};Object.defineProperty(uo,"__esModule",{value:!0});var UE=function(e,n){var r=e.indexOf("#")===0?e.substring(1):e,s=r?"#"+r:"",o=window&&window.location,i=s?o.pathname+o.search+s:o.pathname+o.search;n?history.pushState(history.state,"",i):history.replaceState(history.state,"",i)},zE=function(){return window.location.hash.replace(/^#/,"")},HE=function(e){return function(n){return e.contains?e!=n&&e.contains(n):!!(e.compareDocumentPosition(n)&16)}},qE=function(e){return getComputedStyle(e).position!=="static"},Ja=function(e,n){for(var r=e.offsetTop,s=e.offsetParent;s&&!n(s);)r+=s.offsetTop,s=s.offsetParent;return{offsetTop:r,offsetParent:s}},GE=function(e,n,r){if(r)return e===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?n.offsetLeft:n.offsetLeft-e.offsetLeft;if(e===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(qE(e)){if(n.offsetParent!==e){var s=function(u){return u===e||u===document},o=Ja(n,s),i=o.offsetTop,a=o.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return i}return n.offsetTop}if(n.offsetParent===e.offsetParent)return n.offsetTop-e.offsetTop;var c=function(u){return u===document};return Ja(n,c).offsetTop-Ja(e,c).offsetTop};uo.default={updateHash:UE,getHash:zE,filterElementInContainer:HE,scrollOffset:GE};var Pa={},iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var au={};Object.defineProperty(au,"__esModule",{value:!0});var YE=lo,XE=["mousedown","mousewheel","touchmove","keydown"];au.default={subscribe:function(e){return typeof document<"u"&&XE.forEach(function(n){return(0,YE.addPassiveEventListener)(document,n,e)})}};var ho={};Object.defineProperty(ho,"__esModule",{value:!0});var Fc={registered:{},scrollEvent:{register:function(e,n){Fc.registered[e]=n},remove:function(e){Fc.registered[e]=null}}};ho.default=Fc;Object.defineProperty(Pa,"__esModule",{value:!0});var KE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE=uo;Sa(ZE);var QE=iu,Hd=Sa(QE),JE=au,eO=Sa(JE),tO=ho,Yt=Sa(tO);function Sa(t){return t&&t.__esModule?t:{default:t}}var ig=function(e){return Hd.default[e.smooth]||Hd.default.defaultEasing},nO=function(e){return typeof e=="function"?e:function(){return e}},rO=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Vc=function(){return rO()||function(t,e,n){window.setTimeout(t,n||1e3/60,new Date().getTime())}}(),ag=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},cg=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var r=window.pageXOffset!==void 0,s=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:s?document.documentElement.scrollLeft:document.body.scrollLeft},lg=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var r=window.pageXOffset!==void 0,s=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:s?document.documentElement.scrollTop:document.body.scrollTop},sO=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var r=document.body,s=document.documentElement;return Math.max(r.scrollWidth,r.offsetWidth,s.clientWidth,s.scrollWidth,s.offsetWidth)},oO=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var r=document.body,s=document.documentElement;return Math.max(r.scrollHeight,r.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight)},iO=function t(e,n,r){var s=n.data;if(!n.ignoreCancelEvents&&s.cancel){Yt.default.registered.end&&Yt.default.registered.end(s.to,s.target,s.currentPositionY);return}if(s.delta=Math.round(s.targetPosition-s.startPosition),s.start===null&&(s.start=r),s.progress=r-s.start,s.percent=s.progress>=s.duration?1:e(s.progress/s.duration),s.currentPosition=s.startPosition+Math.ceil(s.delta*s.percent),s.containerElement&&s.containerElement!==document&&s.containerElement!==document.body?n.horizontal?s.containerElement.scrollLeft=s.currentPosition:s.containerElement.scrollTop=s.currentPosition:n.horizontal?window.scrollTo(s.currentPosition,0):window.scrollTo(0,s.currentPosition),s.percent<1){var o=t.bind(null,e,n);Vc.call(window,o);return}Yt.default.registered.end&&Yt.default.registered.end(s.to,s.target,s.currentPosition)},cu=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},fo=function(e,n,r,s){n.data=n.data||ag(),window.clearTimeout(n.data.delayTimeout);var o=function(){n.data.cancel=!0};if(eO.default.subscribe(o),cu(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?cg(n):lg(n),n.data.targetPosition=n.absolute?e:e+n.data.startPosition,n.data.startPosition===n.data.targetPosition){Yt.default.registered.end&&Yt.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=nO(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=r,n.data.target=s;var i=ig(n),a=iO.bind(null,i,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){Yt.default.registered.begin&&Yt.default.registered.begin(n.data.to,n.data.target),Vc.call(window,a)},n.delay);return}Yt.default.registered.begin&&Yt.default.registered.begin(n.data.to,n.data.target),Vc.call(window,a)},Ma=function(e){return e=KE({},e),e.data=e.data||ag(),e.absolute=!0,e},aO=function(e){fo(0,Ma(e))},cO=function(e,n){fo(e,Ma(n))},lO=function(e){e=Ma(e),cu(e),fo(e.horizontal?sO(e):oO(e),e)},uO=function(e,n){n=Ma(n),cu(n);var r=n.horizontal?cg(n):lg(n);fo(e+r,n)};Pa.default={animateTopScroll:fo,getAnimationType:ig,scrollToTop:aO,scrollToBottom:lO,scrollTo:cO,scrollMore:uO};Object.defineProperty(ss,"__esModule",{value:!0});var dO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hO=uo,fO=lu(hO),pO=Pa,mO=lu(pO),gO=ho,So=lu(gO);function lu(t){return t&&t.__esModule?t:{default:t}}var Mo={},qd=void 0;ss.default={unmount:function(){Mo={}},register:function(e,n){Mo[e]=n},unregister:function(e){delete Mo[e]},get:function(e){return Mo[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return qd=e},getActiveLink:function(){return qd},scrollTo:function(e,n){var r=this.get(e);if(!r){console.warn("target Element not found");return}n=dO({},n,{absolute:!1});var s=n.containerId,o=n.container,i=void 0;s?i=document.getElementById(s):o&&o.nodeType?i=o:i=document,n.absolute=!0;var a=n.horizontal,c=fO.default.scrollOffset(i,r,a)+(n.offset||0);if(!n.smooth){So.default.registered.begin&&So.default.registered.begin(e,r),i===document?n.horizontal?window.scrollTo(c,0):window.scrollTo(0,c):i.scrollTop=c,So.default.registered.end&&So.default.registered.end(e,r);return}mO.default.animateTopScroll(c,n,e,r)}};var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});var vO=uo,ec=yO(vO);function yO(t){return t&&t.__esModule?t:{default:t}}var bO={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,n){this.containers[e]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,n=this.getHash();n?window.setTimeout(function(){e.scrollTo(n,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,n){var r=this.scroller,s=r.get(e);if(s&&(n||e!==r.getActiveLink())){var o=this.containers[e]||document;r.scrollTo(e,{container:o})}},getHash:function(){return ec.default.getHash()},changeHash:function(e,n){this.isInitialized()&&ec.default.getHash()!==e&&ec.default.updateHash(e,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Ca.default=bO;Object.defineProperty(ao,"__esModule",{value:!0});var Co=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_O=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wO=_,Gd=po(wO),xO=co,To=po(xO),PO=ss,SO=po(PO),MO=Gs,De=po(MO),CO=Ca,On=po(CO);function po(t){return t&&t.__esModule?t:{default:t}}function TO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function EO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Yd={to:De.default.string.isRequired,containerId:De.default.string,container:De.default.object,activeClass:De.default.string,activeStyle:De.default.object,spy:De.default.bool,horizontal:De.default.bool,smooth:De.default.oneOfType([De.default.bool,De.default.string]),offset:De.default.number,delay:De.default.number,isDynamic:De.default.bool,onClick:De.default.func,duration:De.default.oneOfType([De.default.number,De.default.func]),absolute:De.default.bool,onSetActive:De.default.func,onSetInactive:De.default.func,ignoreCancelEvents:De.default.bool,hashSpy:De.default.bool,saveHashHistory:De.default.bool,spyThrottle:De.default.number};ao.default=function(t,e){var n=e||SO.default,r=function(o){EO(i,o);function i(a){TO(this,i);var c=AO(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,a));return s.call(c),c.state={active:!1},c}return _O(i,[{key:"getScrollSpyContainer",value:function(){var c=this.props.containerId,l=this.props.container;return c&&!l?document.getElementById(c):l&&l.nodeType?l:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var c=this.getScrollSpyContainer();To.default.isMounted(c)||To.default.mount(c,this.props.spyThrottle),this.props.hashSpy&&(On.default.isMounted()||On.default.mount(n),On.default.mapContainer(this.props.to,c)),To.default.addSpyHandler(this.spyHandler,c),this.setState({container:c})}}},{key:"componentWillUnmount",value:function(){To.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var c="";this.state&&this.state.active?c=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():c=this.props.className;var l={};this.state&&this.state.active?l=Co({},this.props.style,this.props.activeStyle):l=Co({},this.props.style);var u=Co({},this.props);for(var d in Yd)u.hasOwnProperty(d)&&delete u[d];return u.className=c,u.style=l,u.onClick=this.handleClick,Gd.default.createElement(t,u)}}]),i}(Gd.default.PureComponent),s=function(){var i=this;this.scrollTo=function(a,c){n.scrollTo(a,Co({},i.state,c))},this.handleClick=function(a){i.props.onClick&&i.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),i.scrollTo(i.props.to,i.props)},this.spyHandler=function(a,c){var l=i.getScrollSpyContainer();if(!(On.default.isMounted()&&!On.default.isInitialized())){var u=i.props.horizontal,d=i.props.to,h=null,p=void 0,m=void 0;if(u){var f=0,g=0,v=0;if(l.getBoundingClientRect){var S=l.getBoundingClientRect();v=S.left}if(!h||i.props.isDynamic){if(h=n.get(d),!h)return;var x=h.getBoundingClientRect();f=x.left-v+a,g=f+x.width}var M=a-i.props.offset;p=M>=Math.floor(f)&&M<Math.floor(g),m=M<Math.floor(f)||M>=Math.floor(g)}else{var y=0,b=0,P=0;if(l.getBoundingClientRect){var C=l.getBoundingClientRect();P=C.top}if(!h||i.props.isDynamic){if(h=n.get(d),!h)return;var E=h.getBoundingClientRect();y=E.top-P+c,b=y+E.height}var O=c-i.props.offset;p=O>=Math.floor(y)&&O<Math.floor(b),m=O<Math.floor(y)||O>=Math.floor(b)}var k=n.getActiveLink();if(m){if(d===k&&n.setActiveLink(void 0),i.props.hashSpy&&On.default.getHash()===d){var N=i.props.saveHashHistory,j=N===void 0?!1:N;On.default.changeHash("",j)}i.props.spy&&i.state.active&&(i.setState({active:!1}),i.props.onSetInactive&&i.props.onSetInactive(d,h))}if(p&&(k!==d||i.state.active===!1)){n.setActiveLink(d);var R=i.props.saveHashHistory,W=R===void 0?!1:R;i.props.hashSpy&&On.default.changeHash(d,W),i.props.spy&&(i.setState({active:!0}),i.props.onSetActive&&i.props.onSetActive(d,h))}}}};return r.propTypes=Yd,r.defaultProps={offset:0},r};Object.defineProperty(ou,"__esModule",{value:!0});var OO=_,Xd=ug(OO),NO=ao,kO=ug(NO);function ug(t){return t&&t.__esModule?t:{default:t}}function IO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kd(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function RO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var DO=function(t){RO(e,t);function e(){var n,r,s,o;IO(this,e);for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return o=(r=(s=Kd(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),s),s.render=function(){return Xd.default.createElement("a",s.props,s.props.children)},r),Kd(s,o)}return e}(Xd.default.Component);ou.default=(0,kO.default)(DO);var uu={};Object.defineProperty(uu,"__esModule",{value:!0});var jO=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),LO=_,Zd=dg(LO),FO=ao,VO=dg(FO);function dg(t){return t&&t.__esModule?t:{default:t}}function WO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $O(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function BO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var UO=function(t){BO(e,t);function e(){return WO(this,e),$O(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return jO(e,[{key:"render",value:function(){return Zd.default.createElement("button",this.props,this.props.children)}}]),e}(Zd.default.Component);uu.default=(0,VO.default)(UO);var du={},Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});var zO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HO=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qO=_,Qd=Aa(qO),GO=Kr;Aa(GO);var YO=ss,Jd=Aa(YO),XO=Gs,eh=Aa(XO);function Aa(t){return t&&t.__esModule?t:{default:t}}function KO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function QO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Ta.default=function(t){var e=function(n){QO(r,n);function r(s){KO(this,r);var o=ZO(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,s));return o.childBindings={domNode:null},o}return HO(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Jd.default.unregister(this.props.name)}},{key:"registerElems",value:function(o){Jd.default.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return Qd.default.createElement(t,zO({},this.props,{parentBindings:this.childBindings}))}}]),r}(Qd.default.Component);return e.propTypes={name:eh.default.string,id:eh.default.string},e};Object.defineProperty(du,"__esModule",{value:!0});var th=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JO=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),eN=_,nh=hu(eN),tN=Ta,nN=hu(tN),rN=Gs,rh=hu(rN);function hu(t){return t&&t.__esModule?t:{default:t}}function sN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function iN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hg=function(t){iN(e,t);function e(){return sN(this,e),oN(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return JO(e,[{key:"render",value:function(){var r=this,s=th({},this.props);return delete s.name,s.parentBindings&&delete s.parentBindings,nh.default.createElement("div",th({},s,{ref:function(i){r.props.parentBindings.domNode=i}}),this.props.children)}}]),e}(nh.default.Component);hg.propTypes={name:rh.default.string,id:rh.default.string};du.default=(0,nN.default)(hg);var tc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sh=function(){function t(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function oh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ih(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ah(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ao=_,Jn=co,nc=ss,Ve=Gs,Nn=Ca,ch={to:Ve.string.isRequired,containerId:Ve.string,container:Ve.object,activeClass:Ve.string,spy:Ve.bool,smooth:Ve.oneOfType([Ve.bool,Ve.string]),offset:Ve.number,delay:Ve.number,isDynamic:Ve.bool,onClick:Ve.func,duration:Ve.oneOfType([Ve.number,Ve.func]),absolute:Ve.bool,onSetActive:Ve.func,onSetInactive:Ve.func,ignoreCancelEvents:Ve.bool,hashSpy:Ve.bool,spyThrottle:Ve.number},aN={Scroll:function(e,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var r=n||nc,s=function(i){ah(a,i);function a(c){oh(this,a);var l=ih(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,c));return o.call(l),l.state={active:!1},l}return sh(a,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,u=this.props.container;return l?document.getElementById(l):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();Jn.isMounted(l)||Jn.mount(l,this.props.spyThrottle),this.props.hashSpy&&(Nn.isMounted()||Nn.mount(r),Nn.mapContainer(this.props.to,l)),this.props.spy&&Jn.addStateHandler(this.stateHandler),Jn.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){Jn.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var u=tc({},this.props);for(var d in ch)u.hasOwnProperty(d)&&delete u[d];return u.className=l,u.onClick=this.handleClick,Ao.createElement(e,u)}}]),a}(Ao.Component),o=function(){var a=this;this.scrollTo=function(c,l){r.scrollTo(c,tc({},a.state,l))},this.handleClick=function(c){a.props.onClick&&a.props.onClick(c),c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){r.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(c){var l=a.getScrollSpyContainer();if(!(Nn.isMounted()&&!Nn.isInitialized())){var u=a.props.to,d=null,h=0,p=0,m=0;if(l.getBoundingClientRect){var f=l.getBoundingClientRect();m=f.top}if(!d||a.props.isDynamic){if(d=r.get(u),!d)return;var g=d.getBoundingClientRect();h=g.top-m+c,p=h+g.height}var v=c-a.props.offset,S=v>=Math.floor(h)&&v<Math.floor(p),x=v<Math.floor(h)||v>=Math.floor(p),M=r.getActiveLink();if(x)return u===M&&r.setActiveLink(void 0),a.props.hashSpy&&Nn.getHash()===u&&Nn.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),Jn.updateStates();if(S&&M!==u)return r.setActiveLink(u),a.props.hashSpy&&Nn.changeHash(u),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(u)),Jn.updateStates()}}};return s.propTypes=ch,s.defaultProps={offset:0},s},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(r){ah(s,r);function s(o){oh(this,s);var i=ih(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,o));return i.childBindings={domNode:null},i}return sh(s,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(i){this.props.name!==i.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;nc.unregister(this.props.name)}},{key:"registerElems",value:function(i){nc.register(i,this.childBindings.domNode)}},{key:"render",value:function(){return Ao.createElement(e,tc({},this.props,{parentBindings:this.childBindings}))}}]),s}(Ao.Component);return n.propTypes={name:Ve.string,id:Ve.string},n}},cN=aN;Object.defineProperty($e,"__esModule",{value:!0});$e.Helpers=$e.ScrollElement=$e.ScrollLink=$e.animateScroll=$e.scrollSpy=$e.Events=Sg=$e.scroller=$e.Element=$e.Button=Pg=$e.Link=void 0;var lN=ou,fg=ln(lN),uN=uu,pg=ln(uN),dN=du,mg=ln(dN),hN=ss,gg=ln(hN),fN=ho,vg=ln(fN),pN=co,yg=ln(pN),mN=Pa,bg=ln(mN),gN=ao,_g=ln(gN),vN=Ta,wg=ln(vN),yN=cN,xg=ln(yN);function ln(t){return t&&t.__esModule?t:{default:t}}var Pg=$e.Link=fg.default;$e.Button=pg.default;$e.Element=mg.default;var Sg=$e.scroller=gg.default;$e.Events=vg.default;$e.scrollSpy=yg.default;$e.animateScroll=bg.default;$e.ScrollLink=_g.default;$e.ScrollElement=wg.default;$e.Helpers=xg.default;$e.default={Link:fg.default,Button:pg.default,Element:mg.default,scroller:gg.default,Events:vg.default,scrollSpy:yg.default,animateScroll:bg.default,ScrollLink:_g.default,ScrollElement:wg.default,Helpers:xg.default};/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */function Ps(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ps=function(e){return typeof e}:Ps=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}function bN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wN(t,e,n){return e&&_N(t.prototype,e),t}function xN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){xN(t,s,n[s])})}return t}function Mg(t,e){return PN(t)||SN(t,e)||MN()}function PN(t){if(Array.isArray(t))return t}function SN(t,e){var n=[],r=!0,s=!1,o=void 0;try{for(var i=t[Symbol.iterator](),a;!(r=(a=i.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(c){s=!0,o=c}finally{try{!r&&i.return!=null&&i.return()}finally{if(s)throw o}}return n}function MN(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var lh=function(){},fu={},Cg={},CN=null,Tg={mark:lh,measure:lh};try{typeof window<"u"&&(fu=window),typeof document<"u"&&(Cg=document),typeof MutationObserver<"u"&&(CN=MutationObserver),typeof performance<"u"&&(Tg=performance)}catch{}var TN=fu.navigator||{},uh=TN.userAgent,dh=uh===void 0?"":uh,Ea=fu,ct=Cg,Eo=Tg;Ea.document;var pu=!!ct.documentElement&&!!ct.head&&typeof ct.addEventListener=="function"&&typeof ct.createElement=="function";~dh.indexOf("MSIE")||~dh.indexOf("Trident/");var _n="___FONT_AWESOME___",Ag="fa",Eg="svg-inline--fa",AN="data-fa-i2svg";(function(){try{return!0}catch{return!1}})();var rc={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Og=Ea.FontAwesomeConfig||{};function EN(t){var e=ct.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function ON(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(ct&&typeof ct.querySelector=="function"){var NN=[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];NN.forEach(function(t){var e=Mg(t,2),n=e[0],r=e[1],s=ON(EN(n));s!=null&&(Og[r]=s)})}var kN={familyPrefix:Ag,replacementClass:Eg,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Wc=me({},kN,Og);Wc.autoReplaceSvg||(Wc.observeMutations=!1);var xt=me({},Wc);Ea.FontAwesomeConfig=xt;var wn=Ea||{};wn[_n]||(wn[_n]={});wn[_n].styles||(wn[_n].styles={});wn[_n].hooks||(wn[_n].hooks={});wn[_n].shims||(wn[_n].shims=[]);var Jt=wn[_n],IN=[],RN=function t(){ct.removeEventListener("DOMContentLoaded",t),$c=1,IN.map(function(e){return e()})},$c=!1;pu&&($c=(ct.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ct.readyState),$c||ct.addEventListener("DOMContentLoaded",RN));var mu="pending",Ng="settled",Ci="fulfilled",Ti="rejected",DN=function(){},kg=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",jN=typeof setImmediate>"u"?setTimeout:setImmediate,ms=[],Bc;function LN(){for(var t=0;t<ms.length;t++)ms[t][0](ms[t][1]);ms=[],Bc=!1}function Ai(t,e){ms.push([t,e]),Bc||(Bc=!0,jN(LN,0))}function FN(t,e){function n(s){gu(e,s)}function r(s){Us(e,s)}try{t(n,r)}catch(s){r(s)}}function Ig(t){var e=t.owner,n=e._state,r=e._data,s=t[n],o=t.then;if(typeof s=="function"){n=Ci;try{r=s(r)}catch(i){Us(o,i)}}Rg(o,r)||(n===Ci&&gu(o,r),n===Ti&&Us(o,r))}function Rg(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||Ps(e)==="object")){var r=e.then;if(typeof r=="function")return r.call(e,function(s){n||(n=!0,e===s?Dg(t,s):gu(t,s))},function(s){n||(n=!0,Us(t,s))}),!0}}catch(s){return n||Us(t,s),!0}return!1}function gu(t,e){(t===e||!Rg(t,e))&&Dg(t,e)}function Dg(t,e){t._state===mu&&(t._state=Ng,t._data=e,Ai(VN,t))}function Us(t,e){t._state===mu&&(t._state=Ng,t._data=e,Ai(WN,t))}function jg(t){t._then=t._then.forEach(Ig)}function VN(t){t._state=Ci,jg(t)}function WN(t){t._state=Ti,jg(t),!t._handled&&kg&&global.process.emit("unhandledRejection",t._data,t)}function $N(t){global.process.emit("rejectionHandled",t)}function kt(t){if(typeof t!="function")throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof kt))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],FN(t,this)}kt.prototype={constructor:kt,_state:mu,_then:null,_data:void 0,_handled:!1,then:function(e,n){var r={owner:this,then:new this.constructor(DN),fulfilled:e,rejected:n};return(n||e)&&!this._handled&&(this._handled=!0,this._state===Ti&&kg&&Ai($N,this)),this._state===Ci||this._state===Ti?Ai(Ig,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}};kt.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new kt(function(e,n){var r=[],s=0;function o(c){return s++,function(l){r[c]=l,--s||e(r)}}for(var i=0,a;i<t.length;i++)a=t[i],a&&typeof a.then=="function"?a.then(o(i),n):r[i]=a;s||e(r)})};kt.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new kt(function(e,n){for(var r=0,s;r<t.length;r++)s=t[r],s&&typeof s.then=="function"?s.then(e,n):e(s)})};kt.resolve=function(t){return t&&Ps(t)==="object"&&t.constructor===kt?t:new kt(function(e){e(t)})};kt.reject=function(t){return new kt(function(e,n){n(t)})};var Er={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function BN(t){if(!(!t||!pu)){var e=ct.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=ct.head.childNodes,r=null,s=n.length-1;s>-1;s--){var o=n[s],i=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(i)>-1&&(r=o)}return ct.head.insertBefore(e,r),t}}var UN="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ei(){for(var t=12,e="";t-- >0;)e+=UN[Math.random()*62|0];return e}function Lg(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zN(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(Lg(t[n]),'" ')},"").trim()}function Fg(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function Vg(t){return t.size!==Er.size||t.x!==Er.x||t.y!==Er.y||t.rotate!==Er.rotate||t.flipX||t.flipY}function Wg(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,s={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),i="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),c={transform:"".concat(o," ").concat(i," ").concat(a)},l={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:l}}var sc={x:0,y:0,width:"100%",height:"100%"};function hh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function HN(t){return t.tag==="g"?t.children:[t]}function qN(t){var e=t.children,n=t.attributes,r=t.main,s=t.mask,o=t.maskId,i=t.transform,a=r.width,c=r.icon,l=s.width,u=s.icon,d=Wg({transform:i,containerWidth:l,iconWidth:a}),h={tag:"rect",attributes:me({},sc,{fill:"white"})},p=c.children?{children:c.children.map(hh)}:{},m={tag:"g",attributes:me({},d.inner),children:[hh(me({tag:c.tag,attributes:me({},c.attributes,d.path)},p))]},f={tag:"g",attributes:me({},d.outer),children:[m]},g="mask-".concat(o||Ei()),v="clip-".concat(o||Ei()),S={tag:"mask",attributes:me({},sc,{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,f]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:HN(u)},S]};return e.push(x,{tag:"rect",attributes:me({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(g,")")},sc)}),{children:e,attributes:n}}function GN(t){var e=t.children,n=t.attributes,r=t.main,s=t.transform,o=t.styles,i=Fg(o);if(i.length>0&&(n.style=i),Vg(s)){var a=Wg({transform:s,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:me({},a.outer),children:[{tag:"g",attributes:me({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:me({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}function YN(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,o=t.styles,i=t.transform;if(Vg(i)&&n.found&&!r.found){var a=n.width,c=n.height,l={x:a/c/2,y:.5};s.style=Fg(me({},o,{"transform-origin":"".concat(l.x+i.x/16,"em ").concat(l.y+i.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function XN(t){var e=t.prefix,n=t.iconName,r=t.children,s=t.attributes,o=t.symbol,i=o===!0?"".concat(e,"-").concat(xt.familyPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:me({},s,{id:i}),children:r}]}]}function KN(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,o=t.iconName,i=t.transform,a=t.symbol,c=t.title,l=t.maskId,u=t.titleId,d=t.extra,h=t.watchable,p=h===void 0?!1:h,m=r.found?r:n,f=m.width,g=m.height,v=s==="fak",S=v?"":"fa-w-".concat(Math.ceil(f/g*16)),x=[xt.replacementClass,o?"".concat(xt.familyPrefix,"-").concat(o):"",S].filter(function(O){return d.classes.indexOf(O)===-1}).filter(function(O){return O!==""||!!O}).concat(d.classes).join(" "),M={children:[],attributes:me({},d.attributes,{"data-prefix":s,"data-icon":o,class:x,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(g)})},y=v&&!~d.classes.indexOf("fa-fw")?{width:"".concat(f/g*16*.0625,"em")}:{};p&&(M.attributes[AN]=""),c&&M.children.push({tag:"title",attributes:{id:M.attributes["aria-labelledby"]||"title-".concat(u||Ei())},children:[c]});var b=me({},M,{prefix:s,iconName:o,main:n,mask:r,maskId:l,transform:i,symbol:a,styles:me({},y,d.styles)}),P=r.found&&n.found?qN(b):GN(b),C=P.children,E=P.attributes;return b.children=C,b.attributes=E,a?XN(b):YN(b)}var fh=function(){};xt.measurePerformance&&Eo&&Eo.mark&&Eo.measure;var oc=function(e,n,r,s){var o=Object.keys(e),i=o.length,a=n,c,l,u;for(r===void 0?(c=1,u=e[o[0]]):(c=0,u=r);c<i;c++)l=o[c],u=a(u,e[l],l,e);return u};function $g(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,s=r===void 0?!1:r,o=Object.keys(e).reduce(function(i,a){var c=e[a],l=!!c.icon;return l?i[c.iconName]=c.icon:i[a]=c,i},{});typeof Jt.hooks.addPack=="function"&&!s?Jt.hooks.addPack(t,o):Jt.styles[t]=me({},Jt.styles[t]||{},o),t==="fas"&&$g("fa",e)}var ph=Jt.styles,ZN=Jt.shims,Bg=function(){var e=function(s){return oc(ph,function(o,i,a){return o[a]=oc(i,s,{}),o},{})};e(function(r,s,o){return s[3]&&(r[s[3]]=o),r}),e(function(r,s,o){var i=s[2];return r[o]=o,i.forEach(function(a){r[a]=o}),r});var n="far"in ph;oc(ZN,function(r,s){var o=s[0],i=s[1],a=s[2];return i==="far"&&!n&&(i="fas"),r[o]={prefix:i,iconName:a},r},{})};Bg();Jt.styles;function mh(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function Ug(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,s=t.children,o=s===void 0?[]:s;return typeof t=="string"?Lg(t):"<".concat(e," ").concat(zN(r),">").concat(o.map(Ug).join(""),"</").concat(e,">")}var QN=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(r,s){var o=s.toLowerCase().split("-"),i=o[0],a=o.slice(1).join("-");if(i&&a==="h")return r.flipX=!0,r;if(i&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(i){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n):n};function Uc(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=new Error().stack}Uc.prototype=Object.create(Error.prototype);Uc.prototype.constructor=Uc;var Oa={fill:"currentColor"},zg={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};me({},Oa,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"});var vu=me({},zg,{attributeName:"opacity"});me({},Oa,{cx:"256",cy:"364",r:"28"}),me({},zg,{attributeName:"r",values:"28;14;28;28;14;28;"}),me({},vu,{values:"1;0;1;1;0;1;"});me({},Oa,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),me({},vu,{values:"1;0;0;0;0;1;"});me({},Oa,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),me({},vu,{values:"0;0;1;1;0;0;"});Jt.styles;function gh(t){var e=t[0],n=t[1],r=t.slice(4),s=Mg(r,1),o=s[0],i=null;return Array.isArray(o)?i={tag:"g",attributes:{class:"".concat(xt.familyPrefix,"-").concat(rc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(xt.familyPrefix,"-").concat(rc.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(xt.familyPrefix,"-").concat(rc.PRIMARY),fill:"currentColor",d:o[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:e,height:n,icon:i}}Jt.styles;var JN=`svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}`;function ek(){var t=Ag,e=Eg,n=xt.familyPrefix,r=xt.replacementClass,s=JN;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),i=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");s=s.replace(o,".".concat(n,"-")).replace(i,"--".concat(n,"-")).replace(a,".".concat(r))}return s}var tk=function(){function t(){bN(this,t),this.definitions={}}return wN(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var i=s.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(a){n.definitions[a]=me({},n.definitions[a]||{},i[a]),$g(a,i[a]),Bg()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(o){var i=s[o],a=i.prefix,c=i.iconName,l=i.icon;n[a]||(n[a]={}),n[a][c]=l}),n}}]),t}();function nk(){xt.autoAddCss&&!yh&&(BN(ek()),yh=!0)}function rk(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Ug(r)})}}),Object.defineProperty(t,"node",{get:function(){if(pu){var r=ct.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function vh(t){var e=t.prefix,n=e===void 0?"fa":e,r=t.iconName;if(r)return mh(ok.definitions,n,r)||mh(Jt.styles,n,r)}function sk(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:vh(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:vh(s||{})),t(r,me({},n,{mask:s}))}}var ok=new tk,yh=!1,zc={transform:function(e){return QN(e)}},ik=sk(function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transform,r=n===void 0?Er:n,s=e.symbol,o=s===void 0?!1:s,i=e.mask,a=i===void 0?null:i,c=e.maskId,l=c===void 0?null:c,u=e.title,d=u===void 0?null:u,h=e.titleId,p=h===void 0?null:h,m=e.classes,f=m===void 0?[]:m,g=e.attributes,v=g===void 0?{}:g,S=e.styles,x=S===void 0?{}:S;if(t){var M=t.prefix,y=t.iconName,b=t.icon;return rk(me({type:"icon"},t),function(){return nk(),xt.autoA11y&&(d?v["aria-labelledby"]="".concat(xt.replacementClass,"-title-").concat(p||Ei()):(v["aria-hidden"]="true",v.focusable="false")),KN({icons:{main:gh(b),mask:a?gh(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:M,iconName:y,transform:me({},Er,r),symbol:o,title:d,maskId:l,titleId:p,extra:{attributes:v,styles:x,classes:f}})})}});function bh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bh(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oi(t){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oi(t)}function Or(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ak(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ck(t,e){if(t==null)return{};var n=ak(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hc(t){return lk(t)||uk(t)||dk(t)||hk()}function lk(t){if(Array.isArray(t))return qc(t)}function uk(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dk(t,e){if(t){if(typeof t=="string")return qc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qc(t,e)}}function qc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fk(t){var e,n=t.beat,r=t.fade,s=t.beatFade,o=t.bounce,i=t.shake,a=t.flash,c=t.spin,l=t.spinPulse,u=t.spinReverse,d=t.pulse,h=t.fixedWidth,p=t.inverse,m=t.border,f=t.listItem,g=t.flip,v=t.size,S=t.rotation,x=t.pull,M=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":o,"fa-shake":i,"fa-flash":a,"fa-spin":c,"fa-spin-reverse":u,"fa-spin-pulse":l,"fa-pulse":d,"fa-fw":h,"fa-inverse":p,"fa-border":m,"fa-li":f,"fa-flip":g===!0,"fa-flip-horizontal":g==="horizontal"||g==="both","fa-flip-vertical":g==="vertical"||g==="both"},Or(e,"fa-".concat(v),typeof v<"u"&&v!==null),Or(e,"fa-rotate-".concat(S),typeof S<"u"&&S!==null&&S!==0),Or(e,"fa-pull-".concat(x),typeof x<"u"&&x!==null),Or(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(M).map(function(y){return M[y]?y:null}).filter(function(y){return y})}function pk(t){return t=t-0,t===t}function Hg(t){return pk(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var mk=["style"];function gk(t){return t.charAt(0).toUpperCase()+t.slice(1)}function vk(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),s=Hg(n.slice(0,r)),o=n.slice(r+1).trim();return s.startsWith("webkit")?e[gk(s)]=o:e[s]=o,e},{})}function qg(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(c){return qg(t,c)}),s=Object.keys(e.attributes||{}).reduce(function(c,l){var u=e.attributes[l];switch(l){case"class":c.attrs.className=u,delete e.attributes.class;break;case"style":c.attrs.style=vk(u);break;default:l.indexOf("aria-")===0||l.indexOf("data-")===0?c.attrs[l.toLowerCase()]=u:c.attrs[Hg(l)]=u}return c},{attrs:{}}),o=n.style,i=o===void 0?{}:o,a=ck(n,mk);return s.attrs.style=Xt(Xt({},s.attrs.style),i),t.apply(void 0,[e.tag,Xt(Xt({},s.attrs),a)].concat(Hc(r)))}var Gg=!1;try{Gg=!0}catch{}function yk(){if(!Gg&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function _h(t){if(t&&Oi(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(zc.icon)return zc.icon(t);if(t===null)return null;if(t&&Oi(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function ic(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Or({},t,e):{}}var wh={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Na=te.forwardRef(function(t,e){var n=Xt(Xt({},wh),t),r=n.icon,s=n.mask,o=n.symbol,i=n.className,a=n.title,c=n.titleId,l=n.maskId,u=_h(r),d=ic("classes",[].concat(Hc(fk(n)),Hc((i||"").split(" ")))),h=ic("transform",typeof n.transform=="string"?zc.transform(n.transform):n.transform),p=ic("mask",_h(s)),m=ik(u,Xt(Xt(Xt(Xt({},d),h),p),{},{symbol:o,title:a,titleId:c,maskId:l}));if(!m)return yk("Could not find icon",u),null;var f=m.abstract,g={ref:e};return Object.keys(n).forEach(function(v){wh.hasOwnProperty(v)||(g[v]=n[v])}),bk(f[0],g)});Na.displayName="FontAwesomeIcon";Na.propTypes={beat:oe.bool,border:oe.bool,beatFade:oe.bool,bounce:oe.bool,className:oe.string,fade:oe.bool,flash:oe.bool,mask:oe.oneOfType([oe.object,oe.array,oe.string]),maskId:oe.string,fixedWidth:oe.bool,inverse:oe.bool,flip:oe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:oe.oneOfType([oe.object,oe.array,oe.string]),listItem:oe.bool,pull:oe.oneOf(["right","left"]),pulse:oe.bool,rotation:oe.oneOf([0,90,180,270]),shake:oe.bool,size:oe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:oe.bool,spinPulse:oe.bool,spinReverse:oe.bool,symbol:oe.oneOfType([oe.bool,oe.string]),title:oe.string,titleId:oe.string,transform:oe.oneOfType([oe.string,oe.object]),swapOpacity:oe.bool};var bk=qg.bind(null,te.createElement);const _k={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152L0 424c0 48.6 39.4 88 88 88l272 0c48.6 0 88-39.4 88-88l0-112c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 112c0 22.1-17.9 40-40 40L88 464c-22.1 0-40-17.9-40-40l0-272c0-22.1 17.9-40 40-40l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64z"]};let Yg=2;function yu(t,e,n){const r=Et(e,n);if(!r)return;const s=xk(r.piano);Bs||t({type:"UPDATE_PIANO",id:r.id,payload:r.piano});const o=Sk(r.piano),i=Pk(e.volume,o),a=jA(e);wk(a,i,s),Bs||Mk(t,r)}function wk(t,e,n){const r=t.synth;Yg=t.baseDecibel,bt().state!=="running"&&bt().resume(),r.toDestination(),r.releaseAll(),r.volume.value=e,r.triggerAttackRelease(n,"1.1",Bs?"+0.15":"+0.03",.7)}function xk(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];for(let s=0;s<r.length;s++){const o=r[s];if(o.selected){const i=`${o.note.toUpperCase()}${n+3}`;e.push(i),Bs||(o.isStopping=null,o.isPlaying=!0)}}}return e}function Pk(t,e){const n=Ck(t),r=Math.max(...e);return Yg-r/2.5+n}function Sk(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];for(let s=0;s<r.length;s++){const o=r[s];if(o.selected){const i=o.noteNumber+o.octave*12;e.push(i)}}}return e}function Mk(t,e){setTimeout(()=>{const n=e.piano;if(n){for(let r=0;r<n.length;r++){const s=n[r];for(let o=0;o<s.length;o++){const i=s[o];i.isPlaying&&(i.isPlaying=!1,i.isStopping=!0)}}t({type:"UPDATE_PIANO",id:e.id,payload:e.piano})}},1500)}function Ck(t){t==null&&(t=0);let e=0;if(t>=90){const n=t-90;e=e+n*.4}else e=0-20*((90-t)/90);return e}function Tk(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Xg(...t){return e=>t.forEach(n=>Tk(n,e))}function Ce(...t){return _.useCallback(Xg(...t),t)}var hr=_.forwardRef((t,e)=>{const{children:n,...r}=t,s=_.Children.toArray(n),o=s.find(Ek);if(o){const i=o.props.children,a=s.map(c=>c===o?_.Children.count(i)>1?_.Children.only(null):_.isValidElement(i)?i.props.children:null:c);return w.jsx(Gc,{...r,ref:e,children:_.isValidElement(i)?_.cloneElement(i,void 0,a):null})}return w.jsx(Gc,{...r,ref:e,children:n})});hr.displayName="Slot";var Gc=_.forwardRef((t,e)=>{const{children:n,...r}=t;if(_.isValidElement(n)){const s=Nk(n);return _.cloneElement(n,{...Ok(r,n.props),ref:e?Xg(e,s):s})}return _.Children.count(n)>1?_.Children.only(null):null});Gc.displayName="SlotClone";var Ak=({children:t})=>w.jsx(w.Fragment,{children:t});function Ek(t){return _.isValidElement(t)&&t.type===Ak}function Ok(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function Nk(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Kg(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Kg(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Zg(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Kg(t))&&(r&&(r+=" "),r+=e);return r}const xh=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ph=Zg,kk=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Ph(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(l=>{const u=n==null?void 0:n[l],d=o==null?void 0:o[l];if(u===null)return null;const h=xh(u)||xh(d);return s[l][h]}),a=n&&Object.entries(n).reduce((l,u)=>{let[d,h]=u;return h===void 0||(l[d]=h),l},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:d,className:h,...p}=u;return Object.entries(p).every(m=>{let[f,g]=m;return Array.isArray(g)?g.includes({...o,...a}[f]):{...o,...a}[f]===g})?[...l,d,h]:l},[]);return Ph(t,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},bu="-",Ik=t=>{const e=Dk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(bu);return a[0]===""&&a.length!==1&&a.shift(),Qg(a,e)||Rk(i)},getConflictingClassGroupIds:(i,a)=>{const c=n[i]||[];return a&&r[i]?[...c,...r[i]]:c}}},Qg=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Qg(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(bu);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Sh=/^\[(.+)\]$/,Rk=t=>{if(Sh.test(t)){const e=Sh.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Dk=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Lk(Object.entries(t.classGroups),n).forEach(([o,i])=>{Yc(i,r,o,e)}),r},Yc=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Mh(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(jk(s)){Yc(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Yc(i,Mh(e,o),n,r)})})},Mh=(t,e)=>{let n=t;return e.split(bu).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jk=t=>t.isThemeGetter,Lk=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[n,s]}):t,Fk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},Jg="!",Vk=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,i=a=>{const c=[];let l=0,u=0,d;for(let g=0;g<a.length;g++){let v=a[g];if(l===0){if(v===s&&(r||a.slice(g,g+o)===e)){c.push(a.slice(u,g)),u=g+o;continue}if(v==="/"){d=g;continue}}v==="["?l++:v==="]"&&l--}const h=c.length===0?a:a.substring(u),p=h.startsWith(Jg),m=p?h.substring(1):h,f=d&&d>u?d-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:f}};return n?a=>n({className:a,parseClassName:i}):i},Wk=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},$k=t=>({cache:Fk(t.cacheSize),parseClassName:Vk(t),...Ik(t)}),Bk=/\s+/,Uk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(Bk);let a="";for(let c=i.length-1;c>=0;c-=1){const l=i[c],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=n(l);let m=!!p,f=r(m?h.substring(0,p):h);if(!f){if(!m){a=l+(a.length>0?" "+a:a);continue}if(f=r(h),!f){a=l+(a.length>0?" "+a:a);continue}m=!1}const g=Wk(u).join(":"),v=d?g+Jg:g,S=v+f;if(o.includes(S))continue;o.push(S);const x=s(f,m);for(let M=0;M<x.length;++M){const y=x[M];o.push(v+y)}a=l+(a.length>0?" "+a:a)}return a};function zk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ev(e))&&(r&&(r+=" "),r+=n);return r}const ev=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ev(t[r]))&&(n&&(n+=" "),n+=e);return n};function Hk(t,...e){let n,r,s,o=i;function i(c){const l=e.reduce((u,d)=>d(u),t());return n=$k(l),r=n.cache.get,s=n.cache.set,o=a,a(c)}function a(c){const l=r(c);if(l)return l;const u=Uk(c,n);return s(c,u),u}return function(){return o(zk.apply(null,arguments))}}const Ne=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tv=/^\[(?:([a-z-]+):)?(.+)\]$/i,qk=/^\d+\/\d+$/,Gk=new Set(["px","full","screen"]),Yk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hn=t=>Ir(t)||Gk.has(t)||qk.test(t),kn=t=>os(t,"length",iI),Ir=t=>!!t&&!Number.isNaN(Number(t)),ac=t=>os(t,"number",Ir),ds=t=>!!t&&Number.isInteger(Number(t)),Jk=t=>t.endsWith("%")&&Ir(t.slice(0,-1)),se=t=>tv.test(t),In=t=>Yk.test(t),eI=new Set(["length","size","percentage"]),tI=t=>os(t,eI,nv),nI=t=>os(t,"position",nv),rI=new Set(["image","url"]),sI=t=>os(t,rI,cI),oI=t=>os(t,"",aI),hs=()=>!0,os=(t,e,n)=>{const r=tv.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},iI=t=>Xk.test(t)&&!Kk.test(t),nv=()=>!1,aI=t=>Zk.test(t),cI=t=>Qk.test(t),lI=()=>{const t=Ne("colors"),e=Ne("spacing"),n=Ne("blur"),r=Ne("brightness"),s=Ne("borderColor"),o=Ne("borderRadius"),i=Ne("borderSpacing"),a=Ne("borderWidth"),c=Ne("contrast"),l=Ne("grayscale"),u=Ne("hueRotate"),d=Ne("invert"),h=Ne("gap"),p=Ne("gradientColorStops"),m=Ne("gradientColorStopPositions"),f=Ne("inset"),g=Ne("margin"),v=Ne("opacity"),S=Ne("padding"),x=Ne("saturate"),M=Ne("scale"),y=Ne("sepia"),b=Ne("skew"),P=Ne("space"),C=Ne("translate"),E=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",se,e],N=()=>[se,e],j=()=>["",hn,kn],R=()=>["auto",Ir,se],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",se],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Ir,se];return{cacheSize:500,separator:":",theme:{colors:[hs],spacing:[hn,kn],blur:["none","",In,se],brightness:D(),borderColor:[t],borderRadius:["none","","full",In,se],borderSpacing:N(),borderWidth:j(),contrast:D(),grayscale:A(),hueRotate:D(),invert:A(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Jk,kn],inset:k(),margin:k(),opacity:D(),padding:N(),saturate:D(),scale:D(),sepia:A(),skew:D(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[In]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),se]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ds,se]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",ds,se]}],"grid-cols":[{"grid-cols":[hs]}],"col-start-end":[{col:["auto",{span:["full",ds,se]},se]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[hs]}],"row-start-end":[{row:["auto",{span:[ds,se]},se]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,e]}],"min-w":[{"min-w":[se,e,"min","max","fit"]}],"max-w":[{"max-w":[se,e,"none","full","min","max","fit","prose",{screen:[In]},In]}],h:[{h:[se,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,e,"auto","min","max","fit"]}],"font-size":[{text:["base",In,kn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ac]}],"font-family":[{font:[hs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",Ir,ac]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hn,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hn,kn]}],"underline-offset":[{"underline-offset":["auto",hn,se]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),nI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sI]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[hn,se]}],"outline-w":[{outline:[hn,kn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[hn,kn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",In,oI]}],"shadow-color":[{shadow:[hs]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",In,se]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[y]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[ds,se]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hn,kn,ac]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uI=Hk(lI);function Ge(...t){return uI(Zg(t))}const dI=kk("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0shadow-md shadow-slate-900 active:shadow-sm !text-slate-200 hover:bg-primary/80 active:bg-primary/70 !text-sm",{variants:{variant:{default:"bg-primary text-primary-foreground shadow",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),gs=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?hr:"button";return w.jsx(i,{className:Ge(dI({variant:e,size:n,className:t})),ref:o,...s})});gs.displayName="Button";const hI=()=>{var S,x,M;const{state:t,dispatch:e}=io(),[n,r]=_.useState(!1),[s,o]=_.useState(-1),i=-130,a=()=>{var b;if(!((b=t.chordPianoSet)!=null&&b.length))return;const y=c();d(y),m(y)},c=()=>{var b;const y=l();return o(y),((b=t.chordPianoSet)==null?void 0:b[y].id)??0},l=()=>{var b;let y=s+1;return y>=(((b=t.chordPianoSet)==null?void 0:b.length)??0)&&(y=0),y},u=()=>{e({type:"ADD_CHORD_PIANO",payload:"selectedKey"}),r(!0)};_.useEffect(()=>{var y;if((y=t.chordPianoSet)!=null&&y.length&&n){const b=t.chordPianoSet[t.chordPianoSet.length-1].id??0;d(b),r(!1)}},[t.chordPianoSet,n]);const d=y=>{const b=`piano-${y}`,P={duration:500,smooth:!0,offset:i,spy:!0,hashSpy:!0,to:b};Sg.scrollTo(b,P)},h=()=>{e({type:"BUILD_PROG_FROM_CODE",payload:"?s=p:90&p="})},p=()=>{e({type:"LOAD_PREVIOUS_PROG_CODE"})},m=y=>{yu(e,t,y)},f=y=>{var b,P;return((P=(b=y==null?void 0:y.currentProgCode)==null?void 0:b.split("p="))==null?void 0:P[0])??"?s=p:90&p="},g=()=>{const y=f(t),b=qA(t.chordPianoSet),P=window.prompt("Enter your progression",b);if(!P)return;const C=nE(P);C&&(e({type:"BUILD_PROG_FROM_CODE",payload:`${y}p=${C}`}),e({type:"REFRESH_BOARD"}))},v=()=>{var y;return(y=t.chordPianoSet)==null?void 0:y.map((b,P)=>{var C;return w.jsxs("div",{className:"flex",children:[w.jsx(Pg,{className:"chordListItem cursor-pointer hover:text-blue-600 transition-colors pl-[3px] !ml-[-3px]",to:`piano-${b.id}`,spy:!0,offset:i,isDynamic:!0,duration:500,smooth:!0,onClick:()=>m(b.id),children:w.jsx("div",{className:"chordItem",children:HA(b.selectedChord)})}),P!==(((C=t.chordPianoSet)==null?void 0:C.length)??0)-1&&w.jsx("span",{className:"mx-2",children:"|"})]},`ci-${b.id}`)})};return w.jsx("nav",{className:"fixed top-0 w-full bg-background opacity-[98%] shadow-sm z-50 ",children:w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("div",{className:"flex justify-center bg-primary/10",children:[w.jsx(gs,{variant:"default",size:"sm",className:"btn-main chord-btn",onClick:a,disabled:!((S=t.chordPianoSet)!=null&&S.length),children:"Play"}),w.jsx(gs,{variant:"default",size:"sm",className:"btn-main chord-btn",onClick:u,children:"Add"}),w.jsx(gs,{variant:"default",size:"sm",className:"btn-main chord-btn",disabled:!((x=t.previousProgCodes)!=null&&x.length),onClick:p,children:"Undo"}),w.jsx(gs,{variant:"default",size:"sm",className:"btn-main chord-btn",disabled:!((M=t.chordPianoSet)!=null&&M.length),onClick:h,children:"Clear"})]}),w.jsxs("div",{className:"flex items-center progression border-t border-border border-b py-3 px-4",children:[w.jsx("div",{className:"flex flex-wrap justify-center",children:v()}),w.jsx(Na,{className:"!ml-[0.8em] mb-[0.4em] cursor-pointer progressionEditIcon",icon:_k,onClick:g})]})]})})},fI=({pianoKey:t,handleClick:e})=>{const{selected:n,isPlaying:r,isStopping:s,color:o,note:i,octave:a,noteNumber:c}=t;return w.jsx("li",{"key-selected":n==null?void 0:n.toString(),"key-playing":r==null?void 0:r.toString(),"key-stopping":s==null?void 0:s.toString(),className:`${o} ${i} ${i}-${a}`,onClick:()=>e(i,c,a)})},pI=({pianoComponentId:t,forceUpdate:e})=>{const{state:n,dispatch:r}=io(),s=t,o=_.useRef(!1);_.useEffect(()=>{if(!o.current){o.current=!0;const u=Et(n,s);u&&r({type:"REFRESH_PIANO",id:s,payload:u})}},[s,n,r]),_.useEffect(()=>{if(e){const u=Et(n,s);u&&r({type:"REFRESH_PIANO",id:s,payload:u})}},[e,s,n,r]);const i=(u,d)=>{const p={noteLetter:xl("C",u),octave:d};r({type:"UPDATE_KEY",id:s,payload:p})},a=()=>{r({type:"REMOVE_PIANO",id:s})},c=()=>{yu(r,n,s)},l=()=>{var d;return(((d=Et(n,s))==null?void 0:d.piano)||[]).map((h,p)=>h.map(m=>({...m,octave:p,key:`${m.note}-${p}-${e}`,handleClick:()=>i(m.noteNumber,p)}))).flat().map(h=>w.jsx(fI,{pianoKey:h,handleClick:h.handleClick},h.key))};return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"absolute flex top-0 right-0 left-[6.5em] h-[11.5em]",children:[w.jsx("button",{type:"button",className:"piano-play-button",onClick:c}),w.jsxs("div",{className:"pianoBox",children:[w.jsx("button",{type:"button",className:"relative mr-[-0.5em] top-[-0.6em] ml-[0.2em] !float-left !border-0 !border-none !outline-none","aria-label":"Close",onClick:a,children:w.jsx("span",{className:"text-gray-400 hover:text-red-300/80 font-medium text-[1.6em] tracking-tighter","aria-hidden":"true",children:"×"})}),w.jsx("ul",{className:"set mt-3 mr-2",children:l()})]}),w.jsx("div",{className:"closeContainer",children:w.jsx("button",{type:"button",className:"close pianoCloseButtonMobile","aria-label":"Close",onClick:a,children:w.jsx("span",{className:"mobileClosedBtnText",children:"×"})})})]})})};function Ni(t,[e,n]){return Math.min(n,Math.max(e,t))}function he(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function mI(t,e=[]){let n=[];function r(o,i){const a=_.createContext(i),c=n.length;n=[...n,i];function l(d){const{scope:h,children:p,...m}=d,f=(h==null?void 0:h[t][c])||a,g=_.useMemo(()=>m,Object.values(m));return w.jsx(f.Provider,{value:g,children:p})}function u(d,h){const p=(h==null?void 0:h[t][c])||a,m=_.useContext(p);if(m)return m;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,u]}const s=()=>{const o=n.map(i=>_.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,gI(s,...e)]}function gI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(o)[`__scope${l}`];return{...a,...d}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function rv(t){const e=t+"CollectionProvider",[n,r]=mI(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:m,children:f}=p,g=te.useRef(null),v=te.useRef(new Map).current;return w.jsx(s,{scope:m,itemMap:v,collectionRef:g,children:f})};i.displayName=e;const a=t+"CollectionSlot",c=te.forwardRef((p,m)=>{const{scope:f,children:g}=p,v=o(a,f),S=Ce(m,v.collectionRef);return w.jsx(hr,{ref:S,children:g})});c.displayName=a;const l=t+"CollectionItemSlot",u="data-radix-collection-item",d=te.forwardRef((p,m)=>{const{scope:f,children:g,...v}=p,S=te.useRef(null),x=Ce(m,S),M=o(l,f);return te.useEffect(()=>(M.itemMap.set(S,{ref:S,...v}),()=>void M.itemMap.delete(S))),w.jsx(hr,{[u]:"",ref:x,children:g})});d.displayName=l;function h(p){const m=o(t+"CollectionConsumer",p);return te.useCallback(()=>{const g=m.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(m.itemMap.values()).sort((M,y)=>v.indexOf(M.ref.current)-v.indexOf(y.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:i,Slot:c,ItemSlot:d},h,r]}function vI(t,e){const n=_.createContext(e),r=o=>{const{children:i,...a}=o,c=_.useMemo(()=>a,Object.values(a));return w.jsx(n.Provider,{value:c,children:i})};r.displayName=t+"Provider";function s(o){const i=_.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function ka(t,e=[]){let n=[];function r(o,i){const a=_.createContext(i),c=n.length;n=[...n,i];const l=d=>{var v;const{scope:h,children:p,...m}=d,f=((v=h==null?void 0:h[t])==null?void 0:v[c])||a,g=_.useMemo(()=>m,Object.values(m));return w.jsx(f.Provider,{value:g,children:p})};l.displayName=o+"Provider";function u(d,h){var f;const p=((f=h==null?void 0:h[t])==null?void 0:f[c])||a,m=_.useContext(p);if(m)return m;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[l,u]}const s=()=>{const o=n.map(i=>_.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,yI(s,...e)]}function yI(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(o)[`__scope${l}`];return{...a,...d}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}var bI=_.createContext(void 0);function sv(t){const e=_.useContext(bI);return t||e||"ltr"}var _I=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ge=_I.reduce((t,e)=>{const n=_.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?hr:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function wI(t,e){t&&Kr.flushSync(()=>t.dispatchEvent(e))}function xn(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xI(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var PI="DismissableLayer",Xc="dismissableLayer.update",SI="dismissableLayer.pointerDownOutside",MI="dismissableLayer.focusOutside",Ch,ov=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_u=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=t,l=_.useContext(ov),[u,d]=_.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),m=Ce(e,P=>d(P)),f=Array.from(l.layers),[g]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=f.indexOf(g),S=u?f.indexOf(u):-1,x=l.layersWithOutsidePointerEventsDisabled.size>0,M=S>=v,y=AI(P=>{const C=P.target,E=[...l.branches].some(O=>O.contains(C));!M||E||(s==null||s(P),i==null||i(P),P.defaultPrevented||a==null||a())},h),b=EI(P=>{const C=P.target;[...l.branches].some(O=>O.contains(C))||(o==null||o(P),i==null||i(P),P.defaultPrevented||a==null||a())},h);return xI(P=>{S===l.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&a&&(P.preventDefault(),a()))},h),_.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Ch=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),Th(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ch)}},[u,h,n,l]),_.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),Th())},[u,l]),_.useEffect(()=>{const P=()=>p({});return document.addEventListener(Xc,P),()=>document.removeEventListener(Xc,P)},[]),w.jsx(ge.div,{...c,ref:m,style:{pointerEvents:x?M?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,b.onFocusCapture),onBlurCapture:he(t.onBlurCapture,b.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,y.onPointerDownCapture)})});_u.displayName=PI;var CI="DismissableLayerBranch",TI=_.forwardRef((t,e)=>{const n=_.useContext(ov),r=_.useRef(null),s=Ce(e,r);return _.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),w.jsx(ge.div,{...t,ref:s})});TI.displayName=CI;function AI(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){iv(SI,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function EI(t,e=globalThis==null?void 0:globalThis.document){const n=xn(t),r=_.useRef(!1);return _.useEffect(()=>{const s=o=>{o.target&&!r.current&&iv(MI,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Th(){const t=new CustomEvent(Xc);document.dispatchEvent(t)}function iv(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?wI(s,o):s.dispatchEvent(o)}var cc=0;function av(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ah()),document.body.insertAdjacentElement("beforeend",t[1]??Ah()),cc++,()=>{cc===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),cc--}},[])}function Ah(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var lc="focusScope.autoFocusOnMount",uc="focusScope.autoFocusOnUnmount",Eh={bubbles:!1,cancelable:!0},OI="FocusScope",wu=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,c]=_.useState(null),l=xn(s),u=xn(o),d=_.useRef(null),h=Ce(e,f=>c(f)),p=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let f=function(x){if(p.paused||!a)return;const M=x.target;a.contains(M)?d.current=M:Dn(d.current,{select:!0})},g=function(x){if(p.paused||!a)return;const M=x.relatedTarget;M!==null&&(a.contains(M)||Dn(d.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const y of x)y.removedNodes.length>0&&Dn(a)};document.addEventListener("focusin",f),document.addEventListener("focusout",g);const S=new MutationObserver(v);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",g),S.disconnect()}}},[r,a,p.paused]),_.useEffect(()=>{if(a){Nh.add(p);const f=document.activeElement;if(!a.contains(f)){const v=new CustomEvent(lc,Eh);a.addEventListener(lc,l),a.dispatchEvent(v),v.defaultPrevented||(NI(jI(cv(a)),{select:!0}),document.activeElement===f&&Dn(a))}return()=>{a.removeEventListener(lc,l),setTimeout(()=>{const v=new CustomEvent(uc,Eh);a.addEventListener(uc,u),a.dispatchEvent(v),v.defaultPrevented||Dn(f??document.body,{select:!0}),a.removeEventListener(uc,u),Nh.remove(p)},0)}}},[a,l,u,p]);const m=_.useCallback(f=>{if(!n&&!r||p.paused)return;const g=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,v=document.activeElement;if(g&&v){const S=f.currentTarget,[x,M]=kI(S);x&&M?!f.shiftKey&&v===M?(f.preventDefault(),n&&Dn(x,{select:!0})):f.shiftKey&&v===x&&(f.preventDefault(),n&&Dn(M,{select:!0})):v===S&&f.preventDefault()}},[n,r,p.paused]);return w.jsx(ge.div,{tabIndex:-1,...i,ref:h,onKeyDown:m})});wu.displayName=OI;function NI(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Dn(r,{select:e}),document.activeElement!==n)return}function kI(t){const e=cv(t),n=Oh(e,t),r=Oh(e.reverse(),t);return[n,r]}function cv(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Oh(t,e){for(const n of t)if(!II(n,{upTo:e}))return n}function II(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function RI(t){return t instanceof HTMLInputElement&&"select"in t}function Dn(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&RI(t)&&e&&t.select()}}var Nh=DI();function DI(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=kh(t,e),t.unshift(e)},remove(e){var n;t=kh(t,e),(n=t[0])==null||n.resume()}}}function kh(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function jI(t){return t.filter(e=>e.tagName!=="A")}var ut=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},LI=gb.useId||(()=>{}),FI=0;function Rr(t){const[e,n]=_.useState(LI());return ut(()=>{n(r=>r??String(FI++))},[t]),e?`radix-${e}`:""}const VI=["top","right","bottom","left"],zn=Math.min,vt=Math.max,ki=Math.round,Oo=Math.floor,en=t=>({x:t,y:t}),WI={left:"right",right:"left",bottom:"top",top:"bottom"},$I={start:"end",end:"start"};function Kc(t,e,n){return vt(t,zn(e,n))}function Pn(t,e){return typeof t=="function"?t(e):t}function Sn(t){return t.split("-")[0]}function is(t){return t.split("-")[1]}function xu(t){return t==="x"?"y":"x"}function Pu(t){return t==="y"?"height":"width"}function Hn(t){return["top","bottom"].includes(Sn(t))?"y":"x"}function Su(t){return xu(Hn(t))}function BI(t,e,n){n===void 0&&(n=!1);const r=is(t),s=Su(t),o=Pu(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Ii(i)),[i,Ii(i)]}function UI(t){const e=Ii(t);return[Zc(t),e,Zc(e)]}function Zc(t){return t.replace(/start|end/g,e=>$I[e])}function zI(t,e,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?o:i;default:return[]}}function HI(t,e,n,r){const s=is(t);let o=zI(Sn(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(Zc)))),o}function Ii(t){return t.replace(/left|right|bottom|top/g,e=>WI[e])}function qI(t){return{top:0,right:0,bottom:0,left:0,...t}}function lv(t){return typeof t!="number"?qI(t):{top:t,right:t,bottom:t,left:t}}function Ri(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Ih(t,e,n){let{reference:r,floating:s}=t;const o=Hn(e),i=Su(e),a=Pu(i),c=Sn(e),l=o==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(is(e)){case"start":p[i]-=h*(n&&l?-1:1);break;case"end":p[i]+=h*(n&&l?-1:1);break}return p}const GI=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let l=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=Ih(l,r,c),h=r,p={},m=0;for(let f=0;f<a.length;f++){const{name:g,fn:v}=a[f],{x:S,y:x,data:M,reset:y}=await v({x:u,y:d,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:l,platform:i,elements:{reference:t,floating:e}});u=S??u,d=x??d,p={...p,[g]:{...p[g],...M}},y&&m<=50&&(m++,typeof y=="object"&&(y.placement&&(h=y.placement),y.rects&&(l=y.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):y.rects),{x:u,y:d}=Ih(l,h,c)),f=-1)}return{x:u,y:d,placement:h,strategy:s,middlewareData:p}};async function zs(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=Pn(e,t),m=lv(p),g=a[h?d==="floating"?"reference":"floating":d],v=Ri(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),S=d==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),M=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},y=Ri(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:x,strategy:c}):S);return{top:(v.top-y.top+m.top)/M.y,bottom:(y.bottom-v.bottom+m.bottom)/M.y,left:(v.left-y.left+m.left)/M.x,right:(y.right-v.right+m.right)/M.x}}const YI=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=e,{element:l,padding:u=0}=Pn(t,e)||{};if(l==null)return{};const d=lv(u),h={x:n,y:r},p=Su(s),m=Pu(p),f=await i.getDimensions(l),g=p==="y",v=g?"top":"left",S=g?"bottom":"right",x=g?"clientHeight":"clientWidth",M=o.reference[m]+o.reference[p]-h[p]-o.floating[m],y=h[p]-o.reference[p],b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l));let P=b?b[x]:0;(!P||!await(i.isElement==null?void 0:i.isElement(b)))&&(P=a.floating[x]||o.floating[m]);const C=M/2-y/2,E=P/2-f[m]/2-1,O=zn(d[v],E),k=zn(d[S],E),N=O,j=P-f[m]-k,R=P/2-f[m]/2+C,W=Kc(N,R,j),L=!c.arrow&&is(s)!=null&&R!==W&&o.reference[m]/2-(R<N?O:k)-f[m]/2<0,F=L?R<N?R-N:R-j:0;return{[p]:h[p]+F,data:{[p]:W,centerOffset:R-W-F,...L&&{alignmentOffset:F}},reset:L}}}),XI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:f=!0,...g}=Pn(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Sn(s),S=Hn(a),x=Sn(a)===a,M=await(c.isRTL==null?void 0:c.isRTL(l.floating)),y=h||(x||!f?[Ii(a)]:UI(a)),b=m!=="none";!h&&b&&y.push(...HI(a,f,m,M));const P=[a,...y],C=await zs(e,g),E=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&E.push(C[v]),d){const R=BI(s,i,M);E.push(C[R[0]],C[R[1]])}if(O=[...O,{placement:s,overflows:E}],!E.every(R=>R<=0)){var k,N;const R=(((k=o.flip)==null?void 0:k.index)||0)+1,W=P[R];if(W)return{data:{index:R,overflows:O},reset:{placement:W}};let L=(N=O.filter(F=>F.overflows[0]<=0).sort((F,T)=>F.overflows[1]-T.overflows[1])[0])==null?void 0:N.placement;if(!L)switch(p){case"bestFit":{var j;const F=(j=O.filter(T=>{if(b){const A=Hn(T.placement);return A===S||A==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(A=>A>0).reduce((A,I)=>A+I,0)]).sort((T,A)=>T[1]-A[1])[0])==null?void 0:j[0];F&&(L=F);break}case"initialPlacement":L=a;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function Rh(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Dh(t){return VI.some(e=>t[e]>=0)}const KI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Pn(t,e);switch(r){case"referenceHidden":{const o=await zs(e,{...s,elementContext:"reference"}),i=Rh(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Dh(i)}}}case"escaped":{const o=await zs(e,{...s,altBoundary:!0}),i=Rh(o,n.floating);return{data:{escapedOffsets:i,escaped:Dh(i)}}}default:return{}}}}};async function ZI(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Sn(n),a=is(n),c=Hn(n)==="y",l=["left","top"].includes(i)?-1:1,u=o&&c?-1:1,d=Pn(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),c?{x:p*u,y:h*l}:{x:h*l,y:p*u}}const QI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,c=await ZI(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},JI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:g=>{let{x:v,y:S}=g;return{x:v,y:S}}},...c}=Pn(t,e),l={x:n,y:r},u=await zs(e,c),d=Hn(Sn(s)),h=xu(d);let p=l[h],m=l[d];if(o){const g=h==="y"?"top":"left",v=h==="y"?"bottom":"right",S=p+u[g],x=p-u[v];p=Kc(S,p,x)}if(i){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",S=m+u[g],x=m-u[v];m=Kc(S,m,x)}const f=a.fn({...e,[h]:p,[d]:m});return{...f,data:{x:f.x-n,y:f.y-r,enabled:{[h]:o,[d]:i}}}}}},e2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=Pn(t,e),u={x:n,y:r},d=Hn(s),h=xu(d);let p=u[h],m=u[d];const f=Pn(a,e),g=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(c){const x=h==="y"?"height":"width",M=o.reference[h]-o.floating[x]+g.mainAxis,y=o.reference[h]+o.reference[x]-g.mainAxis;p<M?p=M:p>y&&(p=y)}if(l){var v,S;const x=h==="y"?"width":"height",M=["top","left"].includes(Sn(s)),y=o.reference[d]-o.floating[x]+(M&&((v=i.offset)==null?void 0:v[d])||0)+(M?0:g.crossAxis),b=o.reference[d]+o.reference[x]+(M?0:((S=i.offset)==null?void 0:S[d])||0)-(M?g.crossAxis:0);m<y?m=y:m>b&&(m=b)}return{[h]:p,[d]:m}}}},t2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:c=()=>{},...l}=Pn(t,e),u=await zs(e,l),d=Sn(s),h=is(s),p=Hn(s)==="y",{width:m,height:f}=o.floating;let g,v;d==="top"||d==="bottom"?(g=d,v=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,g=h==="end"?"top":"bottom");const S=f-u.top-u.bottom,x=m-u.left-u.right,M=zn(f-u[g],S),y=zn(m-u[v],x),b=!e.middlewareData.shift;let P=M,C=y;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(P=S),b&&!h){const O=vt(u.left,0),k=vt(u.right,0),N=vt(u.top,0),j=vt(u.bottom,0);p?C=m-2*(O!==0||k!==0?O+k:vt(u.left,u.right)):P=f-2*(N!==0||j!==0?N+j:vt(u.top,u.bottom))}await c({...e,availableWidth:C,availableHeight:P});const E=await i.getDimensions(a.floating);return m!==E.width||f!==E.height?{reset:{rects:!0}}:{}}}};function Ia(){return typeof window<"u"}function as(t){return uv(t)?(t.nodeName||"").toLowerCase():"#document"}function Pt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function un(t){var e;return(e=(uv(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uv(t){return Ia()?t instanceof Node||t instanceof Pt(t).Node:!1}function Vt(t){return Ia()?t instanceof Element||t instanceof Pt(t).Element:!1}function sn(t){return Ia()?t instanceof HTMLElement||t instanceof Pt(t).HTMLElement:!1}function jh(t){return!Ia()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pt(t).ShadowRoot}function mo(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Wt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function n2(t){return["table","td","th"].includes(as(t))}function Ra(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Mu(t){const e=Cu(),n=Vt(t)?Wt(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function r2(t){let e=qn(t);for(;sn(e)&&!Yr(e);){if(Mu(e))return e;if(Ra(e))return null;e=qn(e)}return null}function Cu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yr(t){return["html","body","#document"].includes(as(t))}function Wt(t){return Pt(t).getComputedStyle(t)}function Da(t){return Vt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qn(t){if(as(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jh(t)&&t.host||un(t);return jh(e)?e.host:e}function dv(t){const e=qn(t);return Yr(e)?t.ownerDocument?t.ownerDocument.body:t.body:sn(e)&&mo(e)?e:dv(e)}function Hs(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=dv(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Pt(s);if(o){const a=Qc(i);return e.concat(i,i.visualViewport||[],mo(s)?s:[],a&&n?Hs(a):[])}return e.concat(s,Hs(s,[],n))}function Qc(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hv(t){const e=Wt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=sn(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=ki(n)!==o||ki(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Tu(t){return Vt(t)?t:t.contextElement}function Dr(t){const e=Tu(t);if(!sn(e))return en(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=hv(e);let i=(o?ki(n.width):n.width)/r,a=(o?ki(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const s2=en(0);function fv(t){const e=Pt(t);return!Cu()||!e.visualViewport?s2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function o2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pt(t)?!1:e}function fr(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Tu(t);let i=en(1);e&&(r?Vt(r)&&(i=Dr(r)):i=Dr(t));const a=o2(o,n,r)?fv(o):en(0);let c=(s.left+a.x)/i.x,l=(s.top+a.y)/i.y,u=s.width/i.x,d=s.height/i.y;if(o){const h=Pt(o),p=r&&Vt(r)?Pt(r):r;let m=h,f=Qc(m);for(;f&&r&&p!==m;){const g=Dr(f),v=f.getBoundingClientRect(),S=Wt(f),x=v.left+(f.clientLeft+parseFloat(S.paddingLeft))*g.x,M=v.top+(f.clientTop+parseFloat(S.paddingTop))*g.y;c*=g.x,l*=g.y,u*=g.x,d*=g.y,c+=x,l+=M,m=Pt(f),f=Qc(m)}}return Ri({width:u,height:d,x:c,y:l})}function Au(t,e){const n=Da(t).scrollLeft;return e?e.left+n:fr(un(t)).left+n}function pv(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Au(t,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function i2(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=un(r),a=e?Ra(e.floating):!1;if(r===i||a&&o)return n;let c={scrollLeft:0,scrollTop:0},l=en(1);const u=en(0),d=sn(r);if((d||!d&&!o)&&((as(r)!=="body"||mo(i))&&(c=Da(r)),sn(r))){const p=fr(r);l=Dr(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=i&&!d&&!o?pv(i,c,!0):en(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}}function a2(t){return Array.from(t.getClientRects())}function c2(t){const e=un(t),n=Da(t),r=t.ownerDocument.body,s=vt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=vt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Au(t);const a=-n.scrollTop;return Wt(r).direction==="rtl"&&(i+=vt(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function l2(t,e){const n=Pt(t),r=un(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const l=Cu();(!l||l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function u2(t,e){const n=fr(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=sn(t)?Dr(t):en(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,c=s*o.x,l=r*o.y;return{width:i,height:a,x:c,y:l}}function Lh(t,e,n){let r;if(e==="viewport")r=l2(t,n);else if(e==="document")r=c2(un(t));else if(Vt(e))r=u2(e,n);else{const s=fv(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ri(r)}function mv(t,e){const n=qn(t);return n===e||!Vt(n)||Yr(n)?!1:Wt(n).position==="fixed"||mv(n,e)}function d2(t,e){const n=e.get(t);if(n)return n;let r=Hs(t,[],!1).filter(a=>Vt(a)&&as(a)!=="body"),s=null;const o=Wt(t).position==="fixed";let i=o?qn(t):t;for(;Vt(i)&&!Yr(i);){const a=Wt(i),c=Mu(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||mo(i)&&!c&&mv(t,i))?r=r.filter(u=>u!==i):s=a,i=qn(i)}return e.set(t,r),r}function h2(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Ra(e)?[]:d2(e,this._c):[].concat(n),r],a=i[0],c=i.reduce((l,u)=>{const d=Lh(e,u,s);return l.top=vt(d.top,l.top),l.right=zn(d.right,l.right),l.bottom=zn(d.bottom,l.bottom),l.left=vt(d.left,l.left),l},Lh(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function f2(t){const{width:e,height:n}=hv(t);return{width:e,height:n}}function p2(t,e,n){const r=sn(e),s=un(e),o=n==="fixed",i=fr(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=en(0);if(r||!r&&!o)if((as(e)!=="body"||mo(s))&&(a=Da(e)),r){const h=fr(e,!0,o,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else s&&(c.x=Au(s));const l=s&&!r&&!o?pv(s,a):en(0),u=i.left+a.scrollLeft-c.x-l.x,d=i.top+a.scrollTop-c.y-l.y;return{x:u,y:d,width:i.width,height:i.height}}function dc(t){return Wt(t).position==="static"}function Fh(t,e){if(!sn(t)||Wt(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return un(t)===n&&(n=n.ownerDocument.body),n}function gv(t,e){const n=Pt(t);if(Ra(t))return n;if(!sn(t)){let s=qn(t);for(;s&&!Yr(s);){if(Vt(s)&&!dc(s))return s;s=qn(s)}return n}let r=Fh(t,e);for(;r&&n2(r)&&dc(r);)r=Fh(r,e);return r&&Yr(r)&&dc(r)&&!Mu(r)?n:r||r2(t)||n}const m2=async function(t){const e=this.getOffsetParent||gv,n=this.getDimensions,r=await n(t.floating);return{reference:p2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function g2(t){return Wt(t).direction==="rtl"}const v2={convertOffsetParentRelativeRectToViewportRelativeRect:i2,getDocumentElement:un,getClippingRect:h2,getOffsetParent:gv,getElementRects:m2,getClientRects:a2,getDimensions:f2,getScale:Dr,isElement:Vt,isRTL:g2};function y2(t,e){let n=null,r;const s=un(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:l,top:u,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const p=Oo(u),m=Oo(s.clientWidth-(l+d)),f=Oo(s.clientHeight-(u+h)),g=Oo(l),S={rootMargin:-p+"px "+-m+"px "+-f+"px "+-g+"px",threshold:vt(0,zn(1,c))||1};let x=!0;function M(y){const b=y[0].intersectionRatio;if(b!==c){if(!x)return i();b?i(!1,b):r=setTimeout(()=>{i(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(M,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(M,S)}n.observe(t)}return i(!0),o}function b2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=Tu(t),u=s||o?[...l?Hs(l):[],...Hs(e)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const d=l&&a?y2(l,n):null;let h=-1,p=null;i&&(p=new ResizeObserver(v=>{let[S]=v;S&&S.target===l&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),l&&!c&&p.observe(l),p.observe(e));let m,f=c?fr(t):null;c&&g();function g(){const v=fr(t);f&&(v.x!==f.x||v.y!==f.y||v.width!==f.width||v.height!==f.height)&&n(),f=v,m=requestAnimationFrame(g)}return n(),()=>{var v;u.forEach(S=>{s&&S.removeEventListener("scroll",n),o&&S.removeEventListener("resize",n)}),d==null||d(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const _2=QI,w2=JI,x2=XI,P2=t2,S2=KI,Vh=YI,M2=e2,C2=(t,e,n)=>{const r=new Map,s={platform:v2,...n},o={...s.platform,_c:r};return GI(t,e,{...s,platform:o})};var $o=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Di(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Di(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Di(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function vv(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Wh(t,e){const n=vv(t);return Math.round(e*n)/n}function hc(t){const e=_.useRef(t);return $o(()=>{e.current=t}),e}function T2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[u,d]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=_.useState(r);Di(h,r)||p(r);const[m,f]=_.useState(null),[g,v]=_.useState(null),S=_.useCallback(T=>{T!==b.current&&(b.current=T,f(T))},[]),x=_.useCallback(T=>{T!==P.current&&(P.current=T,v(T))},[]),M=o||m,y=i||g,b=_.useRef(null),P=_.useRef(null),C=_.useRef(u),E=c!=null,O=hc(c),k=hc(s),N=hc(l),j=_.useCallback(()=>{if(!b.current||!P.current)return;const T={placement:e,strategy:n,middleware:h};k.current&&(T.platform=k.current),C2(b.current,P.current,T).then(A=>{const I={...A,isPositioned:N.current!==!1};R.current&&!Di(C.current,I)&&(C.current=I,Kr.flushSync(()=>{d(I)}))})},[h,e,n,k,N]);$o(()=>{l===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[l]);const R=_.useRef(!1);$o(()=>(R.current=!0,()=>{R.current=!1}),[]),$o(()=>{if(M&&(b.current=M),y&&(P.current=y),M&&y){if(O.current)return O.current(M,y,j);j()}},[M,y,j,O,E]);const W=_.useMemo(()=>({reference:b,floating:P,setReference:S,setFloating:x}),[S,x]),L=_.useMemo(()=>({reference:M,floating:y}),[M,y]),F=_.useMemo(()=>{const T={position:n,left:0,top:0};if(!L.floating)return T;const A=Wh(L.floating,u.x),I=Wh(L.floating,u.y);return a?{...T,transform:"translate("+A+"px, "+I+"px)",...vv(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:I}},[n,a,L.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:j,refs:W,elements:L,floatingStyles:F}),[u,j,W,L,F])}const A2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Vh({element:r.current,padding:s}).fn(n):{}:r?Vh({element:r,padding:s}).fn(n):{}}}},E2=(t,e)=>({..._2(t),options:[t,e]}),O2=(t,e)=>({...w2(t),options:[t,e]}),N2=(t,e)=>({...M2(t),options:[t,e]}),k2=(t,e)=>({...x2(t),options:[t,e]}),I2=(t,e)=>({...P2(t),options:[t,e]}),R2=(t,e)=>({...S2(t),options:[t,e]}),D2=(t,e)=>({...A2(t),options:[t,e]});var j2="Arrow",yv=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return w.jsx(ge.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});yv.displayName=j2;var L2=yv;function F2(t,e=[]){let n=[];function r(o,i){const a=_.createContext(i),c=n.length;n=[...n,i];function l(d){const{scope:h,children:p,...m}=d,f=(h==null?void 0:h[t][c])||a,g=_.useMemo(()=>m,Object.values(m));return w.jsx(f.Provider,{value:g,children:p})}function u(d,h){const p=(h==null?void 0:h[t][c])||a,m=_.useContext(p);if(m)return m;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,u]}const s=()=>{const o=n.map(i=>_.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,V2(s,...e)]}function V2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(o)[`__scope${l}`];return{...a,...d}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function Eu(t){const[e,n]=_.useState(void 0);return ut(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,l=Array.isArray(c)?c[0]:c;i=l.inlineSize,a=l.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ou="Popper",[bv,_v]=F2(Ou),[W2,wv]=bv(Ou),xv=t=>{const{__scopePopper:e,children:n}=t,[r,s]=_.useState(null);return w.jsx(W2,{scope:e,anchor:r,onAnchorChange:s,children:n})};xv.displayName=Ou;var Pv="PopperAnchor",Sv=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=wv(Pv,n),i=_.useRef(null),a=Ce(e,i);return _.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:w.jsx(ge.div,{...s,ref:a})});Sv.displayName=Pv;var Nu="PopperContent",[$2,B2]=bv(Nu),Mv=_.forwardRef((t,e)=>{var $,B,ve,ce,ie,le;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...f}=t,g=wv(Nu,n),[v,S]=_.useState(null),x=Ce(e,He=>S(He)),[M,y]=_.useState(null),b=Eu(M),P=(b==null?void 0:b.width)??0,C=(b==null?void 0:b.height)??0,E=r+(o!=="center"?"-"+o:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(l)?l:[l],N=k.length>0,j={padding:O,boundary:k.filter(z2),altBoundary:N},{refs:R,floatingStyles:W,placement:L,isPositioned:F,middlewareData:T}=T2({strategy:"fixed",placement:E,whileElementsMounted:(...He)=>b2(...He,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[E2({mainAxis:s+C,alignmentAxis:i}),c&&O2({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?N2():void 0,...j}),c&&k2({...j}),I2({...j,apply:({elements:He,rects:st,availableWidth:H,availableHeight:K})=>{const{width:_e,height:fe}=st.reference,re=He.floating.style;re.setProperty("--radix-popper-available-width",`${H}px`),re.setProperty("--radix-popper-available-height",`${K}px`),re.setProperty("--radix-popper-anchor-width",`${_e}px`),re.setProperty("--radix-popper-anchor-height",`${fe}px`)}}),M&&D2({element:M,padding:a}),H2({arrowWidth:P,arrowHeight:C}),h&&R2({strategy:"referenceHidden",...j})]}),[A,I]=Av(L),D=xn(m);ut(()=>{F&&(D==null||D())},[F,D]);const V=($=T.arrow)==null?void 0:$.x,q=(B=T.arrow)==null?void 0:B.y,X=((ve=T.arrow)==null?void 0:ve.centerOffset)!==0,[z,G]=_.useState();return ut(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),w.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:F?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[(ce=T.transformOrigin)==null?void 0:ce.x,(ie=T.transformOrigin)==null?void 0:ie.y].join(" "),...((le=T.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:w.jsx($2,{scope:n,placedSide:A,onArrowChange:y,arrowX:V,arrowY:q,shouldHideArrow:X,children:w.jsx(ge.div,{"data-side":A,"data-align":I,...f,ref:x,style:{...f.style,animation:F?void 0:"none"}})})})});Mv.displayName=Nu;var Cv="PopperArrow",U2={top:"bottom",right:"left",bottom:"top",left:"right"},Tv=_.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=B2(Cv,r),i=U2[o.placedSide];return w.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:w.jsx(L2,{...s,ref:n,style:{...s.style,display:"block"}})})});Tv.displayName=Cv;function z2(t){return t!==null}var H2=t=>({name:"transformOrigin",options:t,fn(e){var g,v,S;const{placement:n,rects:r,middlewareData:s}=e,i=((g=s.arrow)==null?void 0:g.centerOffset)!==0,a=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[l,u]=Av(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((S=s.arrow)==null?void 0:S.y)??0)+c/2;let m="",f="";return l==="bottom"?(m=i?d:`${h}px`,f=`${-c}px`):l==="top"?(m=i?d:`${h}px`,f=`${r.floating.height+c}px`):l==="right"?(m=`${-c}px`,f=i?d:`${p}px`):l==="left"&&(m=`${r.floating.width+c}px`,f=i?d:`${p}px`),{data:{x:m,y:f}}}});function Av(t){const[e,n="center"]=t.split("-");return[e,n]}var q2=xv,G2=Sv,Y2=Mv,X2=Tv,K2="Portal",ku=_.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,o]=_.useState(!1);ut(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?vb.createPortal(w.jsx(ge.div,{...r,ref:e}),i):null});ku.displayName=K2;function qs({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Z2({defaultProp:e,onChange:n}),o=t!==void 0,i=o?t:r,a=xn(n),c=_.useCallback(l=>{if(o){const d=typeof l=="function"?l(t):l;d!==t&&a(d)}else s(l)},[o,t,s,a]);return[i,c]}function Z2({defaultProp:t,onChange:e}){const n=_.useState(t),[r]=n,s=_.useRef(r),o=xn(e);return _.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}function Iu(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Q2="VisuallyHidden",Ev=_.forwardRef((t,e)=>w.jsx(ge.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ev.displayName=Q2;var J2=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xr=new WeakMap,No=new WeakMap,ko={},fc=0,Ov=function(t){return t&&(t.host||Ov(t.parentNode))},eR=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Ov(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},tR=function(t,e,n,r){var s=eR(e,Array.isArray(t)?t:[t]);ko[n]||(ko[n]=new WeakMap);var o=ko[n],i=[],a=new Set,c=new Set(s),l=function(d){!d||a.has(d)||(a.add(d),l(d.parentNode))};s.forEach(l);var u=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))u(h);else try{var p=h.getAttribute(r),m=p!==null&&p!=="false",f=(xr.get(h)||0)+1,g=(o.get(h)||0)+1;xr.set(h,f),o.set(h,g),i.push(h),f===1&&m&&No.set(h,!0),g===1&&h.setAttribute(n,"true"),m||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(e),a.clear(),fc++,function(){i.forEach(function(d){var h=xr.get(d)-1,p=o.get(d)-1;xr.set(d,h),o.set(d,p),h||(No.has(d)||d.removeAttribute(r),No.delete(d)),p||d.removeAttribute(n)}),fc--,fc||(xr=new WeakMap,xr=new WeakMap,No=new WeakMap,ko={})}},Nv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=J2(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),tR(r,s,n,"aria-hidden")):function(){return null}},Bo="right-scroll-bar-position",Uo="width-before-scroll-bar",nR="with-scroll-bars-hidden",rR="--removed-body-scroll-bar-size";function pc(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function sR(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var oR=typeof window<"u"?_.useLayoutEffect:_.useEffect,$h=new WeakMap;function iR(t,e){var n=sR(null,function(r){return t.forEach(function(s){return pc(s,r)})});return oR(function(){var r=$h.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(a){o.has(a)||pc(a,null)}),o.forEach(function(a){s.has(a)||pc(a,i)})}$h.set(n,t)},[t]),n}function aR(t){return t}function cR(t,e){e===void 0&&(e=aR);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var c=function(){var u=i;i=[],u.forEach(o)},l=function(){return Promise.resolve().then(c)};l(),n={push:function(u){i.push(u),l()},filter:function(u){return i=i.filter(u),n}}}};return s}function lR(t){t===void 0&&(t={});var e=cR(null);return e.options=Kt({async:!0,ssr:!1},t),e}var kv=function(t){var e=t.sideCar,n=$p(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Kt({},n))};kv.isSideCarExport=!0;function uR(t,e){return t.useMedium(e),kv}var Iv=lR(),mc=function(){},ja=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:mc,onWheelCapture:mc,onTouchMoveCapture:mc}),s=r[0],o=r[1],i=t.forwardProps,a=t.children,c=t.className,l=t.removeScrollBar,u=t.enabled,d=t.shards,h=t.sideCar,p=t.noIsolation,m=t.inert,f=t.allowPinchZoom,g=t.as,v=g===void 0?"div":g,S=t.gapMode,x=$p(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=h,y=iR([n,e]),b=Kt(Kt({},x),s);return _.createElement(_.Fragment,null,u&&_.createElement(M,{sideCar:Iv,removeScrollBar:l,shards:d,noIsolation:p,inert:m,setCallbacks:o,allowPinchZoom:!!f,lockRef:n,gapMode:S}),i?_.cloneElement(_.Children.only(a),Kt(Kt({},b),{ref:y})):_.createElement(v,Kt({},b,{className:c,ref:y}),a))});ja.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ja.classNames={fullWidth:Uo,zeroRight:Bo};var dR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hR(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=dR();return e&&t.setAttribute("nonce",e),t}function fR(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function pR(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var mR=function(){var t=0,e=null;return{add:function(n){t==0&&(e=hR())&&(fR(e,n),pR(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gR=function(){var t=mR();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Rv=function(){var t=gR(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},vR={left:0,top:0,right:0,gap:0},gc=function(t){return parseInt(t||"",10)||0},yR=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[gc(n),gc(r),gc(s)]},bR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vR;var e=yR(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},_R=Rv(),jr="data-scroll-locked",wR=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(nR,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(jr,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bo,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Uo,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bo," .").concat(Bo,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Uo," .").concat(Uo,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jr,`] {
    `).concat(rR,": ").concat(a,`px;
  }
`)},Bh=function(){var t=parseInt(document.body.getAttribute(jr)||"0",10);return isFinite(t)?t:0},xR=function(){_.useEffect(function(){return document.body.setAttribute(jr,(Bh()+1).toString()),function(){var t=Bh()-1;t<=0?document.body.removeAttribute(jr):document.body.setAttribute(jr,t.toString())}},[])},PR=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;xR();var o=_.useMemo(function(){return bR(s)},[s]);return _.createElement(_R,{styles:wR(o,!e,s,n?"":"!important")})},Jc=!1;if(typeof window<"u")try{var Io=Object.defineProperty({},"passive",{get:function(){return Jc=!0,!0}});window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Jc=!1}var Pr=Jc?{passive:!1}:!1,SR=function(t){return t.tagName==="TEXTAREA"},Dv=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!SR(t)&&n[e]==="visible")},MR=function(t){return Dv(t,"overflowY")},CR=function(t){return Dv(t,"overflowX")},Uh=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=jv(t,r);if(s){var o=Lv(t,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},TR=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},AR=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},jv=function(t,e){return t==="v"?MR(e):CR(e)},Lv=function(t,e){return t==="v"?TR(e):AR(e)},ER=function(t,e){return t==="h"&&e==="rtl"?-1:1},OR=function(t,e,n,r,s){var o=ER(t,window.getComputedStyle(e).direction),i=o*r,a=n.target,c=e.contains(a),l=!1,u=i>0,d=0,h=0;do{var p=Lv(t,a),m=p[0],f=p[1],g=p[2],v=f-g-o*m;(m||v)&&jv(t,a)&&(d+=v,h+=m),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(l=!0),l},Ro=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zh=function(t){return[t.deltaX,t.deltaY]},Hh=function(t){return t&&"current"in t?t.current:t},NR=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kR=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},IR=0,Sr=[];function RR(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(IR++)[0],o=_.useState(Rv)[0],i=_.useRef(t);_.useEffect(function(){i.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var f=DC([t.lockRef.current],(t.shards||[]).map(Hh),!0).filter(Boolean);return f.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),f.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=_.useCallback(function(f,g){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!i.current.allowPinchZoom;var v=Ro(f),S=n.current,x="deltaX"in f?f.deltaX:S[0]-v[0],M="deltaY"in f?f.deltaY:S[1]-v[1],y,b=f.target,P=Math.abs(x)>Math.abs(M)?"h":"v";if("touches"in f&&P==="h"&&b.type==="range")return!1;var C=Uh(P,b);if(!C)return!0;if(C?y=P:(y=P==="v"?"h":"v",C=Uh(P,b)),!C)return!1;if(!r.current&&"changedTouches"in f&&(x||M)&&(r.current=y),!y)return!0;var E=r.current||y;return OR(E,g,f,E==="h"?x:M,!0)},[]),c=_.useCallback(function(f){var g=f;if(!(!Sr.length||Sr[Sr.length-1]!==o)){var v="deltaY"in g?zh(g):Ro(g),S=e.current.filter(function(y){return y.name===g.type&&(y.target===g.target||g.target===y.shadowParent)&&NR(y.delta,v)})[0];if(S&&S.should){g.cancelable&&g.preventDefault();return}if(!S){var x=(i.current.shards||[]).map(Hh).filter(Boolean).filter(function(y){return y.contains(g.target)}),M=x.length>0?a(g,x[0]):!i.current.noIsolation;M&&g.cancelable&&g.preventDefault()}}},[]),l=_.useCallback(function(f,g,v,S){var x={name:f,delta:g,target:v,should:S,shadowParent:DR(v)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(M){return M!==x})},1)},[]),u=_.useCallback(function(f){n.current=Ro(f),r.current=void 0},[]),d=_.useCallback(function(f){l(f.type,zh(f),f.target,a(f,t.lockRef.current))},[]),h=_.useCallback(function(f){l(f.type,Ro(f),f.target,a(f,t.lockRef.current))},[]);_.useEffect(function(){return Sr.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Pr),document.addEventListener("touchmove",c,Pr),document.addEventListener("touchstart",u,Pr),function(){Sr=Sr.filter(function(f){return f!==o}),document.removeEventListener("wheel",c,Pr),document.removeEventListener("touchmove",c,Pr),document.removeEventListener("touchstart",u,Pr)}},[]);var p=t.removeScrollBar,m=t.inert;return _.createElement(_.Fragment,null,m?_.createElement(o,{styles:kR(s)}):null,p?_.createElement(PR,{gapMode:t.gapMode}):null)}function DR(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const jR=uR(Iv,RR);var Ru=_.forwardRef(function(t,e){return _.createElement(ja,Kt({},t,{ref:e,sideCar:jR}))});Ru.classNames=ja.classNames;var LR=[" ","Enter","ArrowUp","ArrowDown"],FR=[" ","Enter"],go="Select",[La,Fa,VR]=rv(go),[cs,A5]=ka(go,[VR,_v]),Va=_v(),[WR,Zn]=cs(go),[$R,BR]=cs(go),Fv=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:h,required:p,form:m}=t,f=Va(e),[g,v]=_.useState(null),[S,x]=_.useState(null),[M,y]=_.useState(!1),b=sv(l),[P=!1,C]=qs({prop:r,defaultProp:s,onChange:o}),[E,O]=qs({prop:i,defaultProp:a,onChange:c}),k=_.useRef(null),N=g?m||!!g.closest("form"):!0,[j,R]=_.useState(new Set),W=Array.from(j).map(L=>L.props.value).join(";");return w.jsx(q2,{...f,children:w.jsxs(WR,{required:p,scope:e,trigger:g,onTriggerChange:v,valueNode:S,onValueNodeChange:x,valueNodeHasChildren:M,onValueNodeHasChildrenChange:y,contentId:Rr(),value:E,onValueChange:O,open:P,onOpenChange:C,dir:b,triggerPointerDownPosRef:k,disabled:h,children:[w.jsx(La.Provider,{scope:e,children:w.jsx($R,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(L=>{R(F=>new Set(F).add(L))},[]),onNativeOptionRemove:_.useCallback(L=>{R(F=>{const T=new Set(F);return T.delete(L),T})},[]),children:n})}),N?w.jsxs(ly,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:E,onChange:L=>O(L.target.value),disabled:h,form:m,children:[E===void 0?w.jsx("option",{value:""}):null,Array.from(j)]},W):null]})})};Fv.displayName=go;var Vv="SelectTrigger",Wv=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Va(n),i=Zn(Vv,n),a=i.disabled||r,c=Ce(e,i.onTriggerChange),l=Fa(n),u=_.useRef("touch"),[d,h,p]=uy(f=>{const g=l().filter(x=>!x.disabled),v=g.find(x=>x.value===i.value),S=dy(g,f,v);S!==void 0&&i.onValueChange(S.value)}),m=f=>{a||(i.onOpenChange(!0),p()),f&&(i.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return w.jsx(G2,{asChild:!0,...o,children:w.jsx(ge.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":cy(i.value)?"":void 0,...s,ref:c,onClick:he(s.onClick,f=>{f.currentTarget.focus(),u.current!=="mouse"&&m(f)}),onPointerDown:he(s.onPointerDown,f=>{u.current=f.pointerType;const g=f.target;g.hasPointerCapture(f.pointerId)&&g.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(m(f),f.preventDefault())}),onKeyDown:he(s.onKeyDown,f=>{const g=d.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&h(f.key),!(g&&f.key===" ")&&LR.includes(f.key)&&(m(),f.preventDefault())})})})});Wv.displayName=Vv;var $v="SelectValue",Bv=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=t,c=Zn($v,n),{onValueNodeHasChildrenChange:l}=c,u=o!==void 0,d=Ce(e,c.onValueNodeChange);return ut(()=>{l(u)},[l,u]),w.jsx(ge.span,{...a,ref:d,style:{pointerEvents:"none"},children:cy(c.value)?w.jsx(w.Fragment,{children:i}):o})});Bv.displayName=$v;var UR="SelectIcon",Uv=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return w.jsx(ge.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});Uv.displayName=UR;var zR="SelectPortal",zv=t=>w.jsx(ku,{asChild:!0,...t});zv.displayName=zR;var pr="SelectContent",Hv=_.forwardRef((t,e)=>{const n=Zn(pr,t.__scopeSelect),[r,s]=_.useState();if(ut(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Kr.createPortal(w.jsx(qv,{scope:t.__scopeSelect,children:w.jsx(La.Slot,{scope:t.__scopeSelect,children:w.jsx("div",{children:t.children})})}),o):null}return w.jsx(Gv,{...t,ref:e})});Hv.displayName=pr;var Dt=10,[qv,Qn]=cs(pr),HR="SelectContentImpl",Gv=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:f,avoidCollisions:g,...v}=t,S=Zn(pr,n),[x,M]=_.useState(null),[y,b]=_.useState(null),P=Ce(e,$=>M($)),[C,E]=_.useState(null),[O,k]=_.useState(null),N=Fa(n),[j,R]=_.useState(!1),W=_.useRef(!1);_.useEffect(()=>{if(x)return Nv(x)},[x]),av();const L=_.useCallback($=>{const[B,...ve]=N().map(le=>le.ref.current),[ce]=ve.slice(-1),ie=document.activeElement;for(const le of $)if(le===ie||(le==null||le.scrollIntoView({block:"nearest"}),le===B&&y&&(y.scrollTop=0),le===ce&&y&&(y.scrollTop=y.scrollHeight),le==null||le.focus(),document.activeElement!==ie))return},[N,y]),F=_.useCallback(()=>L([C,x]),[L,C,x]);_.useEffect(()=>{j&&F()},[j,F]);const{onOpenChange:T,triggerPointerDownPosRef:A}=S;_.useEffect(()=>{if(x){let $={x:0,y:0};const B=ce=>{var ie,le;$={x:Math.abs(Math.round(ce.pageX)-(((ie=A.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((le=A.current)==null?void 0:le.y)??0))}},ve=ce=>{$.x<=10&&$.y<=10?ce.preventDefault():x.contains(ce.target)||T(!1),document.removeEventListener("pointermove",B),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",ve,{capture:!0})}}},[x,T,A]),_.useEffect(()=>{const $=()=>T(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[T]);const[I,D]=uy($=>{const B=N().filter(ie=>!ie.disabled),ve=B.find(ie=>ie.ref.current===document.activeElement),ce=dy(B,$,ve);ce&&setTimeout(()=>ce.ref.current.focus())}),V=_.useCallback(($,B,ve)=>{const ce=!W.current&&!ve;(S.value!==void 0&&S.value===B||ce)&&(E($),ce&&(W.current=!0))},[S.value]),q=_.useCallback(()=>x==null?void 0:x.focus(),[x]),X=_.useCallback(($,B,ve)=>{const ce=!W.current&&!ve;(S.value!==void 0&&S.value===B||ce)&&k($)},[S.value]),z=r==="popper"?el:Yv,G=z===el?{side:a,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:f,avoidCollisions:g}:{};return w.jsx(qv,{scope:n,content:x,viewport:y,onViewportChange:b,itemRefCallback:V,selectedItem:C,onItemLeave:q,itemTextRefCallback:X,focusSelectedItem:F,selectedItemText:O,position:r,isPositioned:j,searchRef:I,children:w.jsx(Ru,{as:hr,allowPinchZoom:!0,children:w.jsx(wu,{asChild:!0,trapped:S.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:he(s,$=>{var B;(B=S.trigger)==null||B.focus({preventScroll:!0}),$.preventDefault()}),children:w.jsx(_u,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:w.jsx(z,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:$=>$.preventDefault(),...v,...G,onPlaced:()=>R(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:he(v.onKeyDown,$=>{const B=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!B&&$.key.length===1&&D($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let ce=N().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes($.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const ie=$.target,le=ce.indexOf(ie);ce=ce.slice(le+1)}setTimeout(()=>L(ce)),$.preventDefault()}})})})})})})});Gv.displayName=HR;var qR="SelectItemAlignedPosition",Yv=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=Zn(pr,n),i=Qn(pr,n),[a,c]=_.useState(null),[l,u]=_.useState(null),d=Ce(e,P=>u(P)),h=Fa(n),p=_.useRef(!1),m=_.useRef(!0),{viewport:f,selectedItem:g,selectedItemText:v,focusSelectedItem:S}=i,x=_.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&l&&f&&g&&v){const P=o.trigger.getBoundingClientRect(),C=l.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(o.dir!=="rtl"){const ie=O.left-C.left,le=E.left-ie,He=P.left-le,st=P.width+He,H=Math.max(st,C.width),K=window.innerWidth-Dt,_e=Ni(le,[Dt,Math.max(Dt,K-H)]);a.style.minWidth=st+"px",a.style.left=_e+"px"}else{const ie=C.right-O.right,le=window.innerWidth-E.right-ie,He=window.innerWidth-P.right-le,st=P.width+He,H=Math.max(st,C.width),K=window.innerWidth-Dt,_e=Ni(le,[Dt,Math.max(Dt,K-H)]);a.style.minWidth=st+"px",a.style.right=_e+"px"}const k=h(),N=window.innerHeight-Dt*2,j=f.scrollHeight,R=window.getComputedStyle(l),W=parseInt(R.borderTopWidth,10),L=parseInt(R.paddingTop,10),F=parseInt(R.borderBottomWidth,10),T=parseInt(R.paddingBottom,10),A=W+L+j+T+F,I=Math.min(g.offsetHeight*5,A),D=window.getComputedStyle(f),V=parseInt(D.paddingTop,10),q=parseInt(D.paddingBottom,10),X=P.top+P.height/2-Dt,z=N-X,G=g.offsetHeight/2,$=g.offsetTop+G,B=W+L+$,ve=A-B;if(B<=X){const ie=k.length>0&&g===k[k.length-1].ref.current;a.style.bottom="0px";const le=l.clientHeight-f.offsetTop-f.offsetHeight,He=Math.max(z,G+(ie?q:0)+le+F),st=B+He;a.style.height=st+"px"}else{const ie=k.length>0&&g===k[0].ref.current;a.style.top="0px";const He=Math.max(X,W+f.offsetTop+(ie?V:0)+G)+ve;a.style.height=He+"px",f.scrollTop=B-X+f.offsetTop}a.style.margin=`${Dt}px 0`,a.style.minHeight=I+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,a,l,f,g,v,o.dir,r]);ut(()=>x(),[x]);const[M,y]=_.useState();ut(()=>{l&&y(window.getComputedStyle(l).zIndex)},[l]);const b=_.useCallback(P=>{P&&m.current===!0&&(x(),S==null||S(),m.current=!1)},[x,S]);return w.jsx(YR,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:b,children:w.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:w.jsx(ge.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Yv.displayName=qR;var GR="SelectPopperPosition",el=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Dt,...o}=t,i=Va(n);return w.jsx(Y2,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});el.displayName=GR;var[YR,Du]=cs(pr,{}),tl="SelectViewport",Xv=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=Qn(tl,n),i=Du(tl,n),a=Ce(e,o.onViewportChange),c=_.useRef(0);return w.jsxs(w.Fragment,{children:[w.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),w.jsx(La.Slot,{scope:n,children:w.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:he(s.onScroll,l=>{const u=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&d){const p=Math.abs(c.current-u.scrollTop);if(p>0){const m=window.innerHeight-Dt*2,f=parseFloat(d.style.minHeight),g=parseFloat(d.style.height),v=Math.max(f,g);if(v<m){const S=v+p,x=Math.min(m,S),M=S-x;d.style.height=x+"px",d.style.bottom==="0px"&&(u.scrollTop=M>0?M:0,d.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Xv.displayName=tl;var Kv="SelectGroup",[XR,KR]=cs(Kv),ZR=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Rr();return w.jsx(XR,{scope:n,id:s,children:w.jsx(ge.div,{role:"group","aria-labelledby":s,...r,ref:e})})});ZR.displayName=Kv;var Zv="SelectLabel",Qv=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=KR(Zv,n);return w.jsx(ge.div,{id:s.id,...r,ref:e})});Qv.displayName=Zv;var ji="SelectItem",[QR,Jv]=cs(ji),ey=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,a=Zn(ji,n),c=Qn(ji,n),l=a.value===r,[u,d]=_.useState(o??""),[h,p]=_.useState(!1),m=Ce(e,S=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,S,r,s)}),f=Rr(),g=_.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return w.jsx(QR,{scope:n,value:r,disabled:s,textId:f,isSelected:l,onItemTextChange:_.useCallback(S=>{d(x=>x||((S==null?void 0:S.textContent)??"").trim())},[]),children:w.jsx(La.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:w.jsx(ge.div,{role:"option","aria-labelledby":f,"data-highlighted":h?"":void 0,"aria-selected":l&&h,"data-state":l?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:m,onFocus:he(i.onFocus,()=>p(!0)),onBlur:he(i.onBlur,()=>p(!1)),onClick:he(i.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:he(i.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:he(i.onPointerDown,S=>{g.current=S.pointerType}),onPointerMove:he(i.onPointerMove,S=>{var x;g.current=S.pointerType,s?(x=c.onItemLeave)==null||x.call(c):g.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(i.onPointerLeave,S=>{var x;S.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:he(i.onKeyDown,S=>{var M;((M=c.searchRef)==null?void 0:M.current)!==""&&S.key===" "||(FR.includes(S.key)&&v(),S.key===" "&&S.preventDefault())})})})})});ey.displayName=ji;var vs="SelectItemText",ty=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=Zn(vs,n),a=Qn(vs,n),c=Jv(vs,n),l=BR(vs,n),[u,d]=_.useState(null),h=Ce(e,v=>d(v),c.onItemTextChange,v=>{var S;return(S=a.itemTextRefCallback)==null?void 0:S.call(a,v,c.value,c.disabled)}),p=u==null?void 0:u.textContent,m=_.useMemo(()=>w.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:f,onNativeOptionRemove:g}=l;return ut(()=>(f(m),()=>g(m)),[f,g,m]),w.jsxs(w.Fragment,{children:[w.jsx(ge.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Kr.createPortal(o.children,i.valueNode):null]})});ty.displayName=vs;var ny="SelectItemIndicator",ry=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Jv(ny,n).isSelected?w.jsx(ge.span,{"aria-hidden":!0,...r,ref:e}):null});ry.displayName=ny;var nl="SelectScrollUpButton",sy=_.forwardRef((t,e)=>{const n=Qn(nl,t.__scopeSelect),r=Du(nl,t.__scopeSelect),[s,o]=_.useState(!1),i=Ce(e,r.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollTop>0;o(l)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?w.jsx(iy,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});sy.displayName=nl;var rl="SelectScrollDownButton",oy=_.forwardRef((t,e)=>{const n=Qn(rl,t.__scopeSelect),r=Du(rl,t.__scopeSelect),[s,o]=_.useState(!1),i=Ce(e,r.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let a=function(){const l=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<l;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?w.jsx(iy,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});oy.displayName=rl;var iy=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=Qn("SelectScrollButton",n),i=_.useRef(null),a=Fa(n),c=_.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),ut(()=>{var u;const l=a().find(d=>d.ref.current===document.activeElement);(u=l==null?void 0:l.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),w.jsx(ge.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:he(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:he(s.onPointerMove,()=>{var l;(l=o.onItemLeave)==null||l.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:he(s.onPointerLeave,()=>{c()})})}),JR="SelectSeparator",ay=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return w.jsx(ge.div,{"aria-hidden":!0,...r,ref:e})});ay.displayName=JR;var sl="SelectArrow",eD=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Va(n),o=Zn(sl,n),i=Qn(sl,n);return o.open&&i.position==="popper"?w.jsx(X2,{...s,...r,ref:e}):null});eD.displayName=sl;function cy(t){return t===""||t===void 0}var ly=_.forwardRef((t,e)=>{const{value:n,...r}=t,s=_.useRef(null),o=Ce(e,s),i=Iu(n);return _.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&u){const d=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(d)}},[i,n]),w.jsx(Ev,{asChild:!0,children:w.jsx("select",{...r,ref:o,defaultValue:n})})});ly.displayName="BubbleSelect";function uy(t){const e=xn(t),n=_.useRef(""),r=_.useRef(0),s=_.useCallback(i=>{const a=n.current+i;e(a),function c(l){n.current=l,window.clearTimeout(r.current),l!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),o=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function dy(t,e,n){const s=e.length>1&&Array.from(e).every(l=>l===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=tD(t,Math.max(o,0));s.length===1&&(i=i.filter(l=>l!==n));const c=i.find(l=>l.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function tD(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var hy=Fv,fy=Wv,nD=Bv,rD=Uv,sD=zv,py=Hv,oD=Xv,my=Qv,gy=ey,iD=ty,aD=ry,vy=sy,yy=oy,by=ay;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_y=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>_.createElement("svg",{ref:c,...lD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_y("lucide",s),...a},[...i.map(([l,u])=>_.createElement(l,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=(t,e)=>{const n=_.forwardRef(({className:r,...s},o)=>_.createElement(uD,{ref:o,iconNode:e,className:_y(`lucide-${cD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=_r("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=_r("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=_r("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=_r("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=_r("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=_r("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=_r("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ss=_.forwardRef(({value:t,defaultValue:e,onValueChange:n,...r})=>{const s=t===""?"__empty__":t,o=e===""?"__empty__":e,i=a=>{n==null||n(a==="__empty__"?"":a)};return w.jsx(hy,{...r,value:s,defaultValue:o,onValueChange:i})});Ss.displayName=hy.displayName;const zo=nD,Ms=_.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(fy,{ref:r,className:Ge("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-border bg-slate-300/10 px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,w.jsx(rD,{asChild:!0,children:w.jsx(xy,{className:"h-4 w-4 opacity-50"})})]}));Ms.displayName=fy.displayName;const Py=_.forwardRef(({className:t,...e},n)=>w.jsx(vy,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",t),...e,children:w.jsx(dD,{className:"h-4 w-4"})}));Py.displayName=vy.displayName;const Sy=_.forwardRef(({className:t,...e},n)=>w.jsx(yy,{ref:n,className:Ge("flex cursor-default items-center justify-center py-1",t),...e,children:w.jsx(xy,{className:"h-4 w-4"})}));Sy.displayName=yy.displayName;const Cs=_.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>w.jsx(sD,{children:w.jsxs(py,{ref:s,className:Ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[w.jsx(Py,{}),w.jsx(oD,{className:Ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),w.jsx(Sy,{})]})}));Cs.displayName=py.displayName;const gD=_.forwardRef(({className:t,...e},n)=>w.jsx(my,{ref:n,className:Ge("px-2 py-1.5 text-sm font-semibold",t),...e}));gD.displayName=my.displayName;const tr=_.forwardRef(({className:t,children:e,value:n="",...r},s)=>w.jsxs(gy,{ref:s,className:Ge("h-9 relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-primary focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,value:n===""?"__empty__":n,children:[w.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(aD,{children:w.jsx(wy,{className:"h-4 w-4"})})}),w.jsx(iD,{children:e})]}));tr.displayName=gy.displayName;const vD=_.forwardRef(({className:t,...e},n)=>w.jsx(by,{ref:n,className:Ge("-mx-1 my-1 h-px bg-muted",t),...e}));vD.displayName=by.displayName;function yD(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var vo=t=>{const{present:e,children:n}=t,r=bD(e),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),o=Ce(r.ref,_D(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:o}):null};vo.displayName="Presence";function bD(t){const[e,n]=_.useState(),r=_.useRef({}),s=_.useRef(t),o=_.useRef("none"),i=t?"mounted":"unmounted",[a,c]=yD(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const l=Do(r.current);o.current=a==="mounted"?l:"none"},[a]),ut(()=>{const l=r.current,u=s.current;if(u!==t){const h=o.current,p=Do(l);t?c("MOUNT"):p==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),ut(()=>{if(e){let l;const u=e.ownerDocument.defaultView??window,d=p=>{const f=Do(r.current).includes(p.animationName);if(p.target===e&&f&&(c("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",l=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},h=p=>{p.target===e&&(o.current=Do(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(l),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(l=>{l&&(r.current=getComputedStyle(l)),n(l)},[])}}function Do(t){return(t==null?void 0:t.animationName)||"none"}function _D(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ju="Checkbox",[wD,E5]=ka(ju),[xD,PD]=wD(ju),My=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:l,form:u,...d}=t,[h,p]=_.useState(null),m=Ce(e,M=>p(M)),f=_.useRef(!1),g=h?u||!!h.closest("form"):!0,[v=!1,S]=qs({prop:s,defaultProp:o,onChange:l}),x=_.useRef(v);return _.useEffect(()=>{const M=h==null?void 0:h.form;if(M){const y=()=>S(x.current);return M.addEventListener("reset",y),()=>M.removeEventListener("reset",y)}},[h,S]),w.jsxs(xD,{scope:n,state:v,disabled:a,children:[w.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":Fn(v)?"mixed":v,"aria-required":i,"data-state":Ay(v),"data-disabled":a?"":void 0,disabled:a,value:c,...d,ref:m,onKeyDown:he(t.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:he(t.onClick,M=>{S(y=>Fn(y)?!0:!y),g&&(f.current=M.isPropagationStopped(),f.current||M.stopPropagation())})}),g&&w.jsx(SD,{control:h,bubbles:!f.current,name:r,value:c,checked:v,required:i,disabled:a,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Fn(o)?!1:o})]})});My.displayName=ju;var Cy="CheckboxIndicator",Ty=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=PD(Cy,n);return w.jsx(vo,{present:r||Fn(o.state)||o.state===!0,children:w.jsx(ge.span,{"data-state":Ay(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});Ty.displayName=Cy;var SD=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...o}=t,i=_.useRef(null),a=Iu(n),c=Eu(e);_.useEffect(()=>{const u=i.current,d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&p){const m=new Event("click",{bubbles:r});u.indeterminate=Fn(n),p.call(u,Fn(n)?!1:n),u.dispatchEvent(m)}},[a,n,r]);const l=_.useRef(Fn(n)?!1:n);return w.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??l.current,...o,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Fn(t){return t==="indeterminate"}function Ay(t){return Fn(t)?"indeterminate":t?"checked":"unchecked"}var Ey=My,MD=Ty;const Ho=_.forwardRef(({className:t,...e},n)=>w.jsx(Ey,{ref:n,className:Ge("peer h-4 w-4 shrink-0 rounded-sm border border-border shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:w.jsx(MD,{className:Ge("items-center justify-center text-current"),children:w.jsx(wy,{className:"h-full w-full"})})}));Ho.displayName=Ey.displayName;function CD(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}var Xr={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Oy=t=>Number(t).toString(2).padStart(12,"0"),qh=t=>parseInt(t,2),TD=/^[01]{12}$/;function Ny(t){return TD.test(t)}var AD=t=>typeof t=="number"&&t>=0&&t<=4095,ED=t=>t&&Ny(t.chroma),Gh={[Xr.chroma]:Xr};function ky(t){const e=Ny(t)?t:AD(t)?Oy(t):Array.isArray(t)?RD(t):ED(t)?t.chroma:Xr.chroma;return Gh[e]=Gh[e]||ID(e)}var OD=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function ND(t){const e=[];for(let n=0;n<12;n++)t.charAt(n)==="1"&&e.push(OD[n]);return e}function kD(t){const e=t.split("");return e.map((n,r)=>CD(r,e).join(""))}function ID(t){const e=qh(t),n=kD(t).map(qh).filter(o=>o>=2048).sort()[0],r=Oy(n),s=ND(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:r,intervals:s}}function RD(t){if(t.length===0)return Xr.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)e=Vr(t[r]),e.empty&&(e=Wr(t[r])),e.empty||(n[e.chroma]=1);return n.join("")}var DD=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],jD=DD;({...Xr});var Iy=[],qo={};function LD(t,e,n){const r=VD(t),s={...ky(t),name:n||"",quality:r,intervals:t,aliases:e};Iy.push(s),s.name&&(qo[s.name]=s),qo[s.setNum]=s,qo[s.chroma]=s,s.aliases.forEach(o=>FD(s,o))}function FD(t,e){qo[e]=t}function VD(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}jD.forEach(([t,e,n])=>LD(t.split(" "),n.split(" "),e));Iy.sort((t,e)=>t.setNum-e.setNum);var WD=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],$D=WD;({...Xr});var Go={};function BD(t,e,n=[]){const r={...ky(t),name:e,intervals:t,aliases:n};return Go[r.name]=r,Go[r.setNum]=r,Go[r.chroma]=r,r.aliases.forEach(s=>UD(r,s)),r}function UD(t,e){Go[e]=t}$D.forEach(([t,e,...n])=>BD(t.split(" "),e,n));function zD(t){const[e,n,r,s]=Ml(t);return e===""?vc("",t):e==="A"&&s==="ug"?vc("","aug"):vc(e+n,r+s)}function vc(t,e){const n=e.split("/");if(n.length===1)return[t,n[0],""];const[r,s,o,i]=Ml(n[1]);return r!==""&&o===""&&i===""?[t,n[0],r+s]:[t,e,""]}var Ry={empty:!0,name:"",chordType:""},Yh={};function Li(t){return typeof t=="string"?Yh[t]||(Yh[t]=XD(t)):typeof t=="number"?Li(Lu[t]||""):Sl(t)?HD(t):Pl(t)?Li(t.name):Ry}function HD(t){return Li(Af(t.alt)+Lu[t.step])}var qD=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function GD(t){return qD.exec(t)||["","","",""]}var YD="I II III IV V VI VII",Lu=YD.split(" ");function XD(t){const[e,n,r,s]=GD(t);if(!r)return Ry;const o=r.toUpperCase(),i=Lu.indexOf(o),a=Ef(n),c=1;return{empty:!1,name:e,roman:r,interval:Wr({step:i,alt:a,dir:c}).name,acc:n,chordType:s,alt:a,step:i,major:r===o,oct:0,dir:c}}function KD(t,e){return e.map(n=>{const[r,s]=zD(n),o=ew(t,r);return Li(Wr(o)).name+s})}function ZD(t,e){var s;if(!t||!e)return;if(t.noteLetter===e.noteLetter)return"I";const n=Qt(t,e.noteLetter);let r=(s=KD(t.noteLetter,[n]))==null?void 0:s[0];return Si(t.type)&&(r=QD(r)),Si(e.type)?r==null?void 0:r.toLowerCase():r}function QD(t){if(!t)return t;switch(t){case"bIII":return"III";case"III":return"#III";case"#II":return"III";default:return t}}const JD=({pianoComponentId:t,className:e})=>{const{state:n,dispatch:r}=io(),s=_.useRef({}),o=Et(n,t);s.current.showFlats=M(o),s.current.isProgKey=o.isProgKey??!1,s.current.selectedChordKey=Gr(s.current.showFlats,o.selectedKey.noteLetter??"C"),s.current.type=o.selectedChord.type??"",s.current.id=o.id,s.current.slashChord=o.selectedChord.slash??!1,s.current.slashNote=Gr(s.current.showFlats,o.selectedChord.slashNote??""),s.current.noteArray=i(s.current.showFlats,o.selectedKey.noteLetter,o.selectedChord.slashNote??"");function i(b,P,C){let E=Object.values(ca);b&&!(P!=null&&P.startsWith("#"))&&(E=Object.values(Ts));const O=Vo(n);return O&&(E=E.map(k=>Qt(O,k))),!O||!Po(O,P)||!Po(O,C)?E.map(k=>xs(k,P)?P??"":xs(k,C)?C??"":k):E}function a(b){if(!b||!b.trim())return"C";const P=Vo(n);return Qt(P,b)||b}_.useEffect(()=>{zf(o.piano)||bs(o),n.building||bs(o)});const c=b=>{if(!b.target.value)return;s.current.noteArray=i(s.current.showFlats,b.target.value);const P=a(b.target.value);p(o,P)},l=b=>{console.log(b.target.value),s.current.type=b.target.value,r({type:"UPDATE_CHORD_TYPE",id:o.id,chordType:s.current.type})},u=b=>{r({type:"SET_PROG_KEY",keyChecked:b.target.checked,id:o.id}),v(o)},d=b=>{s.current.slashChord=b.target.checked,s.current.slashChord||(s.current.slashNote=""),r({type:"UPDATE_SLASH_CHORD",isSlashChord:s.current.slashChord,id:o.id,slashNote:s.current.slashNote})},h=b=>{const P=b.target.checked,C=s.current.selectedChordKey;if(s.current.showFlats=P,r({type:"UPDATE_SHOW_FLATS",showFlats:s.current.showFlats,id:o.id}),s.current.isProgKey&&C.length>=2){let E;C.endsWith("b")&&!P?E=I_(C):C.includes("#")&&P&&(E=R_(C)),E&&p(o,E)}};function p(b,P){const C={noteLetter:P,octave:b.selectedKey.octave??0};console.log(P),r({type:"UPDATE_KEY",id:b.id,payload:C}),b.isProgKey&&v(b)}const m=b=>{b.target.value&&f(o,b.target.value)};function f(b,P){P&&(s.current.slashNote=P,r({type:"UPDATE_SLASH_CHORD",isSlashChord:s.current.slashChord,slashNote:s.current.slashNote,id:b.id}))}const g=Object.keys(su);function v(b){const P=b.selectedChord;for(const C of n.chordPianoSet)if(C.id!==b.id&&x(P,C),C.selectedChord.slash){const E=C.selectedChord.slashNote;S(P,E??"",C)}}function S(b,P,C){if(!P||!Po(b,P))return;const E=Qt(b,P);E!==P&&(C.selectedChord.slashNote=E,r({type:"UPDATE_SLASH_CHORD",isSlashChord:!0,slashNote:E,id:C.id}))}function x(b,P){const C=P.selectedChord.noteLetter;if(Po(b,C)){const E=Qt(b,C);E!==C&&(P.selectedKey.noteLetter=E,P.selectedChord.noteLetter=E,r({type:"UPDATE_KEY",id:P.id,payload:{noteLetter:E,octave:P.selectedKey.octave??0}}))}}function M(b){return!!(b.showFlats||b.selectedKey.noteLetter.includes("b")||b.selectedChord.slashNote!=null&&b.selectedChord.slashNote.includes("b"))}const y=()=>{const b=Et(n,t),P=Vo(n);return ZD(P,b==null?void 0:b.selectedChord)??""};return w.jsx("form",{className:Ge("h-[12em] w-[6em]",e),children:w.jsxs("div",{className:"items-center space-y-2 w-full",children:[w.jsxs("div",{className:"chord-select-group space-y-2",children:[w.jsxs("div",{className:"relative w-full",children:[w.jsxs(Ss,{value:a(s.current.selectedChordKey)||"C",onValueChange:b=>c({target:{value:b}}),children:[w.jsx(Ms,{className:"",children:w.jsx(zo,{})}),w.jsx(Cs,{children:s.current.noteArray.map((b,P)=>{const C=a(b);return C?w.jsx(tr,{value:C,children:C},P):null}).filter(Boolean)})]}),w.jsx("span",{className:"absolute right-8 top-1/2 -translate-y-1/2 text-slate-400",children:y()})]}),w.jsx("div",{className:"type-select",children:w.jsxs(Ss,{value:s.current.type||"major",onValueChange:b=>l({target:{value:b}}),children:[w.jsx(Ms,{className:"w-24",children:w.jsx(zo,{})}),w.jsx(Cs,{children:g.map((b,P)=>w.jsx(tr,{value:b,children:b},P))})]})})]}),w.jsxs("div",{className:"flex-box space-x-2 text-slate-300",children:[w.jsxs("div",{className:"flex space-x-4 mb-2",children:[w.jsxs("div",{className:"space-x-2 keyCheckBox",children:[w.jsx(Ho,{id:`key-${s.current.id}`,className:"pb-[0.1em]",checked:s.current.isProgKey,onCheckedChange:b=>u({target:{checked:b}})}),w.jsx("label",{htmlFor:`key-${s.current.id}`,className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"key"})]}),w.jsxs("div",{className:"items-center space-x-2 flatCheckBox",children:[w.jsx(Ho,{id:`flat-${s.current.id}`,className:"pb-[0.1em]",checked:s.current.showFlats,onCheckedChange:b=>h({target:{checked:b}})}),w.jsx("label",{htmlFor:`flat-${s.current.id}`,className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"b"})]})]}),w.jsxs("div",{className:"flex !ml-0 space-x-2 !mb-[0.7em] slashCheckBox",children:[w.jsx(Ho,{id:`slash-${s.current.id}`,className:"pb-[0.1em]",checked:s.current.slashChord,onCheckedChange:b=>d({target:{checked:b}})}),w.jsx("label",{htmlFor:`slash-${s.current.id}`,className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"slash"})]})]}),w.jsxs("div",{className:"flex items-center slash-container",children:[w.jsx("span",{className:Ge("mx-1 text-lg",!s.current.slashChord&&"invisible"),children:"/"}),w.jsx("div",{className:Ge("transition-all ml-1",!s.current.slashChord&&"invisible w-0",s.current.slashChord&&"w-20"),children:w.jsxs(Ss,{defaultValue:s.current.slashNote||"placeholder",onValueChange:b=>{b!=="placeholder"&&m({target:{value:b}})},disabled:!s.current.slashChord,children:[w.jsx(Ms,{children:w.jsx(zo,{placeholder:"Select",children:s.current.slashNote})}),w.jsxs(Cs,{children:[w.jsx(tr,{value:"placeholder",disabled:!0}),s.current.noteArray.map((b,P)=>{const C=b.trim();if(!C||!(C!=null&&C.length))return null;const E=a(C);if(!E)return null;if(xs(s.current.slashNote,C)){const O=a(s.current.slashNote);return O?w.jsx(tr,{value:O,children:O},P):null}return w.jsx(tr,{value:E,children:E},P)})]})]})})]})]})})},e3=({pianoComponentId:t})=>w.jsx(w.Fragment,{children:w.jsx("div",{className:"container chordPiano",id:`piano-${t}`,children:w.jsx("div",{className:"!mt-[-1em] sm:mt-0 relative row",children:w.jsxs("div",{className:"",children:[w.jsx(JD,{pianoComponentId:t},`c-${t}`),w.jsx(pI,{pianoComponentId:Number(t)},Number(t))]})})})});var Xh,fs={},Kh={exports:{}},ae={};function t3(){if(Xh)return ae;Xh=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function f(T,A,I){this.props=T,this.context=A,this.refs=m,this.updater=I||h}function g(){}function v(T,A,I){this.props=T,this.context=A,this.refs=m,this.updater=I||h}f.prototype.isReactComponent={},f.prototype.setState=function(T,A){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,A,"setState")},f.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")},g.prototype=f.prototype;var S=v.prototype=new g;S.constructor=v,p(S,f.prototype),S.isPureReactComponent=!0;var x=Array.isArray,M=Object.prototype.hasOwnProperty,y={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function P(T,A,I){var D,V={},q=null,X=null;if(A!=null)for(D in A.ref!==void 0&&(X=A.ref),A.key!==void 0&&(q=""+A.key),A)M.call(A,D)&&!b.hasOwnProperty(D)&&(V[D]=A[D]);var z=arguments.length-2;if(z===1)V.children=I;else if(1<z){for(var G=Array(z),$=0;$<z;$++)G[$]=arguments[$+2];V.children=G}if(T&&T.defaultProps)for(D in z=T.defaultProps)V[D]===void 0&&(V[D]=z[D]);return{$$typeof:t,type:T,key:q,ref:X,props:V,_owner:y.current}}function C(T){return typeof T=="object"&&T!==null&&T.$$typeof===t}var E=/\/+/g;function O(T,A){return typeof T=="object"&&T!==null&&T.key!=null?function(I){var D={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(V){return D[V]})}(""+T.key):A.toString(36)}function k(T,A,I,D,V){var q=typeof T;q!=="undefined"&&q!=="boolean"||(T=null);var X=!1;if(T===null)X=!0;else switch(q){case"string":case"number":X=!0;break;case"object":switch(T.$$typeof){case t:case e:X=!0}}if(X)return V=V(X=T),T=D===""?"."+O(X,0):D,x(V)?(I="",T!=null&&(I=T.replace(E,"$&/")+"/"),k(V,A,I,"",function($){return $})):V!=null&&(C(V)&&(V=function($,B){return{$$typeof:t,type:$.type,key:B,ref:$.ref,props:$.props,_owner:$._owner}}(V,I+(!V.key||X&&X.key===V.key?"":(""+V.key).replace(E,"$&/")+"/")+T)),A.push(V)),1;if(X=0,D=D===""?".":D+":",x(T))for(var z=0;z<T.length;z++){var G=D+O(q=T[z],z);X+=k(q,A,I,G,V)}else if(G=function($){return $===null||typeof $!="object"?null:typeof($=d&&$[d]||$["@@iterator"])=="function"?$:null}(T),typeof G=="function")for(T=G.call(T),z=0;!(q=T.next()).done;)X+=k(q=q.value,A,I,G=D+O(q,z++),V);else if(q==="object")throw A=String(T),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return X}function N(T,A,I){if(T==null)return T;var D=[],V=0;return k(T,D,"","",function(q){return A.call(I,q,V++)}),D}function j(T){if(T._status===-1){var A=T._result;(A=A()).then(function(I){T._status!==0&&T._status!==-1||(T._status=1,T._result=I)},function(I){T._status!==0&&T._status!==-1||(T._status=2,T._result=I)}),T._status===-1&&(T._status=0,T._result=A)}if(T._status===1)return T._result.default;throw T._result}var R={current:null},W={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:W,ReactCurrentOwner:y};function F(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:N,forEach:function(T,A,I){N(T,function(){A.apply(this,arguments)},I)},count:function(T){var A=0;return N(T,function(){A++}),A},toArray:function(T){return N(T,function(A){return A})||[]},only:function(T){if(!C(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ae.Component=f,ae.Fragment=n,ae.Profiler=s,ae.PureComponent=v,ae.StrictMode=r,ae.Suspense=c,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,ae.act=F,ae.cloneElement=function(T,A,I){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var D=p({},T.props),V=T.key,q=T.ref,X=T._owner;if(A!=null){if(A.ref!==void 0&&(q=A.ref,X=y.current),A.key!==void 0&&(V=""+A.key),T.type&&T.type.defaultProps)var z=T.type.defaultProps;for(G in A)M.call(A,G)&&!b.hasOwnProperty(G)&&(D[G]=A[G]===void 0&&z!==void 0?z[G]:A[G])}var G=arguments.length-2;if(G===1)D.children=I;else if(1<G){z=Array(G);for(var $=0;$<G;$++)z[$]=arguments[$+2];D.children=z}return{$$typeof:t,type:T.type,key:V,ref:q,props:D,_owner:X}},ae.createContext=function(T){return(T={$$typeof:i,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:T},T.Consumer=T},ae.createElement=P,ae.createFactory=function(T){var A=P.bind(null,T);return A.type=T,A},ae.createRef=function(){return{current:null}},ae.forwardRef=function(T){return{$$typeof:a,render:T}},ae.isValidElement=C,ae.lazy=function(T){return{$$typeof:u,_payload:{_status:-1,_result:T},_init:j}},ae.memo=function(T,A){return{$$typeof:l,type:T,compare:A===void 0?null:A}},ae.startTransition=function(T){var A=W.transition;W.transition={};try{T()}finally{W.transition=A}},ae.unstable_act=F,ae.useCallback=function(T,A){return R.current.useCallback(T,A)},ae.useContext=function(T){return R.current.useContext(T)},ae.useDebugValue=function(){},ae.useDeferredValue=function(T){return R.current.useDeferredValue(T)},ae.useEffect=function(T,A){return R.current.useEffect(T,A)},ae.useId=function(){return R.current.useId()},ae.useImperativeHandle=function(T,A,I){return R.current.useImperativeHandle(T,A,I)},ae.useInsertionEffect=function(T,A){return R.current.useInsertionEffect(T,A)},ae.useLayoutEffect=function(T,A){return R.current.useLayoutEffect(T,A)},ae.useMemo=function(T,A){return R.current.useMemo(T,A)},ae.useReducer=function(T,A,I){return R.current.useReducer(T,A,I)},ae.useRef=function(T){return R.current.useRef(T)},ae.useState=function(T){return R.current.useState(T)},ae.useSyncExternalStore=function(T,A,I){return R.current.useSyncExternalStore(T,A,I)},ae.useTransition=function(){return R.current.useTransition()},ae.version="18.3.1",ae}var Zh,Qh;function n3(){return Zh||(Zh=1,Kh.exports=t3()),Kh.exports}/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){if(Qh)return fs;Qh=1;var t=n3(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(a,c,l){var u,d={},h=null,p=null;for(u in l!==void 0&&(h=""+l),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(p=c.ref),c)r.call(c,u)&&!o.hasOwnProperty(u)&&(d[u]=c[u]);if(a&&a.defaultProps)for(u in c=a.defaultProps)d[u]===void 0&&(d[u]=c[u]);return{$$typeof:e,type:a,key:h,ref:p,props:d,_owner:s.current}}return fs.Fragment=n,fs.jsx=i,fs.jsxs=i,fs})();/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */var r3={prefix:"fas",iconName:"cog",icon:[512,512,[],"f013","M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"]};const s3=()=>{var c;const{state:t,dispatch:e}=io(),n=C_(),[r,s]=_.useState(!1),[o,i]=_.useState(0);_.useLayoutEffect(()=>{(()=>{const u=n.location.search+n.location.hash;!r&&u&&(e({type:"BUILD_PROG_FROM_CODE",payload:u}),s(!0),i(d=>d+1))})()},[n.location.search,n.location.hash,r,e]),_.useLayoutEffect(()=>{(()=>{t.refreshBoard&&t.refreshBoard!==o&&i(t.refreshBoard)})()},[t.refreshBoard,o]),_.useEffect(()=>{if(!t.chordPianoSet)return;const l=eg(t),u=n.location.search+n.location.hash;l!==u&&n.push({search:l})},[t,n]);let a;return a=()=>{var l;return(l=t.chordPianoSet)==null?void 0:l.map(u=>w.jsxs("div",{className:"lg:!ml-[20%]",children:[w.jsx(e3,{pianoComponentId:Number(u.id)},`piano-${u.id}-${o}`),w.jsx("div",{className:"pianoStrip"},`strip-${u.id}`)]},`wrapper-${u.id}-${o}`))},w.jsx("div",{className:"pianoBoard",children:((c=t.chordPianoSet)==null?void 0:c.length)??!1?w.jsxs(w.Fragment,{children:[a(),w.jsx("div",{className:"h-[100vh]"})]}):w.jsx("div",{className:"introBody",children:w.jsxs("div",{className:"introText",children:["welcome to chord buildr",w.jsx("br",{}),"use the controls above to get started"]})})},`pianoBoard-${o}`)};var Fu="Dialog",[Dy,O5]=ka(Fu),[o3,zt]=Dy(Fu),jy=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=_.useRef(null),c=_.useRef(null),[l=!1,u]=qs({prop:r,defaultProp:s,onChange:o});return w.jsx(o3,{scope:e,triggerRef:a,contentRef:c,contentId:Rr(),titleId:Rr(),descriptionId:Rr(),open:l,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(d=>!d),[u]),modal:i,children:n})};jy.displayName=Fu;var Ly="DialogTrigger",i3=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zt(Ly,n),o=Ce(e,s.triggerRef);return w.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":$u(s.open),...r,ref:o,onClick:he(t.onClick,s.onOpenToggle)})});i3.displayName=Ly;var Vu="DialogPortal",[a3,Fy]=Dy(Vu,{forceMount:void 0}),Vy=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=zt(Vu,e);return w.jsx(a3,{scope:e,forceMount:n,children:_.Children.map(r,i=>w.jsx(vo,{present:n||o.open,children:w.jsx(ku,{asChild:!0,container:s,children:i})}))})};Vy.displayName=Vu;var Fi="DialogOverlay",Wy=_.forwardRef((t,e)=>{const n=Fy(Fi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=zt(Fi,t.__scopeDialog);return o.modal?w.jsx(vo,{present:r||o.open,children:w.jsx(c3,{...s,ref:e})}):null});Wy.displayName=Fi;var c3=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zt(Fi,n);return w.jsx(Ru,{as:hr,allowPinchZoom:!0,shards:[s.contentRef],children:w.jsx(ge.div,{"data-state":$u(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mr="DialogContent",$y=_.forwardRef((t,e)=>{const n=Fy(mr,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=zt(mr,t.__scopeDialog);return w.jsx(vo,{present:r||o.open,children:o.modal?w.jsx(l3,{...s,ref:e}):w.jsx(u3,{...s,ref:e})})});$y.displayName=mr;var l3=_.forwardRef((t,e)=>{const n=zt(mr,t.__scopeDialog),r=_.useRef(null),s=Ce(e,n.contentRef,r);return _.useEffect(()=>{const o=r.current;if(o)return Nv(o)},[]),w.jsx(By,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:he(t.onFocusOutside,o=>o.preventDefault())})}),u3=_.forwardRef((t,e)=>{const n=zt(mr,t.__scopeDialog),r=_.useRef(!1),s=_.useRef(!1);return w.jsx(By,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,l;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((l=n.triggerRef.current)==null?void 0:l.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),By=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=zt(mr,n),c=_.useRef(null),l=Ce(e,c);return av(),w.jsxs(w.Fragment,{children:[w.jsx(wu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:w.jsx(_u,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$u(a.open),...i,ref:l,onDismiss:()=>a.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(d3,{titleId:a.titleId}),w.jsx(f3,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Wu="DialogTitle",Uy=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zt(Wu,n);return w.jsx(ge.h2,{id:s.titleId,...r,ref:e})});Uy.displayName=Wu;var zy="DialogDescription",Hy=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zt(zy,n);return w.jsx(ge.p,{id:s.descriptionId,...r,ref:e})});Hy.displayName=zy;var qy="DialogClose",Gy=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=zt(qy,n);return w.jsx(ge.button,{type:"button",...r,ref:e,onClick:he(t.onClick,()=>s.onOpenChange(!1))})});Gy.displayName=qy;function $u(t){return t?"open":"closed"}var Yy="DialogTitleWarning",[N5,Xy]=vI(Yy,{contentName:mr,titleName:Wu,docsSlug:"dialog"}),d3=({titleId:t})=>{const e=Xy(Yy),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},h3="DialogDescriptionWarning",f3=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Xy(h3).contentName}}.`;return _.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},p3=jy,m3=Vy,Ky=Wy,Zy=$y,Qy=Uy,Jy=Hy,g3=Gy;const Bu=p3,v3=m3,eb=_.forwardRef(({className:t,...e},n)=>w.jsx(Ky,{ref:n,className:Ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));eb.displayName=Ky.displayName;const Wa=_.forwardRef(({className:t,children:e,...n},r)=>w.jsxs(v3,{children:[w.jsx(eb,{}),w.jsxs(Zy,{ref:r,className:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg","max-h-[80vh] max-w-[85vw] text-slate-300 border-slate-700 ",t),...n,children:[e,w.jsxs(g3,{className:"absolute right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none focus:ring-ring disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[w.jsx(mD,{className:"h-4 w-4",strokeWidth:"4"}),w.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wa.displayName=Zy.displayName;const $a=({className:t,...e})=>w.jsx("div",{className:Ge("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});$a.displayName="DialogHeader";const y3=_.forwardRef(({className:t,...e},n)=>w.jsx(Qy,{ref:n,className:Ge("text-lg font-semibold leading-none tracking-tight",t),...e}));y3.displayName=Qy.displayName;const b3=_.forwardRef(({className:t,...e},n)=>w.jsx(Jy,{ref:n,className:Ge("text-sm text-muted-foreground",t),...e}));b3.displayName=Jy.displayName;function _3({open:t,onOpenChange:e}){return w.jsx(Bu,{open:t,onOpenChange:e,children:w.jsxs(Wa,{className:"sm:max-w-lg",children:[w.jsx($a,{className:"border-b pb-4",children:w.jsx("div",{className:" inset-0"})}),w.jsxs("div",{className:"space-y-4 relative overflow-auto max-h-[60vh] px-4",children:[w.jsx("p",{className:"text-sm text-center",children:"Chord Buildr provides an easy way for musicians and music lovers to create and share chord progressions."}),w.jsx("div",{className:"border-t border-border"}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs("h6",{className:"text-sm font-semibold flex items-center",children:[w.jsx(fD,{className:"mr-1 h-4 w-4"})," transpose"]}),w.jsx("div",{className:"text-sm text-muted-foreground ml-6",children:"Mark a chord as the key and the rest of your progression will transpose as you change its root note."})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("h6",{className:"text-sm font-semibold flex items-center",children:[w.jsx(hD,{className:"mr-1 h-4 w-4"})," share"]}),w.jsx("div",{className:"text-sm text-muted-foreground ml-6",children:"To share a progression, simply copy the URL. No account needed!"})]})]}),w.jsxs("div",{className:"pt-[0.7em] text-center text-sm",children:[w.jsxs("p",{className:"text-muted-foreground",children:["Chord Buildr is an"," ",w.jsx("a",{className:"text-primary hover:underline",href:"https://github.com/jekrch/chord-buildr",children:"open source"})," ","project ",w.jsx("br",{})," by"," ",w.jsx("a",{className:"text-primary hover:underline",href:"https://www.jacobkrch.com",children:"Jacob Krch"})," ","and"," ",w.jsx("a",{className:"text-primary hover:underline",href:"https://www.linkedin.com/in/teran-keith-210941107/",children:"Teran Keith"})]}),w.jsxs("p",{className:"text-xs text-muted-foreground !mt-[2em]",children:["© 2020-",new Date().getFullYear()," Jacob Krch All Rights Reserved"]})]})]})]})})}const w3=[{version:"2.0",date:"12.01.2024",items:["rolling out new UI","preparing for upcoming guitar tab support"]},{version:"1.8",date:"11.03.2024",items:["migrated to typescript and vite"]},{version:"1.7.1",date:"03.27.2023",items:["fixed bug with slash note notation which caused slash notes to some times use inconsistent accidentals between views"]},{version:"1.7",date:"03.27.2023",items:["when a key is selected, the other note letters adjust to display the correct notation in that key"]},{version:"1.6",date:"03.05.2023",items:["when a key is selected, display a roman numeral for each chord","users can now edit their progression directly in text by clicking on the edit icon in the top nav"]},{version:"1.5",date:"02.05.2023",items:["add play button to header for cycling through chords","disable header buttons when unavailable"]},{version:"1.4",date:"09.19.2021",items:["add synth settings modal","volume control and five synth voice options","backwards compatible url encoding for synth settings"]},{version:"1.3",date:"09.11.2021",items:["adjust volume to reduce distortion","modify chord volume according to pitch","version history modal"]},{version:"1.2",date:"09.05.2021",items:["display flats instead of sharps for a given chord piano","security updates"]},{version:"1.1",date:"05.16.2021",items:["redesigned UI for mobile","improved url handling for facebook and google","performance improvements"]},{version:"1.0",date:"03.20.2021",items:["user chord input with interactive keyboards","url encoded progressions for sharing","synth playback via buttons and chord chart","undo and clear functionality","navigate to chords on chart click"]}],x3=({version:t,date:e,items:n})=>w.jsxs("div",{className:"border-t border-gray-700 pt-2",children:[w.jsxs("div",{className:"text-slate-200 flex gap-2 items-baseline",children:[w.jsx("span",{className:"text-sm",children:t}),w.jsxs("span",{className:"text-xs text-gray-400",children:["- ",e]})]}),w.jsx("div",{className:"mt-2 ml-3 space-y-2",children:n.map((r,s)=>w.jsxs("div",{className:"flex items-start gap-2 text-gray-300 ml-[0.5em]",children:[w.jsx("span",{className:"mt-[0.35em] h-1.5 w-1.5 rounded-full bg-gray-500 flex-shrink-0"}),w.jsx("span",{className:"text-xs",children:r})]},s))})]});function P3({open:t,onOpenChange:e}){return w.jsx(Bu,{open:t,onOpenChange:e,children:w.jsxs(Wa,{className:"sm:max-w-lg",children:[w.jsxs($a,{className:"h-4",children:[w.jsx("div",{className:"absolute inset-0"}),w.jsx("h2",{className:"text-base font-semibold text-center !-mt-1",children:"change log"})]}),w.jsx("div",{className:"space-y-6 overflow-y-auto pr-2 max-h-[60vh] z-30",children:w.jsx("div",{className:"space-y-4 mr-2",children:w3.map((n,r)=>w.jsx(x3,{version:n.version,date:n.date,items:n.items},r))})})]})})}var tb=["PageUp","PageDown"],nb=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rb={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ls="Slider",[ol,S3,M3]=rv(ls),[sb,k5]=ka(ls,[M3]),[C3,Ba]=sb(ls),ob=_.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:l=[r],value:u,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:m,...f}=t,g=_.useRef(new Set),v=_.useRef(0),x=i==="horizontal"?T3:A3,[M=[],y]=qs({prop:u,defaultProp:l,onChange:k=>{var j;(j=[...g.current][v.current])==null||j.focus(),d(k)}}),b=_.useRef(M);function P(k){const N=I3(M,k);O(k,N)}function C(k){O(k,v.current)}function E(){const k=b.current[v.current];M[v.current]!==k&&h(M)}function O(k,N,{commit:j}={commit:!1}){const R=L3(o),W=F3(Math.round((k-r)/o)*o+r,R),L=Ni(W,[r,s]);y((F=[])=>{const T=N3(F,L,N);if(j3(T,c*o)){v.current=T.indexOf(L);const A=String(T)!==String(F);return A&&j&&h(T),A?T:F}else return F})}return w.jsx(C3,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:v,thumbs:g.current,values:M,orientation:i,form:m,children:w.jsx(ol.Provider,{scope:t.__scopeSlider,children:w.jsx(ol.Slot,{scope:t.__scopeSlider,children:w.jsx(x,{"aria-disabled":a,"data-disabled":a?"":void 0,...f,ref:e,onPointerDown:he(f.onPointerDown,()=>{a||(b.current=M)}),min:r,max:s,inverted:p,onSlideStart:a?void 0:P,onSlideMove:a?void 0:C,onSlideEnd:a?void 0:E,onHomeKeyDown:()=>!a&&O(r,0,{commit:!0}),onEndKeyDown:()=>!a&&O(s,M.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:N})=>{if(!a){const W=tb.includes(k.key)||k.shiftKey&&nb.includes(k.key)?10:1,L=v.current,F=M[L],T=o*W*N;O(F+T,L,{commit:!0})}}})})})})});ob.displayName=ls;var[ib,ab]=sb(ls,{startEdge:"left",endEdge:"right",size:"width",direction:1}),T3=_.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onStepKeyDown:l,...u}=t,[d,h]=_.useState(null),p=Ce(e,x=>h(x)),m=_.useRef(),f=sv(s),g=f==="ltr",v=g&&!o||!g&&o;function S(x){const M=m.current||d.getBoundingClientRect(),y=[0,M.width],P=Uu(y,v?[n,r]:[r,n]);return m.current=M,P(x-M.left)}return w.jsx(ib,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:w.jsx(cb,{dir:f,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const M=S(x.clientX);i==null||i(M)},onSlideMove:x=>{const M=S(x.clientX);a==null||a(M)},onSlideEnd:()=>{m.current=void 0,c==null||c()},onStepKeyDown:x=>{const y=rb[v?"from-left":"from-right"].includes(x.key);l==null||l({event:x,direction:y?-1:1})}})})}),A3=_.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:a,onStepKeyDown:c,...l}=t,u=_.useRef(null),d=Ce(e,u),h=_.useRef(),p=!s;function m(f){const g=h.current||u.current.getBoundingClientRect(),v=[0,g.height],x=Uu(v,p?[r,n]:[n,r]);return h.current=g,x(f-g.top)}return w.jsx(ib,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:w.jsx(cb,{"data-orientation":"vertical",...l,ref:d,style:{...l.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:f=>{const g=m(f.clientY);o==null||o(g)},onSlideMove:f=>{const g=m(f.clientY);i==null||i(g)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:f=>{const v=rb[p?"from-bottom":"from-top"].includes(f.key);c==null||c({event:f,direction:v?-1:1})}})})}),cb=_.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:c,...l}=t,u=Ba(ls,n);return w.jsx(ge.span,{...l,ref:e,onKeyDown:he(t.onKeyDown,d=>{d.key==="Home"?(i(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):tb.concat(nb).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:he(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(h)?h.focus():r(d)}),onPointerMove:he(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&s(d)}),onPointerUp:he(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),o(d))})})}),lb="SliderTrack",ub=_.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Ba(lb,n);return w.jsx(ge.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});ub.displayName=lb;var il="SliderRange",db=_.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=Ba(il,n),o=ab(il,n),i=_.useRef(null),a=Ce(e,i),c=s.values.length,l=s.values.map(h=>fb(h,s.min,s.max)),u=c>1?Math.min(...l):0,d=100-Math.max(...l);return w.jsx(ge.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[o.startEdge]:u+"%",[o.endEdge]:d+"%"}})});db.displayName=il;var al="SliderThumb",hb=_.forwardRef((t,e)=>{const n=S3(t.__scopeSlider),[r,s]=_.useState(null),o=Ce(e,a=>s(a)),i=_.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return w.jsx(E3,{...t,ref:o,index:i})}),E3=_.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...o}=t,i=Ba(al,n),a=ab(al,n),[c,l]=_.useState(null),u=Ce(e,S=>l(S)),d=c?i.form||!!c.closest("form"):!0,h=Eu(c),p=i.values[r],m=p===void 0?0:fb(p,i.min,i.max),f=k3(r,i.values.length),g=h==null?void 0:h[a.size],v=g?R3(g,m,a.direction):0;return _.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),w.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${m}% + ${v}px)`},children:[w.jsx(ol.ItemSlot,{scope:t.__scopeSlider,children:w.jsx(ge.span,{role:"slider","aria-label":t["aria-label"]||f,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:u,style:p===void 0?{display:"none"}:t.style,onFocus:he(t.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),d&&w.jsx(O3,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},r)]})});hb.displayName=al;var O3=t=>{const{value:e,...n}=t,r=_.useRef(null),s=Iu(e);return _.useEffect(()=>{const o=r.current,i=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==e&&c){const l=new Event("input",{bubbles:!0});c.call(o,e),o.dispatchEvent(l)}},[s,e]),w.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function N3(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,o)=>s-o)}function fb(t,e,n){const o=100/(n-e)*(t-e);return Ni(o,[0,100])}function k3(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function I3(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function R3(t,e,n){const r=t/2,o=Uu([0,50],[0,r]);return(r-o(e)*n)*n}function D3(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function j3(t,e){if(e>0){const n=D3(t);return Math.min(...n)>=e}return!0}function Uu(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function L3(t){return(String(t).split(".")[1]||"").length}function F3(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var pb=ob,V3=ub,W3=db,$3=hb;const mb=_.forwardRef(({className:t,...e},n)=>w.jsxs(pb,{ref:n,className:Ge("relative flex w-full touch-none select-none items-center",t),...e,children:[w.jsx(V3,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:w.jsx(W3,{className:"absolute h-full bg-primary"})}),w.jsx($3,{className:"block h-4 w-4 rounded-full border border-border/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));mb.displayName=pb.displayName;function B3({open:t,onOpenChange:e}){const{state:n,dispatch:r}=io(),s=_.useRef({synthType:n.synth,volume:n.volume}),[o,i]=_.useState(n.volume),a=h=>{s.current.synthType=h,r({type:"UPDATE_SYNTH",synth:s.current.synthType})},c=h=>{i(h[0])},l=h=>{s.current.volume!==h[0]&&(n.building=!0,s.current.volume=h[0],r({type:"UPDATE_SYNTH_VOLUME",volume:s.current.volume}),n.building=!1)},u=()=>{const h=n.chordPianoSet;if(!(h!=null&&h.length)){d();return}yu(r,n,h[0].id)},d=()=>{r({type:"ADD_CHORD_PIANO",payload:"selectedKey"})};return w.jsx(Bu,{open:t,onOpenChange:e,children:w.jsxs(Wa,{className:"sm:max-w-lg",children:[w.jsx($a,{className:"border-b pb-5",children:w.jsx("div",{})}),w.jsx("div",{className:"py-4",children:w.jsxs("div",{className:"flex items-center gap-6 -ml-1",children:[w.jsx("button",{onClick:u,className:"text-primary hover:text-primary/80 transition-colors flex-shrink-0",children:w.jsx(pD,{size:62})}),w.jsxs("div",{className:"flex-grow space-y-8",children:[w.jsxs(Ss,{value:s.current.synthType,onValueChange:a,children:[w.jsx(Ms,{className:"w-full",children:w.jsx(zo,{})}),w.jsx(Cs,{children:Object.entries(Jm).map(([h,p])=>w.jsx(tr,{value:h,children:p},`k-${h}`))})]}),w.jsx(mb,{value:[o],onValueChange:c,onValueCommit:l,max:100,step:1,className:"w-full"})]})]})})]})})}const U3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwQTM4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwQTI4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMyOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJBNDE0QUJDOTlBMTExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8kSqyAAADD5JREFUeNrsXQ2QlVUZfllYUBe2YCuQFNel9Q9EcVEQSA3xB2pTSVcESjELnZomBW0ya5w0m1GyzKSmtEYDc6hGohRDrUGQZUko0EARCAXK+FEwXFz2yvY+fO/d+fbu/fm++533+7n3PDPPwC6Xc77zPvc7P+95z3t6dHR0kEXpoleJtGMwcwTzE8w6Zi1zELNG2JfZJ+P/tDEPMPcK32JuY25lbmauZ/476YbpkcA3+BjmucxxwlHMAUp1vc18ifmisJnZagU2jyHMKcxJzPOzvI1hAW/9MuYS5pPMN6zAxeNjzOnMq5mjY/qMLcyFzPnMXVZgb7iQOYt5ObMyIT1hO/MPzJ8xn7cCZ5/sTWXeKpOlJAOTs/uYTzBT5S4whJ3BvIM5tMRWKFuYd0v3nSpHgT/NnMs8pcSXoq8xZzOfKheBT2I+wLy0zHwOzzC/LoKHhooQ68KE6XYZo8pNXJI2rxMbVJbaG3wa83HmGWRBIvQ05oakv8E9mF9hrrHidsEZYpOvio0S+QbD//tL5lVWz7z4HXMmOX7xxAhcz1wkXbNFYWxkXsZ8PQld9HjmKiuuL5wqNhsfd4GbyHHVDbCa+cYAsV1TXAXGOPIbZm+rVdHoLTa8Pm4C3yQTqgqrkRFNHhGbxmKSNVPEtTCPLwa1bVCBm6RLsW+uDg4zryFnzzl0gcfLpMCOubo4RM4e+YowBa6Xab2dLYcDxIaNKWadXIzA8FCtlrWbRXiAM+Qc8unx8jt2wm/6KytuJDhVbN9DU2BsHFwZ8EH3keNof1n+XurYJ21Fm/cHLOtK0UCli4brcS0FD1n9DHWNbjhOJhHYL4U/9uiEC3qQnAC8Z2QSusP1b43MxQHLR+huA/OfJgXGBvXfKPiWHyYLOHHQnuPfq8mJ0UJUZdKC7/CWIqoSMVjv5rHjf5n9A9aF/eSz89jRdxd9G5nZz11S4KFgmHlSF4LcWxIg7Gp51hHy7O/m+Wy72CAoYJ9vmBqDT2Z+25AxXvDxWXRxOKLyOXLOC8UNW2VMHCPP6hXLDdV/h2gTuIv+M/NiQw/VIOO4X2DcnyNftFxzgDdkXHqVuZOcg2MgDpa9J2Njm6s8jPVV5BxOGyz8ODlRnsOYJ+QZA+9h3st8v0gbvGTInkuZlwQRGKGtfzL0MO1i0PYAZcDBAkf8cOZK6RGWy/hnOiIC6/3TyfHYnUfOQTd8gW6gYJGRlfKFMxV4lzlp9SxwL2nQSYYe5M08b4XftTh4OOQuOT2cmah3u6weTOB1WeGk/I7BMwyKC7xlqJyOCMRNC2uq3v8YfK560crXJKtSBnHT60MLB6bPGEOr3n4ExkGwoVaHxABaXe1H4DkKD3GU1aETGt66W70KPJF0vEgnWF07MUShzNNFu4IC36jUqIHMflbbIzYYqFT2TYUERtqEzypVjqXNWVbfIzbQOq7SKBrmFHgG6Z58m2j1VbVBZeaSKVPgJuXGNVp91W3QlEtgJBDTzmZzt9VX3Qaj3Utct8CXK1d8Fzkn6codsMF3leu4LJvAkxQrXBVCo5KEu8QmWpjcObOVzQakB0S0hUYGuQ9kjbbR6toF2JbELphGvlBsaSKkuTX9Bo8jvfSAD1lxs+JVsY0G+oimnV30WKWKsCH+PatlTtxDxQUNeMFYt8DjlCr5NcU0h2NMsEtspIFx7jF4L+kcQ8GUfbXVMS9wWkEjuBBzqhoIjDikHQoVbCW75egVW8QPYRrHoYvWij9+2urmGUuUyh0BgeuVCl9hdYvcVvUQuFapcDv2Rm+rWi2BERr7ptXNM2CrlJbAgxQKRljoB1Y3z4C4OxXKHQSBaxQK/p/VzDc0jtLWaAm83+rlGwe0BNaIk+pp9fINjU2HfhBYI0tOX6uXb2iEFffWym9VZfXyjWqNQrUEtrmzYmIz+KI1EkYfki7HXm3q/UXDtmGlRsEppW/jYKubZwwmnXDlVIXikuZEq5tn1CmVu7+C9HJV1VndIn8Z9kHg3UqFj7K6ecbZSuXuhsA7lQofa3WL3FY7NQU+k5xwXIvCPoMRmgJvVioc7soJVr+CmEB6rt3NEHiT4sNPsfoVxBWKZW+CowPpfLYrVYBtQ+w3t1odswJDGLIPaR2MPx5vMCIq9ypVgAefbnXMiemK4iJsdkfaF71GsRG3kL20Ixt6iW20cCRdYtrwKxUrwiGra62e3fB50r39vNkt8IvKjcEZnGqraSeqxSaaWOEWGD+0KVaGidb9VtdO/Ih0gh3TaMsUGFtVy5UbhVu8plltjyRJmalcx3LRtMvk548hNO5hcpJ8lytw4u/nIdTTmQLanU4Ymei2hVA5Ut4jwXhLmYmLk5ZLQ5qL1JKTIL3LG4xfhHHcpFoaenEZiYv8J8+GJO7qtLiUZX26IMRZJE7U3UmlHWKLtiFt0lMUXhrHx90/ZGZ8/yg5u0uVIRoBSzRc9rSuxMRFysJ5pJ97zA2cCYPreVeuNxib/4simHjAk/YT0snCGjYQnfELcjxJo0OuexFlpMzIdmfDBcy/+ii0WWZtKBjZArB5jS2wXkV+AzFM/JSSdfwUyUU/SU6m3qYIh50JmdrlupQDV9+M9FAgbg/5EHU/SYiu/mbmbCo+3hepl56QL8/fKX4huD1lyYekY1Mp+iBDDHFndvvm5RAYi3Gv2V9uZ34/y0IbnpTH5I0cGfDhcR3cC9Jb4Iq9Vyj8iy0xtuE6n1HSS0HcD8foCwff9nyvAqN7RaIur0lUHiDnqrU215pvgMyUEZKykFzp9QwB25xbZD39TTJ/Ewsmmj+WttRJTxVXwA7YuOge4w6Bc/DaDn/YyByZUcYVzGXMY+VP0ziQpU6TbGC+3xF/XJerDfkaV8Fc77OiVuYlrjKGMXczJzFrmNsNN2yWorhpfi3m4r4sWmV9/kJX28ED4zcdEu5HQlbzbHvMkynPNWxFTCrOIv1LsjCZQtLQuN56PpnypGEqFGmxhPzfXYgrY35PXe8OqBJXHcaIRw017D4K5wY0rBDujam4T1OBHFtebh/FRAt3GPrNRovdqfQFH8fIpAj37OG2TORKPjlAwxDMN5DCu02trziB4nT3Eya0w2SCRcW+wekZ2neKeIBG18y5VTxWt8nyppGCBdz/hcK9Ku+A1Bkn3FlIXK8CA/dTcXfe/sBVBxwXy6S7xloSV9duKLJxKyMwaJwy98G1O9fLB70KnBLnh9+35hTqfssI7uPFjseD5By6wpfgkI8yEai/NAKjxiWp+UHRImVSYOA1cT/6xeyMn58jJ7LjoHTdc8TN9y1ydpYyg+T3iGcM9xyMkS/NPyIw7LaYCHyzOKG8oYh14fwi1mrn5invROazzAeZR8nv+jOHMPu5PjeKOZd5fghr32ysjcGad4Hf5y6moVXMdT4frJnZM0d5dcw98rkG+d158rsNIjZ+t1Y+Mz8igT8SsbhwOvX1+9zFnDh4T5Y/fg6Oj5FZXzYgcfjx5ISRrnGNM0jQ+S+Xfxt3AV3KvD6irjEVYbe8R2zuOxuel3VwLmA35XnydxcuIjfmUTKBnaN3IppUTSx25RDkzBC27qb69CY9JNP7ygQKHMUzw7bTgiwLgx4KW8z8gk+RMatGQMFFCRO4KgJxYdtAIVQmTv0tkHHRj8jDZS2Lvdwbyd8xjmOp9JOdwpazyECUa5AxOBM46/pYgC8N3G6vyHpzn6yHEeuEdMfYuKgl54o8BBL0p/AjOmpl0hfWm2skhNlkCls8EJKqLfQ58UpjKHmPIOlTom/uQZnXLDZVoOmD2dha/BTp33Z2dAmKC5tdaFJcDYFJxtVzInInJhXrxWbNpgvWSq2AszHYVHjUalcQiF4dS67zREkQGIDH6zrmDfJ3i+72+ZJMqNTsE0ZylEfICchusZp2GcYQT/awdkVhZb9BNj1EdNxC4UZixHGWPEdssSmMCsNMb4TgtR+SE534ZBmKizafRk6AQ2iXhkWRvwqTiSmyJFhbBsLiXNVF0uZtYVceZYIyBLEhNusa8h8Ok4SUTBulbWjjc1E9RNQZ6OAnxQlC+KZx7HKVx//3dgTP6jXNVIu0Zbi07XCUBjbpizYFBAekz9lm81itoeiyySOytCGH+L8l51zzyjgZM44Cp4EN9qvI2cRAcAE2HnC4+ctaTgEPqCXn9P4F8maix1kg4r4TRyPGWWCLEhiDLZTxfwEGAIg2ItsKhKpcAAAAAElFTkSuQmCC",z3="v2.0",H3="https://github.com/jekrch/chord-buildr",q3=()=>{const[t,e]=_.useState({about:!1,config:!1,version:!1}),n=s=>{e(o=>({...o,[s]:!0}))},r=s=>{e(o=>({...o,[s]:!1}))};return w.jsxs("nav",{className:"fixed bottom-0 w-full z-50 px-4 py-2 flex items-center footNav",children:[w.jsxs("div",{className:"flex items-center space-x-6 flex-1 align-middle",children:[w.jsx("a",{href:H3,className:"flex items-center no-underline",target:"_blank",rel:"noopener noreferrer",children:w.jsx("img",{className:"h-5 w-auto hover:opacity-40",src:U3,alt:"GitHub Repository"})}),w.jsx("button",{className:"text-gray-300 hover:opacity-40 cursor-pointer footNavVersion transition-colors",onClick:()=>n("version"),tabIndex:0,children:z3}),w.jsx("button",{className:"text-gray-300 hover:opacity-40 cursor-pointer footNavAbout transition-colors",onClick:()=>n("about"),tabIndex:0,children:"about"}),w.jsx("button",{className:"cursor-pointer text-gray-400  hover:opacity-40 transition-colors",onClick:()=>n("config"),tabIndex:0,children:w.jsx(Na,{icon:r3,className:"h-5 w-5 transition-transform duration-900 hover:rotate-[30deg] align-middle mb-[0.1em]"})})]}),w.jsx("h1",{className:"text-xl font-semibold titleText mb-[0.3em]",children:"chord buildr"}),w.jsx(_3,{open:t.about,onOpenChange:s=>!s&&r("about")}),w.jsx(P3,{open:t.version,onOpenChange:s=>!s&&r("version")}),w.jsx(B3,{open:t.config,onOpenChange:s=>!s&&r("config")})]})},G3={theme:"system",setTheme:()=>null},Y3=_.createContext(G3);function X3({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[s,o]=_.useState(()=>localStorage.getItem(n)||e);_.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(c);return}a.classList.add(s)},[s]);const i={theme:s,setTheme:a=>{localStorage.setItem(n,a),o(a)}};return w.jsx(Y3.Provider,{...r,value:i,children:t})}const K3=()=>w.jsx(X3,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:w.jsx("div",{className:"App",children:w.jsxs(bE,{children:[w.jsx(hI,{}),w.jsx("div",{className:"mainContainer",children:w.jsx(T_,{children:w.jsx(S_,{children:w.jsx(w_,{exact:!0,path:["/","/chord-buildr/"],component:s3})})})}),w.jsx(q3,{})]})})}),Z3=document.getElementById("root"),Q3=nf(Z3);Q3.render(w.jsx(K3,{}));
