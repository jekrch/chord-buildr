import{r as Q,a as gf,g as pc,R as D,c as yr,b as Si,d as vy}from"./vendor-COduhCvX.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var vf={exports:{}},Jo={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy=Q,_y=Symbol.for("react.element"),by=Symbol.for("react.fragment"),wy=Object.prototype.hasOwnProperty,Ty=yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Py={key:!0,ref:!0,__self:!0,__source:!0};function yf(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wy.call(e,r)&&!Py.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_y,type:t,key:s,ref:o,props:i,_owner:Ty.current}}Jo.Fragment=by;Jo.jsx=yf;Jo.jsxs=yf;vf.exports=Jo;var O=vf.exports,_f,xh=gf;_f=xh.createRoot,xh.hydrateRoot;function Rl(t,e){return Rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Rl(t,e)}function nn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Rl(t,e)}var bf={exports:{}},Cy="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xy=Cy,Ey=xy;function wf(){}function Tf(){}Tf.resetWarningCache=wf;var My=function(){function t(r,i,s,o,a,l){if(l!==Ey){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Tf,resetWarningCache:wf};return n.PropTypes=n,n};bf.exports=My();var Ji=bf.exports;const ee=pc(Ji);function he(){return he=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},he.apply(null,arguments)}function Bs(t){return t.charAt(0)==="/"}function fl(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function Sy(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&Bs(t),s=e&&Bs(e),o=i||s;if(t&&Bs(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var l=r[r.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var u=0,h=r.length;h>=0;h--){var d=r[h];d==="."?fl(r,h):d===".."?(fl(r,h),u++):u&&(fl(r,h),u--)}if(!o)for(;u--;u)r.unshift("..");o&&r[0]!==""&&(!r[0]||!Bs(r[0]))&&r.unshift("");var f=r.join("/");return a&&f.substr(-1)!=="/"&&(f+="/"),f}var Ay="Invariant failed";function kr(t,e){throw new Error(Ay)}function ki(t){return t.charAt(0)==="/"?t:"/"+t}function Eh(t){return t.charAt(0)==="/"?t.substr(1):t}function Ny(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function Pf(t,e){return Ny(t,e)?t.substr(e.length):t}function Cf(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function ky(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function Rt(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function $t(t,e,n,r){var i;typeof t=="string"?(i=ky(t),i.state=e):(i=he({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=Sy(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function mc(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,l,u){if(t!=null){var h=typeof t=="function"?t(o,a):t;typeof h=="string"?typeof l=="function"?l(h,u):u(!0):u(h!==!1)}else u(!0)}var r=[];function i(o){var a=!0;function l(){a&&o.apply(void 0,arguments)}return r.push(l),function(){a=!1,r=r.filter(function(u){return u!==l})}}function s(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r.forEach(function(u){return u.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}var xf=!!(typeof window<"u"&&window.document&&window.document.createElement);function Ef(t,e){e(window.confirm(t))}function Oy(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Iy(){return window.navigator.userAgent.indexOf("Trident")===-1}function Dy(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Ry(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Mh="popstate",Sh="hashchange";function Ah(){try{return window.history.state||{}}catch{return{}}}function jy(t){t===void 0&&(t={}),xf||kr();var e=window.history,n=Oy(),r=!Iy(),i=t,s=i.forceRefresh,o=s===void 0?!1:s,a=i.getUserConfirmation,l=a===void 0?Ef:a,u=i.keyLength,h=u===void 0?6:u,d=t.basename?Cf(ki(t.basename)):"";function f(B){var W=B||{},q=W.key,Z=W.state,ce=window.location,pe=ce.pathname,J=ce.search,fe=ce.hash,me=pe+J+fe;return d&&(me=Pf(me,d)),$t(me,Z,q)}function v(){return Math.random().toString(36).substr(2,h)}var g=mc();function _(B){he(ne,B),ne.length=e.length,g.notifyListeners(ne.location,ne.action)}function b(B){Ry(B)||N(f(B.state))}function C(){N(f(Ah()))}var k=!1;function N(B){if(k)k=!1,_();else{var W="POP";g.confirmTransitionTo(B,W,l,function(q){q?_({action:W,location:B}):P(B)})}}function P(B){var W=ne.location,q=x.indexOf(W.key);q===-1&&(q=0);var Z=x.indexOf(B.key);Z===-1&&(Z=0);var ce=q-Z;ce&&(k=!0,R(ce))}var T=f(Ah()),x=[T.key];function M(B){return d+Rt(B)}function A(B,W){var q="PUSH",Z=$t(B,W,v(),ne.location);g.confirmTransitionTo(Z,q,l,function(ce){if(ce){var pe=M(Z),J=Z.key,fe=Z.state;if(n)if(e.pushState({key:J,state:fe},null,pe),o)window.location.href=pe;else{var me=x.indexOf(ne.location.key),re=x.slice(0,me+1);re.push(Z.key),x=re,_({action:q,location:Z})}else window.location.href=pe}})}function I(B,W){var q="REPLACE",Z=$t(B,W,v(),ne.location);g.confirmTransitionTo(Z,q,l,function(ce){if(ce){var pe=M(Z),J=Z.key,fe=Z.state;if(n)if(e.replaceState({key:J,state:fe},null,pe),o)window.location.replace(pe);else{var me=x.indexOf(ne.location.key);me!==-1&&(x[me]=Z.key),_({action:q,location:Z})}else window.location.replace(pe)}})}function R(B){e.go(B)}function F(){R(-1)}function j(){R(1)}var U=0;function $(B){U+=B,U===1&&B===1?(window.addEventListener(Mh,b),r&&window.addEventListener(Sh,C)):U===0&&(window.removeEventListener(Mh,b),r&&window.removeEventListener(Sh,C))}var Y=!1;function z(B){B===void 0&&(B=!1);var W=g.setPrompt(B);return Y||($(1),Y=!0),function(){return Y&&(Y=!1,$(-1)),W()}}function G(B){var W=g.appendListener(B);return $(1),function(){$(-1),W()}}var ne={length:e.length,action:"POP",location:T,createHref:M,push:A,replace:I,go:R,goBack:F,goForward:j,block:z,listen:G};return ne}var Nh="hashchange",Fy={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+Eh(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:Eh,decodePath:ki},slash:{encodePath:ki,decodePath:ki}};function Mf(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Mi(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Ly(t){window.location.hash=t}function pl(t){window.location.replace(Mf(window.location.href)+"#"+t)}function Vy(t){t===void 0&&(t={}),xf||kr();var e=window.history;Dy();var n=t,r=n.getUserConfirmation,i=r===void 0?Ef:r,s=n.hashType,o=s===void 0?"slash":s,a=t.basename?Cf(ki(t.basename)):"",l=Fy[o],u=l.encodePath,h=l.decodePath;function d(){var W=h(Mi());return a&&(W=Pf(W,a)),$t(W)}var f=mc();function v(W){he(B,W),B.length=e.length,f.notifyListeners(B.location,B.action)}var g=!1,_=null;function b(W,q){return W.pathname===q.pathname&&W.search===q.search&&W.hash===q.hash}function C(){var W=Mi(),q=u(W);if(W!==q)pl(q);else{var Z=d(),ce=B.location;if(!g&&b(ce,Z)||_===Rt(Z))return;_=null,k(Z)}}function k(W){if(g)g=!1,v();else{var q="POP";f.confirmTransitionTo(W,q,i,function(Z){Z?v({action:q,location:W}):N(W)})}}function N(W){var q=B.location,Z=M.lastIndexOf(Rt(q));Z===-1&&(Z=0);var ce=M.lastIndexOf(Rt(W));ce===-1&&(ce=0);var pe=Z-ce;pe&&(g=!0,F(pe))}var P=Mi(),T=u(P);P!==T&&pl(T);var x=d(),M=[Rt(x)];function A(W){var q=document.querySelector("base"),Z="";return q&&q.getAttribute("href")&&(Z=Mf(window.location.href)),Z+"#"+u(a+Rt(W))}function I(W,q){var Z="PUSH",ce=$t(W,void 0,void 0,B.location);f.confirmTransitionTo(ce,Z,i,function(pe){if(pe){var J=Rt(ce),fe=u(a+J),me=Mi()!==fe;if(me){_=J,Ly(fe);var re=M.lastIndexOf(Rt(B.location)),De=M.slice(0,re+1);De.push(J),M=De,v({action:Z,location:ce})}else v()}})}function R(W,q){var Z="REPLACE",ce=$t(W,void 0,void 0,B.location);f.confirmTransitionTo(ce,Z,i,function(pe){if(pe){var J=Rt(ce),fe=u(a+J),me=Mi()!==fe;me&&(_=J,pl(fe));var re=M.indexOf(Rt(B.location));re!==-1&&(M[re]=J),v({action:Z,location:ce})}})}function F(W){e.go(W)}function j(){F(-1)}function U(){F(1)}var $=0;function Y(W){$+=W,$===1&&W===1?window.addEventListener(Nh,C):$===0&&window.removeEventListener(Nh,C)}var z=!1;function G(W){W===void 0&&(W=!1);var q=f.setPrompt(W);return z||(Y(1),z=!0),function(){return z&&(z=!1,Y(-1)),q()}}function ne(W){var q=f.appendListener(W);return Y(1),function(){Y(-1),q()}}var B={length:e.length,action:"POP",location:x,createHref:A,push:I,replace:R,go:F,goBack:j,goForward:U,block:G,listen:ne};return B}function kh(t,e,n){return Math.min(Math.max(t,e),n)}function By(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,l=a===void 0?6:a,u=mc();function h(A){he(M,A),M.length=M.entries.length,u.notifyListeners(M.location,M.action)}function d(){return Math.random().toString(36).substr(2,l)}var f=kh(o,0,i.length-1),v=i.map(function(A){return typeof A=="string"?$t(A,void 0,d()):$t(A,void 0,A.key||d())}),g=Rt;function _(A,I){var R="PUSH",F=$t(A,I,d(),M.location);u.confirmTransitionTo(F,R,n,function(j){if(j){var U=M.index,$=U+1,Y=M.entries.slice(0);Y.length>$?Y.splice($,Y.length-$,F):Y.push(F),h({action:R,location:F,index:$,entries:Y})}})}function b(A,I){var R="REPLACE",F=$t(A,I,d(),M.location);u.confirmTransitionTo(F,R,n,function(j){j&&(M.entries[M.index]=F,h({action:R,location:F}))})}function C(A){var I=kh(M.index+A,0,M.entries.length-1),R="POP",F=M.entries[I];u.confirmTransitionTo(F,R,n,function(j){j?h({action:R,location:F,index:I}):h()})}function k(){C(-1)}function N(){C(1)}function P(A){var I=M.index+A;return I>=0&&I<M.entries.length}function T(A){return A===void 0&&(A=!1),u.setPrompt(A)}function x(A){return u.appendListener(A)}var M={length:v.length,action:"POP",location:v[f],index:f,entries:v,createHref:g,push:_,replace:b,go:C,goBack:k,goForward:N,canGo:P,block:T,listen:x};return M}var hi={exports:{}},Wy=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},ao=Wy;hi.exports=Nf;hi.exports.parse=gc;hi.exports.compile=qy;hi.exports.tokensToFunction=Sf;hi.exports.tokensToRegExp=Af;var $y=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function gc(t,e){for(var n=[],r=0,i=0,s="",o=e&&e.delimiter||"/",a;(a=$y.exec(t))!=null;){var l=a[0],u=a[1],h=a.index;if(s+=t.slice(i,h),i=h+l.length,u){s+=u[1];continue}var d=t[i],f=a[2],v=a[3],g=a[4],_=a[5],b=a[6],C=a[7];s&&(n.push(s),s="");var k=f!=null&&d!=null&&d!==f,N=b==="+"||b==="*",P=b==="?"||b==="*",T=f||o,x=g||_,M=f||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:v||r++,prefix:f||"",delimiter:T,optional:P,repeat:N,partial:k,asterisk:!!C,pattern:x?Gy(x):C?".*":Uy(T,M)})}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function Uy(t,e){return!e||e.indexOf(t)>-1?"[^"+_r(t)+"]+?":_r(e)+"|(?:(?!"+_r(e)+")[^"+_r(t)+"])+?"}function qy(t,e){return Sf(gc(t,e),e)}function Hy(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function zy(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Sf(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",yc(e)));return function(i,s){for(var o="",a=i||{},l=s||{},u=l.pretty?Hy:encodeURIComponent,h=0;h<t.length;h++){var d=t[h];if(typeof d=="string"){o+=d;continue}var f=a[d.name],v;if(f==null)if(d.optional){d.partial&&(o+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(ao(f)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(f.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var g=0;g<f.length;g++){if(v=u(f[g]),!n[h].test(v))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(v)+"`");o+=(g===0?d.prefix:d.delimiter)+v}continue}if(v=d.asterisk?zy(f):u(f),!n[h].test(v))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+v+'"');o+=d.prefix+v}return o}}function _r(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Gy(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function vc(t,e){return t.keys=e,t}function yc(t){return t&&t.sensitive?"":"i"}function Yy(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return vc(t,e)}function Xy(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(Nf(t[i],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",yc(n));return vc(s,e)}function Qy(t,e,n){return Af(gc(t,n),e,n)}function Af(t,e,n){ao(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=_r(a);else{var l=_r(a.prefix),u="(?:"+a.pattern+")";e.push(a),a.repeat&&(u+="(?:"+l+u+")*"),a.optional?a.partial?u=l+"("+u+")?":u="(?:"+l+"("+u+"))?":u=l+"("+u+")",s+=u}}var h=_r(n.delimiter||"/"),d=s.slice(-h.length)===h;return r||(s=(d?s.slice(0,-h.length):s)+"(?:"+h+"(?=$))?"),i?s+="$":s+=r&&d?"":"(?="+h+"|$)",vc(new RegExp("^"+s,yc(n)),e)}function Nf(t,e,n){return ao(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Yy(t,e):ao(t)?Xy(t,e,n):Qy(t,e,n)}var Zy=hi.exports;const Ky=pc(Zy);var Be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=typeof Symbol=="function"&&Symbol.for,_c=yt?Symbol.for("react.element"):60103,bc=yt?Symbol.for("react.portal"):60106,ea=yt?Symbol.for("react.fragment"):60107,ta=yt?Symbol.for("react.strict_mode"):60108,na=yt?Symbol.for("react.profiler"):60114,ra=yt?Symbol.for("react.provider"):60109,ia=yt?Symbol.for("react.context"):60110,wc=yt?Symbol.for("react.async_mode"):60111,sa=yt?Symbol.for("react.concurrent_mode"):60111,oa=yt?Symbol.for("react.forward_ref"):60112,aa=yt?Symbol.for("react.suspense"):60113,Jy=yt?Symbol.for("react.suspense_list"):60120,la=yt?Symbol.for("react.memo"):60115,ca=yt?Symbol.for("react.lazy"):60116,e_=yt?Symbol.for("react.block"):60121,t_=yt?Symbol.for("react.fundamental"):60117,n_=yt?Symbol.for("react.responder"):60118,r_=yt?Symbol.for("react.scope"):60119;function zt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _c:switch(t=t.type,t){case wc:case sa:case ea:case na:case ta:case aa:return t;default:switch(t=t&&t.$$typeof,t){case ia:case oa:case ca:case la:case ra:return t;default:return e}}case bc:return e}}}function kf(t){return zt(t)===sa}Be.AsyncMode=wc;Be.ConcurrentMode=sa;Be.ContextConsumer=ia;Be.ContextProvider=ra;Be.Element=_c;Be.ForwardRef=oa;Be.Fragment=ea;Be.Lazy=ca;Be.Memo=la;Be.Portal=bc;Be.Profiler=na;Be.StrictMode=ta;Be.Suspense=aa;Be.isAsyncMode=function(t){return kf(t)||zt(t)===wc};Be.isConcurrentMode=kf;Be.isContextConsumer=function(t){return zt(t)===ia};Be.isContextProvider=function(t){return zt(t)===ra};Be.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_c};Be.isForwardRef=function(t){return zt(t)===oa};Be.isFragment=function(t){return zt(t)===ea};Be.isLazy=function(t){return zt(t)===ca};Be.isMemo=function(t){return zt(t)===la};Be.isPortal=function(t){return zt(t)===bc};Be.isProfiler=function(t){return zt(t)===na};Be.isStrictMode=function(t){return zt(t)===ta};Be.isSuspense=function(t){return zt(t)===aa};Be.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ea||t===sa||t===na||t===ta||t===aa||t===Jy||typeof t=="object"&&t!==null&&(t.$$typeof===ca||t.$$typeof===la||t.$$typeof===ra||t.$$typeof===ia||t.$$typeof===oa||t.$$typeof===t_||t.$$typeof===n_||t.$$typeof===r_||t.$$typeof===e_)};Be.typeOf=zt;function Se(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var Of={exports:{}},Ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _t=typeof Symbol=="function"&&Symbol.for,Tc=_t?Symbol.for("react.element"):60103,Pc=_t?Symbol.for("react.portal"):60106,ua=_t?Symbol.for("react.fragment"):60107,ha=_t?Symbol.for("react.strict_mode"):60108,da=_t?Symbol.for("react.profiler"):60114,fa=_t?Symbol.for("react.provider"):60109,pa=_t?Symbol.for("react.context"):60110,Cc=_t?Symbol.for("react.async_mode"):60111,ma=_t?Symbol.for("react.concurrent_mode"):60111,ga=_t?Symbol.for("react.forward_ref"):60112,va=_t?Symbol.for("react.suspense"):60113,i_=_t?Symbol.for("react.suspense_list"):60120,ya=_t?Symbol.for("react.memo"):60115,_a=_t?Symbol.for("react.lazy"):60116,s_=_t?Symbol.for("react.block"):60121,o_=_t?Symbol.for("react.fundamental"):60117,a_=_t?Symbol.for("react.responder"):60118,l_=_t?Symbol.for("react.scope"):60119;function Gt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Tc:switch(t=t.type,t){case Cc:case ma:case ua:case da:case ha:case va:return t;default:switch(t=t&&t.$$typeof,t){case pa:case ga:case _a:case ya:case fa:return t;default:return e}}case Pc:return e}}}function If(t){return Gt(t)===ma}Ie.AsyncMode=Cc;Ie.ConcurrentMode=ma;Ie.ContextConsumer=pa;Ie.ContextProvider=fa;Ie.Element=Tc;Ie.ForwardRef=ga;Ie.Fragment=ua;Ie.Lazy=_a;Ie.Memo=ya;Ie.Portal=Pc;Ie.Profiler=da;Ie.StrictMode=ha;Ie.Suspense=va;Ie.isAsyncMode=function(t){return If(t)||Gt(t)===Cc};Ie.isConcurrentMode=If;Ie.isContextConsumer=function(t){return Gt(t)===pa};Ie.isContextProvider=function(t){return Gt(t)===fa};Ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tc};Ie.isForwardRef=function(t){return Gt(t)===ga};Ie.isFragment=function(t){return Gt(t)===ua};Ie.isLazy=function(t){return Gt(t)===_a};Ie.isMemo=function(t){return Gt(t)===ya};Ie.isPortal=function(t){return Gt(t)===Pc};Ie.isProfiler=function(t){return Gt(t)===da};Ie.isStrictMode=function(t){return Gt(t)===ha};Ie.isSuspense=function(t){return Gt(t)===va};Ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ua||t===ma||t===da||t===ha||t===va||t===i_||typeof t=="object"&&t!==null&&(t.$$typeof===_a||t.$$typeof===ya||t.$$typeof===fa||t.$$typeof===pa||t.$$typeof===ga||t.$$typeof===o_||t.$$typeof===a_||t.$$typeof===l_||t.$$typeof===s_)};Ie.typeOf=Gt;Of.exports=Ie;var c_=Of.exports,Df=c_,u_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},h_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Rf={};Rf[Df.ForwardRef]=u_;Rf[Df.Memo]=h_;var ml=1073741823,Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function d_(){var t="__global_unique_id__";return Oh[t]=(Oh[t]||0)+1}function f_(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function p_(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(s){return s(t,i)})}}}function m_(t){return Array.isArray(t)?t[0]:t}function g_(t,e){var n,r,i="__create-react-context-"+d_()+"__",s=function(a){nn(l,a);function l(){for(var h,d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return h=a.call.apply(a,[this].concat(f))||this,h.emitter=p_(h.props.value),h}var u=l.prototype;return u.getChildContext=function(){var d;return d={},d[i]=this.emitter,d},u.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var f=this.props.value,v=d.value,g;f_(f,v)?g=0:(g=typeof e=="function"?e(f,v):ml,g|=0,g!==0&&this.emitter.set(d.value,g))}},u.render=function(){return this.props.children},l}(D.Component);s.childContextTypes=(n={},n[i]=ee.object.isRequired,n);var o=function(a){nn(l,a);function l(){for(var h,d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return h=a.call.apply(a,[this].concat(f))||this,h.observedBits=void 0,h.state={value:h.getValue()},h.onUpdate=function(g,_){var b=h.observedBits|0;b&_&&h.setState({value:h.getValue()})},h}var u=l.prototype;return u.componentWillReceiveProps=function(d){var f=d.observedBits;this.observedBits=f??ml},u.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d??ml},u.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},u.getValue=function(){return this.context[i]?this.context[i].get():t},u.render=function(){return m_(this.props.children)(this.state.value)},l}(D.Component);return o.contextTypes=(r={},r[i]=ee.object,r),{Provider:s,Consumer:o}}var v_=D.createContext||g_,jf=function(e){var n=v_();return n.displayName=e,n},Ff=jf("Router-History"),Jr=jf("Router"),ba=function(t){nn(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(s){i._pendingLocation=s})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){i._isMounted&&i.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return D.createElement(Jr.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},D.createElement(Ff.Provider,{children:this.props.children||null,value:this.props.history}))},e}(D.Component);D.Component;D.Component;var Ih={},y_=1e4,Dh=0;function __(t,e){var n=""+e.end+e.strict+e.sensitive,r=Ih[n]||(Ih[n]={});if(r[t])return r[t];var i=[],s=Ky(t,i,e),o={regexp:s,keys:i};return Dh<y_&&(r[t]=o,Dh++),o}function xc(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,s=i===void 0?!1:i,o=n.strict,a=o===void 0?!1:o,l=n.sensitive,u=l===void 0?!1:l,h=[].concat(r);return h.reduce(function(d,f){if(!f&&f!=="")return null;if(d)return d;var v=__(f,{end:s,strict:a,sensitive:u}),g=v.regexp,_=v.keys,b=g.exec(t);if(!b)return null;var C=b[0],k=b.slice(1),N=t===C;return s&&!N?null:{path:f,url:f==="/"&&C===""?"/":C,isExact:N,params:_.reduce(function(P,T,x){return P[T.name]=k[x],P},{})}},null)}function b_(t){return D.Children.count(t)===0}var w_=function(t){nn(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return D.createElement(Jr.Consumer,null,function(s){s||kr();var o=i.props.location||s.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?xc(o.pathname,i.props):s.match,l=he({},s,{location:o,match:a}),u=i.props,h=u.children,d=u.component,f=u.render;return Array.isArray(h)&&b_(h)&&(h=null),D.createElement(Jr.Provider,{value:l},l.match?h?typeof h=="function"?h(l):h:d?D.createElement(d,l):f?f(l):null:typeof h=="function"?h(l):null)})},e}(D.Component);function Ec(t){return t.charAt(0)==="/"?t:"/"+t}function T_(t,e){return t?he({},e,{pathname:Ec(t)+e.pathname}):e}function P_(t,e){if(!t)return e;var n=Ec(t);return e.pathname.indexOf(n)!==0?e:he({},e,{pathname:e.pathname.substr(n.length)})}function Rh(t){return typeof t=="string"?t:Rt(t)}function gl(t){return function(){kr()}}function jh(){}D.Component;var C_=function(t){nn(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return D.createElement(Jr.Consumer,null,function(s){s||kr();var o=i.props.location||s.location,a,l;return D.Children.forEach(i.props.children,function(u){if(l==null&&D.isValidElement(u)){a=u;var h=u.props.path||u.props.from;l=h?xc(o.pathname,he({},u.props,{path:h})):s.match}}),l?D.cloneElement(a,{location:o,computedMatch:l}):null})},e}(D.Component),x_=D.useContext;function E_(){return x_(Ff)}var M_=function(t){nn(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.history=jy(r.props),r}var n=e.prototype;return n.render=function(){return D.createElement(ba,{history:this.history,children:this.props.children})},e}(D.Component);D.Component;var jl=function(e,n){return typeof e=="function"?e(n):e},Fl=function(e,n){return typeof e=="string"?$t(e,null,null,n):e},Mc=function(e){return e},ei=D.forwardRef;typeof ei>"u"&&(ei=Mc);function S_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var A_=ei(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,s=Se(t,["innerRef","navigate","onClick"]),o=s.target,a=he({},s,{onClick:function(u){try{i&&i(u)}catch(h){throw u.preventDefault(),h}!u.defaultPrevented&&u.button===0&&(!o||o==="_self")&&!S_(u)&&(u.preventDefault(),r())}});return Mc!==ei?a.ref=e||n:a.ref=n,D.createElement("a",a)}),N_=ei(function(t,e){var n=t.component,r=n===void 0?A_:n,i=t.replace,s=t.to,o=t.innerRef,a=Se(t,["component","replace","to","innerRef"]);return D.createElement(Jr.Consumer,null,function(l){l||kr();var u=l.history,h=Fl(jl(s,l.location),l.location),d=h?u.createHref(h):"",f=he({},a,{href:d,navigate:function(){var g=jl(s,l.location),_=Rt(l.location)===Rt(Fl(g)),b=i||_?u.replace:u.push;b(g)}});return Mc!==ei?f.ref=e||o:f.innerRef=o,D.createElement(r,f)})}),Lf=function(e){return e},lo=D.forwardRef;typeof lo>"u"&&(lo=Lf);function k_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r}).join(" ")}lo(function(t,e){var n=t["aria-current"],r=n===void 0?"page":n,i=t.activeClassName,s=i===void 0?"active":i,o=t.activeStyle,a=t.className,l=t.exact,u=t.isActive,h=t.location,d=t.sensitive,f=t.strict,v=t.style,g=t.to,_=t.innerRef,b=Se(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return D.createElement(Jr.Consumer,null,function(C){C||kr();var k=h||C.location,N=Fl(jl(g,k),k),P=N.pathname,T=P&&P.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=T?xc(k.pathname,{path:T,exact:l,sensitive:d,strict:f}):null,M=!!(u?u(x,k):x),A=typeof a=="function"?a(M):a,I=typeof v=="function"?v(M):v;M&&(A=k_(A,s),I=he({},I,o));var R=he({"aria-current":M&&r||null,className:A,style:I,to:N},b);return Lf!==lo?R.ref=e||_:R.innerRef=_,D.createElement(N_,R)})});const wa={1:"C",2:"C#",3:"D",4:"D#",5:"E",6:"F",7:"F#",8:"G",9:"G#",10:"A",11:"A#",12:"B"},O_=t=>Object.keys(Ta).includes(t),Li={1:"C",2:"Db",3:"D",4:"Eb",5:"E",6:"F",7:"Gb",8:"G",9:"Ab",10:"A",11:"Bb",12:"B"},Ta={C:1,"C#":2,Db:2,D:3,"D#":4,Eb:4,E:5,"E#":6,F:6,"F#":7,Gb:7,G:8,"G#":9,Ab:9,A:10,"A#":11,Bb:11,B:12,"B#":1,Cb:12,"C##":3,Dbb:1,"D##":5,Ebb:3,"E##":7,Fb:5,"F##":8,Gbb:6,"G##":10,Abb:8,"A##":12,Bbb:10};function I_(t){let e=Ta[t];return wa[e]}function D_(t){let e=Ta[t];return Li[e]}function R_(t){switch(t=Sc(t),t){case"C":case"C#":case"D":case"E":case"F#":case"G":case"A":case"B":return wa;case"G#":case"Ab":case"A#":case"Bb":case"Cb":case"Db":case"D#":case"Eb":case"F":case"Gb":return Li;default:return Li}}function Sc(t){var e,n;return t.charAt(0).toUpperCase()+((e=t.charAt(1))==null?void 0:e.toLowerCase())+((n=t.charAt(2))==null?void 0:n.toLowerCase())}function xr(t){if(t)return t=Sc(t),Ta[t]}function Ac(t,e){var n=j_(e),r=R_(t),i=r[n];return Sc(i)}function j_(t){for(;t>12;)t=t-12;for(;t<1;)t=t+12;return t}function Vf(t,e){for(;t>12;)t=t-12,e<2&&e++;for(;t<1;)t=t+12,e!==0&&e--;return{noteNumber:t,octave:e}}function Nc(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function kc(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var Bf=[0,2,4,-1,1,3,5],Wf=Bf.map(t=>Math.floor(t*7/12));function $f(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=Bf[e]+7*n;if(r===void 0)return[i*s];const o=r-Wf[e]-4*n;return[i*s,i*o]}var F_=[3,0,4,1,5,2,6];function L_(t){const[e,n,r]=t,i=F_[V_(e)],s=Math.floor((e+1)/7);if(n===void 0)return{step:i,alt:s,dir:r};const o=n+4*s+Wf[i];return{step:i,alt:s,oct:o,dir:r}}function V_(t){const e=(t+1)%7;return e<0?7+e:e}var Fh=(t,e)=>Array(Math.abs(e)+1).join(t),Uf=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),Lh=new Map,B_=t=>"CDEFGAB".charAt(t),qf=t=>t<0?Fh("b",-t):Fh("#",t),Hf=t=>t[0]==="b"?-t.length:t.length;function ti(t){const e=JSON.stringify(t),n=Lh.get(e);if(n)return n;const r=typeof t=="string"?U_(t):kc(t)?ti(q_(t)):Nc(t)?ti(t.name):Uf;return Lh.set(e,r),r}var W_=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Oc(t){const e=W_.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}var $_=(t,e)=>(t%e+e)%e,vl=[0,2,4,5,7,9,11];function U_(t){const e=Oc(t);if(e[0]===""||e[3]!=="")return Uf;const n=e[0],r=e[1],i=e[2],s=(n.charCodeAt(0)+3)%7,o=Hf(r),a=i.length?+i:void 0,l=$f({step:s,alt:o,oct:a}),u=n+r+i,h=n+r,d=(vl[s]+o+120)%12,f=a===void 0?$_(vl[s]+o,12)-12*99:vl[s]+o+12*(a+1),v=f>=0&&f<=127?f:null,g=a===void 0?null:Math.pow(2,(f-69)/12)*440;return{empty:!1,acc:r,alt:o,chroma:d,coord:l,freq:g,height:f,letter:n,midi:v,name:u,oct:a,pc:h,step:s}}function q_(t){const{step:e,alt:n,oct:r}=t,i=B_(e);if(!i)return"";const s=i+qf(n);return r||r===0?s+r:s}var Vh=(t,e)=>Array(Math.abs(e)+1).join(t),Ll=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),H_="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",z_="(AA|A|P|M|m|d|dd)([-+]?\\d+)",G_=new RegExp("^"+H_+"|"+z_+"$");function Y_(t){const e=G_.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var Bh={};function ni(t){return typeof t=="string"?Bh[t]||(Bh[t]=X_(t)):kc(t)?ni(K_(t)):Nc(t)?ni(t.name):Ll}var Wh=[0,2,4,5,7,9,11],zf="PMMPPMM";function X_(t){const e=Y_(t);if(e[0]==="")return Ll;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=zf[i];if(s==="M"&&r==="P")return Ll;const o=s==="M"?"majorable":"perfectable",a=""+n+r,l=n<0?-1:1,u=n===8||n===-8?n:l*(i+1),h=Z_(o,r),d=Math.floor((Math.abs(n)-1)/7),f=l*(Wh[i]+h+12*d),v=(l*(Wh[i]+h)%12+12)%12,g=$f({step:i,alt:h,oct:d,dir:l});return{empty:!1,name:a,num:n,q:r,step:i,alt:h,dir:l,type:o,simple:u,semitones:f,chroma:v,coord:g,oct:d}}function Q_(t,e){const[n,r=0]=t,i=n*7+r*12<0,s=e||i?[-n,-r,-1]:[n,r,1];return ni(L_(s))}function Z_(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function K_(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,o=s===0?e+1:s,a=i<0?"-":"",l=zf[e]==="M"?"majorable":"perfectable";return a+o+J_(l,n)}function J_(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?Vh("A",e):Vh("d",t==="perfectable"?e:e+1)}function eb(t,e){const n=ti(t),r=ti(e);if(n.empty||r.empty)return"";const i=n.coord,s=r.coord,o=s[0]-i[0],a=i.length===2&&s.length===2?s[1]-i[1]:-Math.floor(o*7/12),l=r.height===n.height&&r.midi!==null&&n.oct===r.oct&&n.step>r.step;return Q_([o,a],l).name}var tb=ti,$h=t=>tb(t).chroma,Uh="C C# Db D D# Eb E F F# Gb G G# Ab A A# Bb B".split(" "),Gf=function(t){return typeof t!="string"?Uh.slice():Uh.filter(function(e){var n=e[1]||" ";return t.indexOf(n)!==-1})};Gf(" #");Gf(" b");var nb=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function rb(t){typeof t!="string"&&(t="");var e=nb.exec(t);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}var ib=Object.freeze({pc:null,name:null,step:null,alt:null,oct:null,octStr:null,chroma:null,midi:null,freq:null}),qh=[0,2,4,5,7,9,11],sb=function(t){var e=rb(t);if(e[0]===""||e[3]!=="")return ib;var n=e[0],r=e[1],i=e[2],s={letter:n,acc:r,octStr:i,pc:n+r,name:n+r+i,step:(n.charCodeAt(0)+3)%7,alt:r[0]==="b"?-r.length:r.length,oct:i.length?+i:null,chroma:0,midi:null,freq:null};return s.chroma=(qh[s.step]+s.alt+120)%12,s.midi=s.oct!==null?qh[s.step]+s.alt+12*(s.oct+1):null,s.freq=ab(s.midi),Object.freeze(s)},ob=function(t,e){return e===void 0&&(e={}),function(n){return e[n]||(e[n]=t(n))}},Pa=ob(sb),Hh=function(t){return Pa(t).name},ab=function(t,e){return e===void 0&&(e=440),typeof t=="number"?Math.pow(2,(t-69)/12)*e:null},lb=function(t){return Pa(t).chroma},cb="CDEFGAB",ub=function(t){return cb[t]},zh=function(t,e){return Array(e+1).join(t)},hb=function(t,e){return typeof t!="number"?"":e(t)},db=function(t){return hb(t,function(e){return e<0?zh("b",-e):zh("#",e)})},fb=function(t,e){t===void 0&&(t={}),e===void 0&&(e=null);var n=e?Object.assign({},Pa(e),t):t,r=n.step,i=n.alt,s=n.oct;if(typeof r!="number")return null;var o=ub(r);if(!o)return null;var a=o+db(i);return s||s===0?a+s:a},pb=fb,mb="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",gb="(AA|A|P|M|m|d|dd)([-+]?\\d+)",vb=new RegExp("^"+mb+"|"+gb+"$"),Gh=[0,2,4,5,7,9,11],yb="PMMPPMM",_b=function(t){var e=vb.exec(""+t);return e===null?null:e[1]?[e[1],e[2]]:[e[4],e[3]]},Vl=Object.freeze({name:null,num:null,q:null,step:null,alt:null,dir:null,type:null,simple:null,semitones:null,chroma:null,oct:null}),bb=function(t,e){return e==="M"&&t==="M"||e==="P"&&t==="P"?0:e==="m"&&t==="M"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?t==="P"?-e.length:-e.length-1:null},wb=function(t){return(Math.abs(t)-1)%7},Tb=function(t){var e=_b(t);if(e===null)return Vl;var n={num:0,q:"d",name:"",type:"M",step:0,dir:-1,simple:1,alt:0,oct:0,semitones:0,chroma:0,ic:0};return n.num=+e[0],n.q=e[1],n.step=wb(n.num),n.type=yb[n.step],n.type==="M"&&n.q==="P"?Vl:(n.name=""+n.num+n.q,n.dir=n.num<0?-1:1,n.simple=n.num===8||n.num===-8?n.num:n.dir*(n.step+1),n.alt=bb(n.type,n.q),n.oct=Math.floor((Math.abs(n.num)-1)/7),n.semitones=n.dir*(Gh[n.step]+n.alt+12*n.oct),n.chroma=(n.dir*(Gh[n.step]+n.alt)%12+12)%12,Object.freeze(n))},Yh={};function Yf(t){return typeof t!="string"?Vl:Yh[t]||(Yh[t]=Tb(t))}var Pb=function(t){return Yf(t).chroma},Cb=function(t){return lb(t)||Pb(t)||0};function Xf(t){if(Eb(t))return t;if(!Array.isArray(t))return"";var e=[0,0,0,0,0,0,0,0,0,0,0,0];return t.map(Cb).forEach(function(n){e[n]=1}),e.join("")}var xb=/^[01]{12}$/;function Eb(t){return xb.test(t)}var Qf=[0,2,4,-1,1,3,5],Mb=function(t){return Math.floor(t*7/12)},Zf=Qf.map(Mb),Sb=function(t){var e=t.step,n=t.alt,r=t.oct,i=t.dir;i===void 0&&(i=1);var s=Qf[e]+7*n;if(r===null)return[i*s];var o=r-Zf[e]-4*n;return[i*s,i*o]},Ab=[3,0,4,1,5,2,6];function Nb(t){var e=(t+1)%7;return e<0?7+e:e}var kb=function(t,e,n){var r=Ab[Nb(t)],i=Math.floor((t+1)/7);if(e===void 0)return{step:r,alt:i,dir:n};var s=e+4*i+Zf[r];return{step:r,alt:i,oct:s,dir:n}},Ob=function(t,e){return e===void 0&&(e={}),function(n){return e[n]||(e[n]=t(n))}},Kf=function(t){return Ob(function(e){var n=t(e);return n.name===null?null:Sb(n)})},Ib=Kf(Pa),Db=Kf(Yf);function Jf(t,e){if(arguments.length===1)return function(s){return Jf(t,s)};var n=Ib(t),r=Db(e);if(n===null||r===null)return null;var i=n.length===1?[n[0]+r[0]]:[n[0]+r[0],n[1]+r[1]];return pb(kb(i[0],i[1]))}const Rb=["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],jb=["1P 2M 3M 4A 5P 6M 7M"],Fb=["1P 2M 3M 4P 5P 6M 7M",["ionian"]],Lb=["1P 2M 3M 4P 5P 6M 7m",["dominant"]],Vb=["1P 2M 3m 4P 5P 6M 7m"],Bb=["1P 2M 3m 4P 5P 6m 7m",["minor"]],Wb=["1P 2m 3m 4P 5P 6m 7m"],$b=["1P 2m 3m 4P 5d 6m 7m"],Ub=["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],qb=["1P 2M 3m 4P 5d 6m 6M 7M",["whole-half diminished"]],Hb=["1P 2m 4P 5d 7m"],zb=["1P 2M 3m 5P 6m"],Gb=["1P 2m 4P 5P 6m"],Yb=["1P 2m 3m 5P 6m"],Xb=["1P 2M 3M 4A 6M 7m"],Qb=["1P 2M 4P 5P 6M"],Zb=["1P 2m 3M 5P 6M"],Kb=["1P 2M 4P 5P 6M 7m"],Jb=["1P 2A 3M 5P 5A 7M"],e1=["1P 2m 3m 4P 5P 6m 7M"],t1=["1P 2M 4P 5P 7m"],n1=["1P 2m 3M 4P 5d 6M 7m"],r1=["1P 2m 3m 3M 4A 5P 7m"],i1=["1P 2m 3m 4P 5P 6m 7M"],s1=["1P 2m 3M 4P 5d 6m 7M"],o1=["1P 2M 3M 4P 5P 6M 7m 7M"],a1=["1P 2m 3M 5d 6m 7m 7M"],l1=["1P 2M 3M 4P 5d 5P 6M 7M"],c1={chromatic:Rb,lydian:jb,major:Fb,mixolydian:Lb,dorian:Vb,aeolian:Bb,phrygian:Wb,locrian:$b,"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m",["half-diminished"]],altered:Ub,"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"phrygian dominant":["1P 2m 3M 4P 5P 6m 7m",["spanish","phrygian major"]],"half-whole diminished":["1P 2m 3m 3M 4A 5P 6M 7m",["dominant diminished"]],diminished:qb,"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],iwato:Hb,hirajoshi:zb,kumoijoshi:Gb,pelog:Yb,"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],prometheus:Xb,"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],ritusen:Qb,scriabin:Zb,piongio:Kb,"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],augmented:Jb,"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],neopolitan:e1,"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],egyptian:t1,"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],oriental:n1,"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],flamenco:r1,balinese:i1,"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],persian:s1,bebop:o1,"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],enigmatic:a1,"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],ichikosucho:l1,"six tone symmetric":["1P 2m 3M 4P 5A 6M"]},u1=["1P 3M 5P",["Major",""]],h1=["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],d1=["1P 3M 5P 13M",["6"]],f1=["1P 3M 5P 6M 9M",["69"]],p1=["1P 3M 5P 6M 7M 9M"],m1=["1P 3M 5d 7M"],g1=["1P 3M 6m 7M"],v1=["1P 3M 5P 7M 9m"],y1=["1P 4P 5P 7M"],_1=["1P 3M 5P 7M 9M",["maj9","Maj9"]],b1=["1P 3M 5d 7M 9M"],w1=["1P 4P 5P 7M 9M"],T1=["1P 3M 5P 9M",["2","add9","add2"]],P1=["1P 3M 5P 7M",["maj7","M7"]],C1=["1P 3M 5d"],x1=["1P 3M 13m"],E1=["1P 2M 5P",["add9no3","sus2"]],M1=["1P 4P 5P",["sus","sus4"]],S1=["1P 3M 5P 9m"],A1=["1P 3m 5P"],N1=["1P 3m 5P 7m 9M 11P",["_11"]],k1=["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],O1=["1P 3m 5P 7m 9M 11P 13M",["_13"]],I1=["1P 3m 4P 5P 13M",["_6"]],D1=["1P 3m 5P 6M 9M",["_69"]],R1=["1P 3m 5P 7m",["minor7","_","_7"]],j1=["1P 3m 5P 7m 11P",["m7add4"]],F1=["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],L1=["1P 3m 5P 7m 9M",["_9"]],V1=["1P 3m 7m 12d 2M",["h9","-9b5"]],B1=["1P 3m 5P 7M",["mM7","_M7"]],W1=["1P 3m 5P 6m 7M",["mM7b6"]],$1=["1P 3m 5P 7M 9M",["mMaj9","-M9"]],U1=["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],q1=["1P 3m 6m 7M"],H1=["1P 3m 6m 9m"],z1=["1P 3m 5d",["mb5","dim"]],G1=["1P 3m 5d 13M",["diminished","m6b5","dim7"]],Y1=["1P 3m 5d 6M 7M"],X1=["1P 3m 5d 7M"],Q1=["1P 2M 4P 5P",["sus4add9"]],Z1=["1P 3m 4P 5P"],K1=["1P 3m 5P 9M"],J1={4:["1P 4P 7m 10m",["quartal"]],5:["1P 5P"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],64:["5P 8P 10M"],M:u1,"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],M13:h1,"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],M6:d1,"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],M69:f1,"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],M7add13:p1,M7b5:m1,M7b6:g1,M7b9:v1,M7sus4:y1,M9:_1,"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],M9b5:b1,M9sus4:w1,Madd9:T1,Maj7:P1,Mb5:C1,Mb6:x1,Msus2:E1,Msus4:M1,Maddb9:S1,"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],m:A1,"m#5":["1P 3m 5A",["m+","mb6"]],m11:N1,"m11A 5":["1P 3m 6m 7m 9M 11P"],m11b5:k1,m13:O1,m6:I1,m69:D1,m7:R1,"m7#5":["1P 3m 6m 7m"],m7add11:j1,m7b5:F1,m9:L1,"m9#5":["1P 3m 6m 7m 9M"],m9b5:V1,mMaj7:B1,mMaj7b6:W1,mM9:$1,mM9b6:U1,mb6M7:q1,mb6b9:H1,o:z1,o7:G1,o7M7:Y1,oM7:X1,sus24:Q1,"+add#9":["1P 3M 5A 9A"],madd4:Z1,madd9:K1};var ep=function(t){var e=Object.keys(t).sort(),n=[],r=[],i=function(a,l,u){n[a]=l,r[u]=r[u]||[],r[u].push(a)};e.forEach(function(a){var l=t[a][0].split(" "),u=t[a][1],h=Xf(l);i(a,l,h),u&&u.forEach(function(d){return i(d,l,h)})});var s=Object.keys(n).sort(),o=function(a){return n[a]};return o.names=function(a){return typeof a=="string"?(r[a]||[]).slice():(a===!0?s:e).slice()},o},Bl=ep(c1);ep(J1);var ew=Object.freeze({name:null,intervals:[],names:[],chroma:null,setnum:null}),tw=function(t){var e=Bl(t);if(!e)return ew;var n={intervals:e,name:t};return n.chroma=Xf(e),n.setnum=parseInt(n.chroma,2),n.names=Bl.names(n.chroma),Object.freeze(n)},nw=function(t,e){return function(n){return e[n]||(e[n]=t(n))}},rw=nw(tw,{});Bl.names;var iw=function(t){var e=np(t);return rw(e[1]).intervals};function tp(t,e){var n=np(t);return e=e||n[1],iw(e).map(Jf(n[0]))}function np(t){if(typeof t!="string")return["",""];var e=t.indexOf(" "),n=Hh(t.substring(0,e))||Hh(t)||"",r=n!==""?t.substring(n.length+1):t;return[n,r.length?r:""]}const Xh=[{note:"C",color:"white"},{note:"C#",color:"black"},{note:"D",color:"white"},{note:"D#",color:"black"},{note:"E",color:"white"},{note:"F",color:"white"},{note:"F#",color:"black"},{note:"G",color:"white"},{note:"G#",color:"black"},{note:"A",color:"white"},{note:"A#",color:"black"},{note:"B",color:"white"}],rp=()=>{let t=[],e=3;for(let s=0;s<e;s++){var n=[];for(let o=0;o<Xh.length;o++){var r={},i=Xh[o];r.note=i.note,r.color=i.color,r.selected=!1,r.noteNumber=o+1,r.octave=s,n.push(r)}t.push(n)}return t};function sw(t){for(let r=0;r<t.length;r++){var e=t[r];for(let i=0;i<e.length;i++){var n=e[i];n.selected=!1}}}function Oi(t){return ip(t,t.selectedChord,!0)}function ow(t){return ip(t,t.selectedChord,!1)}function ip(t,e,n){if(fw(t))return;const r=sp(e,n);aw(r,t)}function aw(t,e){sw(e.piano),t.notes.forEach(n=>{const r=Vf(n,t.octave);pw(e,r.octave,r.noteNumber)}),e.rendered=!0}function sp(t,e){const n=t.noteLetter,r=t.type,i=t.octave,s=t.slashNote,o=!i||i===null?0:i,a=xr(n),l=xr(s),u=lS(a,r);return lw(o,a,u,l,e)}function lw(t,e,n,r,i){let s={rooteNoteNumber:e,notes:[],octave:t,octaveAllowance:2-t};if(!r)s.notes=n;else{s=cw(s,n,r,i);const o=hw(s);s.octave-=o}return s}function cw(t,e,n,r){return e=dw(e,n),t.notes.push(n),e.every(s=>s>n)?e.forEach(s=>{s-12>n&&(s-=12),t.notes.push(s)}):uw(n,e,t)&&t.octave>0&&r&&(t.octave-=1,t.octaveAllowance+=1),t}function uw(t,e,n){let r=!1;return e.forEach(i=>{t>i&&(n.rooteNoteNumber===i&&(r=!0),i+=12),n.notes.push(i)}),r}function hw(t){let e=0;return t.notes.forEach(n=>{const r=Math.ceil(n/12)-1;if(r>=t.octaveAllowance){const i=r-t.octaveAllowance;i>e&&(e=i)}}),e}function dw(t,e){return t.filter(n=>(n-e)%12!==0)}function fw(t){return op(t.piano)&&t.rendered===!0}function pw(t,e,n){const r=t.piano;if(mw(r,e,n)){console.log("skipped invalid note: "+e+" : "+n);return}const i=r[e][n-1];if(!i||i.selected){console.log("SKIPPED INVALID NOTE: "+e+" : "+n);return}i.selected=!0,i.isStopping=null}function mw(t,e,n){return!t||!t[e]||!n}function op(t){for(let e=0;e<t.length;e++){const n=t[e];for(let r=0;r<n.length;r++)if(n[r].selected)return!0}return!1}function gw(t,e){var r;const n=RM(e);if(n!==void 0)return{id:t,piano:rp(),selectedKey:{noteLetter:n.noteLetter,octave:n.octave??0},showFlats:((r=n.noteLetter)==null?void 0:r.includes("b"))||n.slashNote!=null&&n.slashNote.includes("b"),isProgKey:n.isKey,selectedChord:{noteLetter:n.noteLetter,type:n.type,octave:n.octave,slash:n.slash,slashNote:n.slashNote}}}function vw(t,e,n,r){const i=mg(n,r),s=sS(n,r);if(s!==0&&(e!=null&&e.length))for(let o=0;o<(e==null?void 0:e.length);o++){const a=e[o],l=Qh(a.selectedChord,!1);let u=aS(a.selectedChord.slashNote,i);if(a.selectedChord.slashNote=bn(r,u),a.id===t)continue;let h=oS(a,i);h.noteLetter=bn(r,h.noteLetter),yw(a,h);const d=Qh(a.selectedChord,!0);_w(d,l,s,a),ow(a)}}function yw(t,e){t.selectedKey=e,t.selectedChord.noteLetter=e.noteLetter,t.selectedChord.octave=e.octave,t.rendered=!1}function _w(t,e,n,r){var o,a;const s=t-e-n;return Math.abs(s)>6&&(s>0?r.selectedKey.octave>0&&(r.selectedKey.octave--,(o=r.selectedChord)!=null&&o.octave&&r.selectedChord.octave--,r.rendered=!1):r.selectedKey.octave<2&&(r.selectedKey.octave++,(a=r.selectedChord)!=null&&a.octave&&r.selectedChord.octave++,r.rendered=!1)),r}function Qh(t,e){const n=sp(t,!e);return n.notes[0]+n.octave*12}const ap="14.9.17",Zh=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),Kh=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Wl=(t,e)=>({startTime:e,type:"setValue",value:t}),lp=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),cp=(t,e,{startTime:n,target:r,timeConstant:i})=>r+(e-r)*Math.exp((n-t)/i),Hr=t=>t.type==="exponentialRampToValue",co=t=>t.type==="linearRampToValue",Zn=t=>Hr(t)||co(t),Ic=t=>t.type==="setValue",Nn=t=>t.type==="setValueCurve",uo=(t,e,n,r)=>{const i=t[e];return i===void 0?r:Zn(i)||Ic(i)?i.value:Nn(i)?i.values[i.values.length-1]:cp(n,uo(t,e-1,i.startTime,r),i)},Jh=(t,e,n,r,i)=>n===void 0?[r.insertTime,i]:Zn(n)?[n.endTime,n.value]:Ic(n)?[n.startTime,n.value]:Nn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,uo(t,e-1,n.startTime,i)],$l=t=>t.type==="cancelAndHold",Ul=t=>t.type==="cancelScheduledValues",Gn=t=>$l(t)||Ul(t)?t.cancelTime:Hr(t)||co(t)?t.endTime:t.startTime,ed=(t,e,n,{endTime:r,value:i})=>n===i?i:0<n&&0<i||n<0&&i<0?n*(i/n)**((t-e)/(r-e)):0,td=(t,e,n,{endTime:r,value:i})=>n+(t-e)/(r-e)*(i-n),bw=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},ww=(t,{duration:e,startTime:n,values:r})=>{const i=(t-n)/e*(r.length-1);return bw(r,i)},Ws=t=>t.type==="setTarget";class Tw{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Gn(e);if($l(e)||Ul(e)){const r=this._automationEvents.findIndex(s=>Ul(e)&&Nn(s)?s.startTime+s.duration>=n:Gn(s)>=n),i=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),$l(e)){const s=this._automationEvents[this._automationEvents.length-1];if(i!==void 0&&Zn(i)){if(s!==void 0&&Ws(s))throw new Error("The internal list is malformed.");const o=s===void 0?i.insertTime:Nn(s)?s.startTime+s.duration:Gn(s),a=s===void 0?this._defaultValue:Nn(s)?s.values[s.values.length-1]:s.value,l=Hr(i)?ed(n,o,a,i):td(n,o,a,i),u=Hr(i)?Zh(l,n,this._currenTime):Kh(l,n,this._currenTime);this._automationEvents.push(u)}if(s!==void 0&&Ws(s)&&this._automationEvents.push(Wl(this.getValue(n),n)),s!==void 0&&Nn(s)&&s.startTime+s.duration>n){const o=n-s.startTime,a=(s.values.length-1)/s.duration,l=Math.max(2,1+Math.ceil(o*a)),u=o/(l-1)*a,h=s.values.slice(0,l);if(u<1)for(let d=1;d<l;d+=1){const f=u*d%1;h[d]=s.values[d-1]*(1-f)+s.values[d]*f}this._automationEvents[this._automationEvents.length-1]=lp(h,s.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>Gn(o)>n),i=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(i!==void 0&&Nn(i)&&Gn(i)+i.duration>n)return!1;const s=Hr(e)?Zh(e.value,e.endTime,this._currenTime):co(e)?Kh(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(s);else{if(Nn(e)&&n+e.duration>Gn(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,s)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Gn(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),i=r[0];Ws(i)&&r.unshift(Wl(uo(this._automationEvents,n-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>Gn(o)>e),r=this._automationEvents[n],i=(n===-1?this._automationEvents.length:n)-1,s=this._automationEvents[i];if(s!==void 0&&Ws(s)&&(r===void 0||!Zn(r)||r.insertTime>e))return cp(e,uo(this._automationEvents,i-1,s.startTime,this._defaultValue),s);if(s!==void 0&&Ic(s)&&(r===void 0||!Zn(r)))return s.value;if(s!==void 0&&Nn(s)&&(r===void 0||!Zn(r)||s.startTime+s.duration>e))return e<s.startTime+s.duration?ww(e,s):s.values[s.values.length-1];if(s!==void 0&&Zn(s)&&(r===void 0||!Zn(r)))return s.value;if(r!==void 0&&Hr(r)){const[o,a]=Jh(this._automationEvents,i,s,r,this._defaultValue);return ed(e,o,a,r)}if(r!==void 0&&co(r)){const[o,a]=Jh(this._automationEvents,i,s,r,this._defaultValue);return td(e,o,a,r)}return this._defaultValue}}const Pw=t=>({cancelTime:t,type:"cancelAndHold"}),Cw=t=>({cancelTime:t,type:"cancelScheduledValues"}),xw=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),Ew=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),Mw=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Sw=()=>new DOMException("","AbortError"),Aw=t=>(e,n,[r,i,s],o)=>{t(e[i],[n,r,s],a=>a[0]===n&&a[1]===r,o)},Nw=t=>(e,n,r)=>{const i=[];for(let s=0;s<r.numberOfInputs;s+=1)i.push(new Set);t.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},kw=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},ri=new WeakSet,up=new WeakMap,Dc=new WeakMap,hp=new WeakMap,Rc=new WeakMap,Ca=new WeakMap,dp=new WeakMap,ql=new WeakMap,Hl=new WeakMap,zl=new WeakMap,fp={construct(){return fp}},Ow=t=>{try{const e=new Proxy(t,fp);new e}catch{return!1}return!0},nd=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,rd=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),i=r.match(nd);for(;i!==null;){const s=i[1].slice(1,-1),o=i[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,e).toString());n.push(o),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(nd)}return[n.join(";"),r]},id=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},sd=t=>{if(!Ow(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Iw=(t,e,n,r,i,s,o,a,l,u,h,d,f)=>{let v=0;return(g,_,b={credentials:"omit"})=>{const C=h.get(g);if(C!==void 0&&C.has(_))return Promise.resolve();const k=u.get(g);if(k!==void 0){const T=k.get(_);if(T!==void 0)return T}const N=s(g),P=N.audioWorklet===void 0?i(_).then(([T,x])=>{const[M,A]=rd(T,x),I=`${M};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${A}
})})(window,'_AWGS')`;return n(I)}).then(()=>{const T=f._AWGS.pop();if(T===void 0)throw new SyntaxError;r(N.currentTime,N.sampleRate,()=>T(class{},void 0,(x,M)=>{if(x.trim()==="")throw e();const A=Hl.get(N);if(A!==void 0){if(A.has(x))throw e();sd(M),id(M.parameterDescriptors),A.set(x,M)}else sd(M),id(M.parameterDescriptors),Hl.set(N,new Map([[x,M]]))},N.sampleRate,void 0,void 0))}):Promise.all([i(_),Promise.resolve(t(d,d))]).then(([[T,x],M])=>{const A=v+1;v=A;const[I,R]=rd(T,x),$=`${I};((AudioWorkletProcessor,registerProcessor)=>{${R}
})(${M?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${M?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${M?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${A}',class extends AudioWorkletProcessor{process(){return !1}})`,Y=new Blob([$],{type:"application/javascript; charset=utf-8"}),z=URL.createObjectURL(Y);return N.audioWorklet.addModule(z,b).then(()=>{if(a(N))return N;const G=o(N);return G.audioWorklet.addModule(z,b).then(()=>G)}).then(G=>{if(l===null)throw new SyntaxError;try{new l(G,`__sac${A}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(z))});return k===void 0?u.set(g,new Map([[_,P]])):k.set(_,P),P.then(()=>{const T=h.get(g);T===void 0?h.set(g,new Set([_])):T.add(_)}).finally(()=>{const T=u.get(g);T!==void 0&&T.delete(_)}),P}},hn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},xa=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},pp=(t,e,n,r)=>{const i=hn(t,e),s=xa(i,o=>o[0]===n&&o[1]===r);return i.size===0&&t.delete(e),s},es=t=>hn(dp,t),ii=t=>{if(ri.has(t))throw new Error("The AudioNode is already stored.");ri.add(t),es(t).forEach(e=>e(!0))},mp=t=>"port"in t,ts=t=>{if(!ri.has(t))throw new Error("The AudioNode is not stored.");ri.delete(t),es(t).forEach(e=>e(!1))},Gl=(t,e)=>{!mp(t)&&e.every(n=>n.size===0)&&ts(t)},Dw=(t,e,n,r,i,s,o,a,l,u,h,d,f)=>{const v=new WeakMap;return(g,_,b,C,k)=>{const{activeInputs:N,passiveInputs:P}=s(_),{outputs:T}=s(g),x=a(g),M=A=>{const I=l(_),R=l(g);if(A){const F=pp(P,g,b,C);t(N,g,F,!1),!k&&!d(g)&&n(R,I,b,C),f(_)&&ii(_)}else{const F=r(N,g,b,C);e(P,C,F,!1),!k&&!d(g)&&i(R,I,b,C);const j=o(_);if(j===0)h(_)&&Gl(_,N);else{const U=v.get(_);U!==void 0&&clearTimeout(U),v.set(_,setTimeout(()=>{h(_)&&Gl(_,N)},j*1e3))}}};return u(T,[_,b,C],A=>A[0]===_&&A[1]===b&&A[2]===C,!0)?(x.add(M),h(g)?t(N,g,[b,C,M],!0):e(P,C,[g,b,M],!0),!0):!1}},Rw=t=>(e,n,[r,i,s],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[i,n,s]])):t(a,[i,n,s],l=>l[0]===i&&l[1]===n,o)},jw=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()};n.addEventListener("ended",i)},Fw=t=>(e,n)=>{t(e).add(n)},Lw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Vw=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=i(a),h={...Lw,...l},d=r(u,h),f=s(u)?e():null;super(a,!1,d,f),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Mt=(t,e)=>t.context===e,Bw=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!Mt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return r.set(o,a),await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},ho=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},xn=()=>new DOMException("","IndexSizeError"),jc=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?xn():r}})(t.getChannelData)},Ww={numberOfChannels:1},$w=(t,e,n,r,i,s,o,a)=>{let l=null;return class gp{constructor(h){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:f,sampleRate:v}={...Ww,...h};l===null&&(l=new i(1,1,44100));const g=r!==null&&e(s,s)?new r({length:d,numberOfChannels:f,sampleRate:v}):l.createBuffer(f,d,v);if(g.numberOfChannels===0)throw n();return typeof g.copyFromChannel!="function"?(o(g),jc(g)):e(ho,()=>ho(g))||a(g),t.add(g),g}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===gp.prototype||t.has(h)}}},jt=-34028234663852886e22,At=-jt,In=t=>ri.has(t),Uw={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},qw=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,h){const d=s(u),f={...Uw,...h},v=i(d,f),g=o(d),_=g?e():null;super(u,!1,v,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=f.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=n(this,g,v.playbackRate,At,jt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const h=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=h;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===h?u:d}get playbackRate(){return this._playbackRate}start(u=0,h=0,d){if(this._nativeAudioBufferSourceNode.start(u,h,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[u,h]:[u,h,d]),this.context.state!=="closed"){ii(this);const f=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",f),In(this)&&ts(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",f)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},Hw=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;const l=async(u,h)=>{let d=n(u);const f=Mt(d,h);if(!f){const v={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(h,v),o!==null&&d.start(...o),a!==null&&d.stop(a)}return s.set(h,d),f?await t(h,u.playbackRate,d.playbackRate):await r(h,u.playbackRate,d.playbackRate),await i(u,h,d),d};return{set start(u){o=u},set stop(u){a=u},render(u,h){const d=s.get(h);return d!==void 0?Promise.resolve(d):l(u,h)}}},zw=t=>"playbackRate"in t,Gw=t=>"frequency"in t&&"gain"in t,Yw=t=>"offset"in t,Xw=t=>!("frequency"in t)&&"gain"in t,Qw=t=>"detune"in t&&"frequency"in t&&!("gain"in t),Zw=t=>"pan"in t,Nt=t=>hn(up,t),ns=t=>hn(hp,t),Yl=(t,e)=>{const{activeInputs:n}=Nt(t);n.forEach(i=>i.forEach(([s])=>{e.includes(t)||Yl(s,[...e,t])}));const r=zw(t)?[t.playbackRate]:mp(t)?Array.from(t.parameters.values()):Gw(t)?[t.Q,t.detune,t.frequency,t.gain]:Yw(t)?[t.offset]:Xw(t)?[t.gain]:Qw(t)?[t.detune,t.frequency]:Zw(t)?[t.pan]:[];for(const i of r){const s=ns(i);s!==void 0&&s.activeInputs.forEach(([o])=>Yl(o,e))}In(t)&&ts(t)},vp=t=>{Yl(t.destination,[])},Kw=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),Jw=(t,e,n,r,i,s,o,a,l)=>class extends t{constructor(h={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new l(h)}catch(g){throw g.code===12&&g.message==="sampleRate is not in range"?n():g}if(d===null)throw r();if(!Kw(h.latencyHint))throw new TypeError(`The provided value '${h.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(h.sampleRate!==void 0&&d.sampleRate!==h.sampleRate)throw n();super(d,2);const{latencyHint:f}=h,{sampleRate:v}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:f==="balanced"?512/v:f==="interactive"||f===void 0?256/v:f==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(f*v/128)))*128/v,this._nativeAudioContext=d,l.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const g=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",g)};d.addEventListener("statechange",g)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),vp(this)}))}createMediaElementSource(h){return new i(this,{mediaElement:h})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(h){return new o(this,{mediaStream:h})}createMediaStreamTrackSource(h){return new a(this,{mediaStreamTrack:h})}resume(){return this._state==="suspended"?new Promise((h,d)=>{const f=()=>{this._nativeAudioContext.removeEventListener("statechange",f),this._nativeAudioContext.state==="running"?h():this.resume().then(h,d)};this._nativeAudioContext.addEventListener("statechange",f)}):this._nativeAudioContext.resume().catch(h=>{throw h===void 0||h.code===15?e():h})}suspend(){return this._nativeAudioContext.suspend().catch(h=>{throw h===void 0?e():h})}},e0=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,h){const d=s(u),f=o(d),v=i(d,h,f),g=f?e(a):null;super(u,!1,v,g),this._isNodeOfNativeOfflineAudioContext=f,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},t0=t=>{const e=new WeakMap,n=async(r,i)=>{const s=i.destination;return e.set(i,s),await t(r,i,s),s};return{render(r,i){const s=e.get(i);return s!==void 0?Promise.resolve(s):n(r,i)}}},n0=(t,e,n,r,i,s,o,a)=>(l,u)=>{const h=u.listener,d=()=>{const T=new Float32Array(1),x=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),M=o(u);let A=!1,I=[0,0,-1,0,1,0],R=[0,0,0];const F=()=>{if(A)return;A=!0;const Y=r(u,256,9,0);Y.onaudioprocess=({inputBuffer:z})=>{const G=[s(z,T,0),s(z,T,1),s(z,T,2),s(z,T,3),s(z,T,4),s(z,T,5)];G.some((B,W)=>B!==I[W])&&(h.setOrientation(...G),I=G);const ne=[s(z,T,6),s(z,T,7),s(z,T,8)];ne.some((B,W)=>B!==R[W])&&(h.setPosition(...ne),R=ne)},x.connect(Y)},j=Y=>z=>{z!==I[Y]&&(I[Y]=z,h.setOrientation(...I))},U=Y=>z=>{z!==R[Y]&&(R[Y]=z,h.setPosition(...R))},$=(Y,z,G)=>{const ne=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:z});ne.connect(x,0,Y),ne.start(),Object.defineProperty(ne.offset,"defaultValue",{get(){return z}});const B=t({context:l},M,ne.offset,At,jt);return a(B,"value",W=>()=>W.call(B),W=>q=>{try{W.call(B,q)}catch(Z){if(Z.code!==9)throw Z}F(),M&&G(q)}),B.cancelAndHoldAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Z=W.apply(B,q);return F(),Z})(B.cancelAndHoldAtTime),B.cancelScheduledValues=(W=>M?()=>{throw i()}:(...q)=>{const Z=W.apply(B,q);return F(),Z})(B.cancelScheduledValues),B.exponentialRampToValueAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Z=W.apply(B,q);return F(),Z})(B.exponentialRampToValueAtTime),B.linearRampToValueAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Z=W.apply(B,q);return F(),Z})(B.linearRampToValueAtTime),B.setTargetAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Z=W.apply(B,q);return F(),Z})(B.setTargetAtTime),B.setValueAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Z=W.apply(B,q);return F(),Z})(B.setValueAtTime),B.setValueCurveAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Z=W.apply(B,q);return F(),Z})(B.setValueCurveAtTime),B};return{forwardX:$(0,0,j(0)),forwardY:$(1,0,j(1)),forwardZ:$(2,-1,j(2)),positionX:$(6,0,U(0)),positionY:$(7,0,U(1)),positionZ:$(8,0,U(2)),upX:$(3,0,j(3)),upY:$(4,1,j(4)),upZ:$(5,0,j(5))}},{forwardX:f,forwardY:v,forwardZ:g,positionX:_,positionY:b,positionZ:C,upX:k,upY:N,upZ:P}=h.forwardX===void 0?d():h;return{get forwardX(){return f},get forwardY(){return v},get forwardZ(){return g},get positionX(){return _},get positionY(){return b},get positionZ(){return C},get upX(){return k},get upY(){return N},get upZ(){return P}}},fo=t=>"context"in t,rs=t=>fo(t[0]),Or=(t,e,n,r)=>{for(const i of t)if(n(i)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},od=(t,e,[n,r],i)=>{Or(t,[e,n,r],s=>s[0]===e&&s[1]===n,i)},ad=(t,[e,n,r],i)=>{const s=t.get(e);s===void 0?t.set(e,new Set([[n,r]])):Or(s,[n,r],o=>o[0]===n,i)},di=t=>"inputs"in t,po=(t,e,n,r)=>{if(di(e)){const i=e.inputs[r];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,r),[e,n,r]},yp=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},r0=(t,e,n)=>xa(t,r=>r[0]===e&&r[1]===n),_p=(t,e)=>{if(!es(t).delete(e))throw new Error("Missing the expected event listener.")},bp=(t,e,n)=>{const r=hn(t,e),i=xa(r,s=>s[0]===n);return r.size===0&&t.delete(e),i},mo=(t,e,n,r)=>{di(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Ge=t=>hn(Dc,t),Vi=t=>hn(Rc,t),Er=t=>ql.has(t),to=t=>!ri.has(t),ld=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),i=t.createGain(),s=t.createBuffer(1,2,44100),o=s.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=s,a.loop=!0,a.connect(r).connect(t.destination),a.connect(i),a.disconnect(i),r.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,h=>h===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),yl=(t,e)=>{const n=new Map;for(const r of t)for(const i of r){const s=n.get(i);n.set(i,s===void 0?1:s+1)}n.forEach((r,i)=>e(i,r))},go=t=>"context"in t,i0=t=>{const e=new Map;t.connect=(n=>(r,i=0,s=0)=>{const o=go(r)?n(r,i,s):n(r,i),a=e.get(r);return a===void 0?e.set(r,[{input:s,output:i}]):a.every(l=>l.input!==s||l.output!==i)&&a.push({input:s,output:i}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,i,s)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(i===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==i&&(l.input!==s||s===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{go(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},s0=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=ns(e),{outputs:o}=Nt(t),a=es(t),l=u=>{const h=Ge(t),d=Vi(e);if(u){const f=bp(s,t,n);od(i,t,f,!1),!r&&!Er(t)&&h.connect(d,n)}else{const f=r0(i,t,n);ad(s,f,!1),!r&&!Er(t)&&h.disconnect(d,n)}};return Or(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),In(t)?od(i,t,[n,l],!0):ad(s,[t,n,l],!0),!0):!1},o0=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=Nt(e),o=yp(i[r],t,n);return o===null?[pp(s,t,n,r)[2],!1]:[o[2],!0]},a0=(t,e,n)=>{const{activeInputs:r,passiveInputs:i}=ns(e),s=yp(r,t,n);return s===null?[bp(i,t,n)[1],!1]:[s[2],!0]},Fc=(t,e,n,r,i)=>{const[s,o]=o0(t,n,r,i);if(s!==null&&(_p(t,s),o&&!e&&!Er(t)&&mo(Ge(t),Ge(n),r,i)),In(n)){const{activeInputs:a}=Nt(n);Gl(n,a)}},Lc=(t,e,n,r)=>{const[i,s]=a0(t,n,r);i!==null&&(_p(t,i),s&&!e&&!Er(t)&&Ge(t).disconnect(Vi(n),r))},l0=(t,e)=>{const n=Nt(t),r=[];for(const i of n.outputs)rs(i)?Fc(t,e,...i):Lc(t,e,...i),r.push(i[0]);return n.outputs.clear(),r},c0=(t,e,n)=>{const r=Nt(t),i=[];for(const s of r.outputs)s[1]===n&&(rs(s)?Fc(t,e,...s):Lc(t,e,...s),i.push(s[0]),r.outputs.delete(s));return i},u0=(t,e,n,r,i)=>{const s=Nt(t);return Array.from(s.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(i===void 0||o[2]===i)).map(o=>(rs(o)?Fc(t,e,...o):Lc(t,e,...o),s.outputs.delete(o),o[0]))},h0=(t,e,n,r,i,s,o,a,l,u,h,d,f,v,g,_)=>class extends u{constructor(C,k,N,P){super(N),this._context=C,this._nativeAudioNode=N;const T=h(C);d(T)&&n(ld,()=>ld(T,_))!==!0&&i0(N),Dc.set(this,N),dp.set(this,new Set),C.state!=="closed"&&k&&ii(this),t(this,P,N)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,k=0,N=0){if(k<0||k>=this._nativeAudioNode.numberOfOutputs)throw i();const P=h(this._context),T=g(P);if(f(C)||v(C))throw s();if(fo(C)){const A=Ge(C);try{const R=po(this._nativeAudioNode,A,k,N),F=to(this);(T||F)&&this._nativeAudioNode.disconnect(...R),this.context.state!=="closed"&&!F&&to(C)&&ii(C)}catch(R){throw R.code===12?s():R}if(e(this,C,k,N,T)){const R=l([this],C);yl(R,r(T))}return C}const x=Vi(C);if(x.name==="playbackRate"&&x.maxValue===1024)throw o();try{this._nativeAudioNode.connect(x,k),(T||to(this))&&this._nativeAudioNode.disconnect(x,k)}catch(A){throw A.code===12?s():A}if(s0(this,C,k,T)){const A=l([this],C);yl(A,r(T))}}disconnect(C,k,N){let P;const T=h(this._context),x=g(T);if(C===void 0)P=l0(this,x);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw i();P=c0(this,x,C)}else{if(k!==void 0&&(k<0||k>=this.numberOfOutputs)||fo(C)&&N!==void 0&&(N<0||N>=C.numberOfInputs))throw i();if(P=u0(this,x,C,k,N),P.length===0)throw s()}for(const M of P){const A=l([this],M);yl(A,a)}}},d0=(t,e,n,r,i,s,o,a,l,u,h,d,f)=>(v,g,_,b=null,C=null)=>{const k=_.value,N=new Tw(k),P=g?r(N):null,T={get defaultValue(){return k},get maxValue(){return b===null?_.maxValue:b},get minValue(){return C===null?_.minValue:C},get value(){return _.value},set value(x){_.value=x,T.setValueAtTime(x,v.context.currentTime)},cancelAndHoldAtTime(x){if(typeof _.cancelAndHoldAtTime=="function")P===null&&N.flush(v.context.currentTime),N.add(i(x)),_.cancelAndHoldAtTime(x);else{const M=Array.from(N).pop();P===null&&N.flush(v.context.currentTime),N.add(i(x));const A=Array.from(N).pop();_.cancelScheduledValues(x),M!==A&&A!==void 0&&(A.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(A.value,A.endTime):A.type==="linearRampToValue"?_.linearRampToValueAtTime(A.value,A.endTime):A.type==="setValue"?_.setValueAtTime(A.value,A.startTime):A.type==="setValueCurve"&&_.setValueCurveAtTime(A.values,A.startTime,A.duration))}return T},cancelScheduledValues(x){return P===null&&N.flush(v.context.currentTime),N.add(s(x)),_.cancelScheduledValues(x),T},exponentialRampToValueAtTime(x,M){if(x===0)throw new RangeError;if(!Number.isFinite(M)||M<0)throw new RangeError;const A=v.context.currentTime;return P===null&&N.flush(A),Array.from(N).length===0&&(N.add(u(k,A)),_.setValueAtTime(k,A)),N.add(o(x,M)),_.exponentialRampToValueAtTime(x,M),T},linearRampToValueAtTime(x,M){const A=v.context.currentTime;return P===null&&N.flush(A),Array.from(N).length===0&&(N.add(u(k,A)),_.setValueAtTime(k,A)),N.add(a(x,M)),_.linearRampToValueAtTime(x,M),T},setTargetAtTime(x,M,A){return P===null&&N.flush(v.context.currentTime),N.add(l(x,M,A)),_.setTargetAtTime(x,M,A),T},setValueAtTime(x,M){return P===null&&N.flush(v.context.currentTime),N.add(u(x,M)),_.setValueAtTime(x,M),T},setValueCurveAtTime(x,M,A){const I=x instanceof Float32Array?x:new Float32Array(x);if(d!==null&&d.name==="webkitAudioContext"){const R=M+A,F=v.context.sampleRate,j=Math.ceil(M*F),U=Math.floor(R*F),$=U-j,Y=new Float32Array($);for(let G=0;G<$;G+=1){const ne=(I.length-1)/A*((j+G)/F-M),B=Math.floor(ne),W=Math.ceil(ne);Y[G]=B===W?I[B]:(1-(ne-B))*I[B]+(1-(W-ne))*I[W]}P===null&&N.flush(v.context.currentTime),N.add(h(Y,M,A)),_.setValueCurveAtTime(Y,M,A);const z=U/F;z<R&&f(T,Y[Y.length-1],z),f(T,I[I.length-1],R)}else P===null&&N.flush(v.context.currentTime),N.add(h(I,M,A)),_.setValueCurveAtTime(I,M,A);return T}};return n.set(T,_),e.set(T,v),t(T,P),T},f0=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:i}=n;e.exponentialRampToValueAtTime(i,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:i}=n;e.linearRampToValueAtTime(i,r)}else if(n.type==="setTarget"){const{startTime:r,target:i,timeConstant:s}=n;e.setTargetAtTime(i,r,s)}else if(n.type==="setValue"){const{startTime:r,value:i}=n;e.setValueAtTime(i,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:i,values:s}=n;e.setValueCurveAtTime(s,i,r)}else throw new Error("Can't apply an unknown automation.")}});class wp{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,i)=>e.call(n,r,i,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const p0={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},m0=(t,e,n,r,i,s,o,a,l,u,h,d,f,v)=>class extends e{constructor(_,b,C){var k;const N=a(_),P=l(N),T=h({...p0,...C});f(T);const x=Hl.get(N),M=x==null?void 0:x.get(b),A=P||N.state!=="closed"?N:(k=o(N))!==null&&k!==void 0?k:N,I=i(A,P?null:_.baseLatency,u,b,M,T),R=P?r(b,T,M):null;super(_,!0,I,R);const F=[];I.parameters.forEach((U,$)=>{const Y=n(this,P,U);F.push([$,Y])}),this._nativeAudioWorkletNode=I,this._onprocessorerror=null,this._parameters=new wp(F),P&&t(N,this);const{activeInputs:j}=s(this);d(I,j)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(_){const b=typeof _=="function"?v(this,_):null;this._nativeAudioWorkletNode.onprocessorerror=b;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===b?_:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function vo(t,e,n,r,i){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,i);else{const s=t.getChannelData(r);if(e[n].byteLength===0)e[n]=s.slice(i,i+128);else{const o=new Float32Array(s.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const Tp=(t,e,n,r,i)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,i):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],i)},yo=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const i=[],s=typeof e=="number"?e:e[r];for(let o=0;o<s;o+=1)i.push(new Float32Array(128));n.push(i)}return n},g0=(t,e)=>{const n=hn(zl,t),r=Ge(e);return hn(n,r)},v0=async(t,e,n,r,i,s,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,u=i.reduce((b,C)=>b+C,0),h=u===0?null:n.createBuffer(u,a,n.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const d=Nt(t),f=await g0(n,t),v=yo(r.numberOfInputs,r.channelCount),g=yo(r.numberOfOutputs,i),_=Array.from(t.parameters.keys()).reduce((b,C)=>({...b,[C]:new Float32Array(128)}),{});for(let b=0;b<a;b+=128){if(r.numberOfInputs>0&&e!==null)for(let C=0;C<r.numberOfInputs;C+=1)for(let k=0;k<r.channelCount;k+=1)vo(e,v[C],k,k,b);s.parameterDescriptors!==void 0&&e!==null&&s.parameterDescriptors.forEach(({name:C},k)=>{vo(e,_,C,l+k,b)});for(let C=0;C<r.numberOfInputs;C+=1)for(let k=0;k<i[C];k+=1)g[C][k].byteLength===0&&(g[C][k]=new Float32Array(128));try{const C=v.map((N,P)=>d.activeInputs[P].size===0?[]:N),k=o(b/n.sampleRate,n.sampleRate,()=>f.process(C,g,_));if(h!==null)for(let N=0,P=0;N<r.numberOfOutputs;N+=1){for(let T=0;T<i[N];T+=1)Tp(h,g[N],T,P+T,b);P+=i[N]}if(!k)break}catch(C){t.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return h},y0=(t,e,n,r,i,s,o,a,l,u,h,d,f,v,g,_)=>(b,C,k)=>{const N=new WeakMap;let P=null;const T=async(x,M)=>{let A=h(x),I=null;const R=Mt(A,M),F=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(d===null){const j=F.reduce((z,G)=>z+G,0),U=i(M,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),$=[];for(let z=0;z<x.numberOfOutputs;z+=1)$.push(r(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:F[z]}));const Y=o(M,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});Y.connect=e.bind(null,$),Y.disconnect=l.bind(null,$),I=[U,$,Y]}else R||(A=new d(M,b));if(N.set(M,I===null?A:I[2]),I!==null){if(P===null){if(k===void 0)throw new Error("Missing the processor constructor.");if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const G=x.channelCount*x.numberOfInputs,ne=k.parameterDescriptors===void 0?0:k.parameterDescriptors.length,B=G+ne;P=v0(x,B===0?null:await(async()=>{const q=new f(B,Math.ceil(x.context.length/128)*128,M.sampleRate),Z=[],ce=[];for(let fe=0;fe<C.numberOfInputs;fe+=1)Z.push(o(q,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),ce.push(i(q,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const pe=await Promise.all(Array.from(x.parameters.values()).map(async fe=>{const me=s(q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:fe.value});return await v(q,fe,me.offset),me})),J=r(q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,G+ne)});for(let fe=0;fe<C.numberOfInputs;fe+=1){Z[fe].connect(ce[fe]);for(let me=0;me<C.channelCount;me+=1)ce[fe].connect(J,me,fe*C.channelCount+me)}for(const[fe,me]of pe.entries())me.connect(J,0,G+fe),me.start(0);return J.connect(q.destination),await Promise.all(Z.map(fe=>g(x,q,fe))),_(q)})(),M,C,F,k,u)}const j=await P,U=n(M,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,Y,z]=I;j!==null&&(U.buffer=j,U.start(0)),U.connect($);for(let G=0,ne=0;G<x.numberOfOutputs;G+=1){const B=Y[G];for(let W=0;W<F[G];W+=1)$.connect(B,ne+W,W);ne+=F[G]}return z}if(R)for(const[j,U]of x.parameters.entries())await t(M,U,A.parameters.get(j));else for(const[j,U]of x.parameters.entries())await v(M,U,A.parameters.get(j));return await g(x,M,A),A};return{render(x,M){a(M,x);const A=N.get(M);return A!==void 0?Promise.resolve(A):T(x,M)}}},_0=(t,e,n,r,i,s,o,a,l,u,h,d,f,v,g,_,b,C,k,N)=>class extends g{constructor(T,x){super(T,x),this._nativeContext=T,this._audioWorklet=t===void 0?void 0:{addModule:(M,A)=>t(this,M,A)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(T,x,M){return new n({length:x,numberOfChannels:T,sampleRate:M})}createBufferSource(){return new r(this)}createChannelMerger(T=6){return new s(this,{numberOfInputs:T})}createChannelSplitter(T=6){return new o(this,{numberOfOutputs:T})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(T=1){return new h(this,{maxDelayTime:T})}createDynamicsCompressor(){return new d(this)}createGain(){return new f(this)}createIIRFilter(T,x){return new v(this,{feedback:x,feedforward:T})}createOscillator(){return new _(this)}createPanner(){return new b(this)}createPeriodicWave(T,x,M={disableNormalization:!1}){return new C(this,{...M,imag:x,real:T})}createStereoPanner(){return new k(this)}createWaveShaper(){return new N(this)}decodeAudioData(T,x,M){return u(this._nativeContext,T).then(A=>(typeof x=="function"&&x(A),A),A=>{throw typeof M=="function"&&M(A),A})}},b0={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},w0=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,h){const d=s(u),f={...b0,...h},v=i(d,f),g=o(d),_=g?n():null;super(u,!1,v,_),this._Q=e(this,g,v.Q,At,jt),this._detune=e(this,g,v.detune,1200*Math.log2(At),-1200*Math.log2(At)),this._frequency=e(this,g,v.frequency,u.sampleRate/2,0),this._gain=e(this,g,v.gain,40*Math.log10(At),jt),this._nativeBiquadFilterNode=v,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,h,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,h,d)}catch(f){throw f.code===11?r():f}if(u.length!==h.length||h.length!==d.length)throw r()}},T0=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const h=Mt(u,l);if(!h){const d={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,d)}return s.set(l,u),h?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await r(l,a.Q,u.Q),await r(l,a.detune,u.detune),await r(l,a.frequency,u.frequency),await r(l,a.gain,u.gain)),await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},P0=(t,e)=>(n,r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t.get(n);if(s!==void 0)return s;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},C0={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},x0=(t,e,n,r,i)=>class extends t{constructor(o,a){const l=r(o),u={...C0,...a},h=n(l,u),d=i(l)?e():null;super(o,!1,h,d)}},E0=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!Mt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return r.set(o,a),await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},M0={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},S0=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=r(a),h=s({...M0,...l}),d=n(u,h),f=i(u)?e():null;super(a,!1,d,f)}},A0=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!Mt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return r.set(o,a),await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},N0=t=>(e,n,r)=>t(n,e,r),k0=t=>(e,n,r=0,i=0)=>{const s=e[r];if(s===void 0)throw t();return go(n)?s.connect(n,0,i):s.connect(n,0)},O0=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return r.buffer=i,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},I0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},D0=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const h=i(l),d={...I0,...u},f=r(h,d),v=s(h),g=v?n():null;super(l,!1,f,g),this._constantSourceNodeRenderer=g,this._nativeConstantSourceNode=f,this._offset=e(this,v,f.offset,At,jt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const h=this._nativeConstantSourceNode.onended;this._onended=h!==null&&h===u?l:h}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){ii(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),In(this)&&ts(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},R0=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;const l=async(u,h)=>{let d=n(u);const f=Mt(d,h);if(!f){const v={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(h,v),o!==null&&d.start(o),a!==null&&d.stop(a)}return s.set(h,d),f?await t(h,u.offset,d.offset):await r(h,u.offset,d.offset),await i(u,h,d),d};return{set start(u){o=u},set stop(u){a=u},render(u,h){const d=s.get(h);return d!==void 0?Promise.resolve(d):l(u,h)}}},j0=t=>e=>(t[0]=e,t[0]),F0={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},L0=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=r(a),h={...F0,...l},d=n(u,h),v=i(u)?e():null;super(a,!1,d,v),this._isBufferNullified=!1,this._nativeConvolverNode=d,h.buffer!==null&&s(this,h.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},V0=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!Mt(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return r.set(o,a),di(a)?await n(s,o,a.inputs[0]):await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},B0=(t,e)=>(n,r,i)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,i)}catch(s){throw s.name==="SyntaxError"?t():s}},W0=()=>new DOMException("","DataCloneError"),cd=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const i=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>i();try{e.postMessage(t,[t])}catch{}finally{i()}})},$0=(t,e,n,r,i,s,o,a,l,u,h)=>(d,f)=>{const v=o(d)?d:s(d);if(i.has(f)){const g=n();return Promise.reject(g)}try{i.add(f)}catch{}return e(l,()=>l(v))?v.decodeAudioData(f).then(g=>(cd(f).catch(()=>{}),e(a,()=>a(g))||h(g),t.add(g),g)):new Promise((g,_)=>{const b=async()=>{try{await cd(f)}catch{}},C=k=>{_(k),b()};try{v.decodeAudioData(f,k=>{typeof k.copyFromChannel!="function"&&(u(k),jc(k)),t.add(k),b().then(()=>g(k))},k=>{C(k===null?r():k)})}catch(k){C(k)}})},U0=(t,e,n,r,i,s,o,a)=>(l,u)=>{const h=e.get(l);if(h===void 0)throw new Error("Missing the expected cycle count.");const d=s(l.context),f=a(d);if(h===u){if(e.delete(l),!f&&o(l)){const v=r(l),{outputs:g}=n(l);for(const _ of g)if(rs(_)){const b=r(_[0]);t(v,b,_[1],_[2])}else{const b=i(_[0]);v.connect(b,_[1])}}}else e.set(l,h-u)},q0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},H0=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const h=i(l),d={...q0,...u},f=r(h,d),v=s(h),g=v?n(d.maxDelayTime):null;super(l,!1,f,g),this._delayTime=e(this,v,f.delayTime),o(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},z0=(t,e,n,r,i)=>s=>{const o=new WeakMap,a=async(l,u)=>{let h=n(l);const d=Mt(h,u);if(!d){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:s};h=e(u,f)}return o.set(u,h),d?await t(u,l.delayTime,h.delayTime):await r(u,l.delayTime,h.delayTime),await i(l,u,h),h};return{render(l,u){const h=o.get(u);return h!==void 0?Promise.resolve(h):a(l,u)}}},G0=t=>(e,n,r,i)=>t(e[i],s=>s[0]===n&&s[1]===r),Y0=t=>(e,n)=>{t(e).delete(n)},X0=t=>"delayTime"in t,Q0=(t,e,n)=>function r(i,s){const o=fo(s)?s:n(t,s);if(X0(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...i,o],l[0])).reduce((l,u)=>l.concat(u),[])},$s=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},Z0=t=>(e,n=void 0,r=void 0,i=0)=>n===void 0?e.forEach(s=>s.disconnect()):typeof n=="number"?$s(t,e,n).disconnect():go(n)?r===void 0?e.forEach(s=>s.disconnect(n)):i===void 0?$s(t,e,r).disconnect(n,0):$s(t,e,r).disconnect(n,0,i):r===void 0?e.forEach(s=>s.disconnect(n)):$s(t,e,r).disconnect(n,0),K0={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},J0=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,h){const d=s(u),f={...K0,...h},v=r(d,f),g=o(d),_=g?n():null;super(u,!1,v,_),this._attack=e(this,g,v.attack),this._knee=e(this,g,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=e(this,g,v.ratio),this._release=e(this,g,v.release),this._threshold=e(this,g,v.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const h=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=h,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const h=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=h,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},eT=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const h=Mt(u,l);if(!h){const d={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,d)}return s.set(l,u),h?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await r(l,a.attack,u.attack),await r(l,a.knee,u.knee),await r(l,a.ratio,u.ratio),await r(l,a.release,u.release),await r(l,a.threshold,u.threshold)),await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},tT=()=>new DOMException("","EncodingError"),nT=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const i=t.document.head;if(i===null)r(new SyntaxError);else{const s=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(h,d,f,v,g)=>{if(d===a||d===t.location.href&&f===1&&v===1)return u(),r(g),!1;if(l!==null)return l(h,d,f,v,g)},s.onerror=()=>{u(),r(new SyntaxError)},s.onload=()=>{u(),n()},s.src=a,s.type="module",i.appendChild(s)}}),rT=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,i){if(r!==null){let s=this._listeners.get(r);s===void 0&&(s=t(this,r),typeof r=="function"&&this._listeners.set(r,s)),this._nativeEventTarget.addEventListener(n,s,i)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,i){const s=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,s===void 0?null:s,i)}},iT=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},sT=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},oT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},aT=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=i(a),h={...oT,...l},d=r(u,h),f=s(u),v=f?n():null;super(a,!1,d,v),this._gain=e(this,f,d.gain,At,jt)}get gain(){return this._gain}},lT=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const h=Mt(u,l);if(!h){const d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,d)}return s.set(l,u),h?await t(l,a.gain,u.gain):await r(l,a.gain,u.gain),await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},cT=(t,e)=>n=>e(t,n),uT=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},hT=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},dT=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},fT=t=>e=>t.get(e),gt=()=>new DOMException("","InvalidStateError"),pT=t=>e=>{const n=t.get(e);if(n===void 0)throw gt();return n},mT=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},gT=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Ea=()=>new DOMException("","InvalidAccessError"),vT=t=>{t.getFrequencyResponse=(e=>(n,r,i)=>{if(n.length!==r.length||r.length!==i.length)throw Ea();return e.call(t,n,r,i)})(t.getFrequencyResponse)},yT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},_T=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=r(a),h=i(u),d={...yT,...l},f=e(u,h?null:a.baseLatency,d),v=h?n(d.feedback,d.feedforward):null;super(a,!1,f,v),vT(f),this._nativeIIRFilterNode=f,s(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},Pp=(t,e,n,r,i,s,o,a,l,u,h)=>{const d=u.length;let f=a;for(let v=0;v<d;v+=1){let g=n[0]*u[v];for(let _=1;_<i;_+=1){const b=f-_&l-1;g+=n[_]*s[b],g-=t[_]*o[b]}for(let _=i;_<r;_+=1)g+=n[_]*s[f-_&l-1];for(let _=i;_<e;_+=1)g-=t[_]*o[f-_&l-1];s[f]=u[v],o[f]=g,f=f+1&l-1,h[v]=g}return f},bT=(t,e,n,r)=>{const i=n instanceof Float64Array?n:new Float64Array(n),s=r instanceof Float64Array?r:new Float64Array(r),o=i.length,a=s.length,l=Math.min(o,a);if(i[0]!==1){for(let g=0;g<o;g+=1)s[g]/=i[0];for(let g=1;g<a;g+=1)i[g]/=i[0]}const u=32,h=new Float32Array(u),d=new Float32Array(u),f=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),v=t.numberOfChannels;for(let g=0;g<v;g+=1){const _=t.getChannelData(g),b=f.getChannelData(g);h.fill(0),d.fill(0),Pp(i,o,s,a,l,h,d,0,u,_,b)}return f},wT=(t,e,n,r,i)=>(s,o)=>{const a=new WeakMap;let l=null;const u=async(h,d)=>{let f=null,v=e(h);const g=Mt(v,d);if(d.createIIRFilter===void 0?f=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(v=d.createIIRFilter(o,s)),a.set(d,f===null?v:f),f!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new n(h.context.destination.channelCount,h.context.length,d.sampleRate);l=(async()=>{await r(h,b,b.destination);const C=await i(b);return bT(C,d,s,o)})()}const _=await l;return f.buffer=_,f.start(0),f}return await r(h,d,v),v};return{render(h,d){const f=a.get(d);return f!==void 0?Promise.resolve(f):u(h,d)}}},TT=(t,e,n,r,i,s)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&s(a)){const h=r(a),{outputs:d}=n(a);for(const f of d)if(rs(f)){const v=r(f[0]);e(h,v,f[1],f[2])}else{const v=i(f[0]);h.disconnect(v,f[1])}}t.set(a,l)}else t.set(a,u+l)},PT=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},CT=(t,e)=>n=>t.has(n)||e(n),xT=(t,e)=>n=>t.has(n)||e(n),ET=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},MT=t=>e=>t!==null&&e instanceof t,ST=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,AT=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,NT=(t,e)=>n=>t(n)||e(n),kT=t=>e=>t!==null&&e instanceof t,OT=t=>t!==null&&t.isSecureContext,IT=(t,e,n,r)=>class extends t{constructor(s,o){const a=n(s),l=e(a,o);if(r(a))throw TypeError();super(s,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},DT={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},RT=(t,e,n,r)=>class extends t{constructor(s,o){const a=n(s);if(r(a))throw new TypeError;const l={...DT,...o},u=e(a,l);super(s,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},jT=(t,e,n,r)=>class extends t{constructor(s,o){const a=n(s),l=e(a,o);if(r(a))throw new TypeError;super(s,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},FT=(t,e,n)=>class extends t{constructor(i,s){const o=n(i),a=e(o,s);super(i,!0,a,null)}},LT=(t,e,n,r,i,s)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,Ca.set(this,a),r(a)&&i.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?s(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Bi=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},VT=(t,e)=>(n,r,i)=>{const s=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const h=s.size===0;if(e(a))return o.call(n,a,l,u),t(s,[a,l,u],d=>d[0]===a&&d[1]===l&&d[2]===u,!0),h&&r(),a;o.call(n,a,l),t(s,[a,l],d=>d[0]===a&&d[1]===l,!0),h&&r()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const h=s.size>0;if(a===void 0)o.apply(n),s.clear();else if(typeof a=="number"){o.call(n,a);for(const f of s)f[1]===a&&s.delete(f)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const f of s)f[0]===a&&(l===void 0||f[1]===l)&&(u===void 0||f[2]===u)&&s.delete(f)}const d=s.size===0;h&&d&&i()})(n.disconnect),n},Xe=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},pt=(t,e)=>{Xe(t,e,"channelCount"),Xe(t,e,"channelCountMode"),Xe(t,e,"channelInterpretation")},ud=t=>typeof t.getFloatTimeDomainData=="function",BT=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let i=0;i<r;i+=1)e[i]=(n[i]-128)*.0078125;return e}},WT=(t,e)=>(n,r)=>{const i=n.createAnalyser();if(pt(i,r),!(r.maxDecibels>r.minDecibels))throw e();return Xe(i,r,"fftSize"),Xe(i,r,"maxDecibels"),Xe(i,r,"minDecibels"),Xe(i,r,"smoothingTimeConstant"),t(ud,()=>ud(i))||BT(i),i},$T=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,it=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},UT=t=>{t.start=(e=>{let n=!1;return(r=0,i=0,s)=>{if(n)throw gt();e.call(t,r,i,s),n=!0}})(t.start)},Vc=t=>{t.start=(e=>(n=0,r=0,i)=>{if(typeof i=="number"&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,i)})(t.start)},Bc=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},qT=(t,e,n,r,i,s,o,a,l,u,h)=>(d,f)=>{const v=d.createBufferSource();return pt(v,f),it(v,f,"playbackRate"),Xe(v,f,"buffer"),Xe(v,f,"loop"),Xe(v,f,"loopEnd"),Xe(v,f,"loopStart"),e(n,()=>n(d))||UT(v),e(r,()=>r(d))||l(v),e(i,()=>i(d))||u(v,d),e(s,()=>s(d))||Vc(v),e(o,()=>o(d))||h(v,d),e(a,()=>a(d))||Bc(v),t(d,v),v},HT=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,zT=(t,e)=>(n,r,i)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}i&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{s.channelCount=l}catch(u){if(l>s.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),s.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),s.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>s.maxChannelCount}),o.connect(s),o},GT=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,YT=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},XT=(t,e,n,r,i)=>(s,o,a,l,u,h)=>{if(a!==null)try{const d=new a(s,l,h),f=new Map;let v=null;if(Object.defineProperties(d,{channelCount:{get:()=>h.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>v,set:g=>{typeof v=="function"&&d.removeEventListener("processorerror",v),v=typeof g=="function"?g:null,typeof v=="function"&&d.addEventListener("processorerror",v)}}}),d.addEventListener=(g=>(..._)=>{if(_[0]==="processorerror"){const b=typeof _[1]=="function"?_[1]:typeof _[1]=="object"&&_[1]!==null&&typeof _[1].handleEvent=="function"?_[1].handleEvent:null;if(b!==null){const C=f.get(_[1]);C!==void 0?_[1]=C:(_[1]=k=>{k.type==="error"?(Object.defineProperties(k,{type:{value:"processorerror"}}),b(k)):b(new ErrorEvent(_[0],{...k}))},f.set(b,_[1]))}}return g.call(d,"error",_[1],_[2]),g.call(d,..._)})(d.addEventListener),d.removeEventListener=(g=>(..._)=>{if(_[0]==="processorerror"){const b=f.get(_[1]);b!==void 0&&(f.delete(_[1]),_[1]=b)}return g.call(d,"error",_[1],_[2]),g.call(d,_[0],_[1],_[2])})(d.removeEventListener),h.numberOfOutputs!==0){const g=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(g).connect(s.destination),i(d,()=>g.disconnect(),()=>g.connect(s.destination))}return d}catch(d){throw d.code===11?r():d}if(u===void 0)throw r();return YT(h),e(s,o,u,h)},Cp=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),QT=t=>new Promise((e,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=({data:s})=>{r.close(),i.close(),e(s)},r.onmessageerror=({data:s})=>{r.close(),i.close(),n(s)},i.postMessage(t)}),ZT=async(t,e)=>{const n=await QT(e);return new t(n)},KT=(t,e,n,r)=>{let i=zl.get(t);i===void 0&&(i=new WeakMap,zl.set(t,i));const s=ZT(n,r);return i.set(e,s),s},JT=(t,e,n,r,i,s,o,a,l,u,h,d,f)=>(v,g,_,b)=>{if(b.numberOfInputs===0&&b.numberOfOutputs===0)throw l();const C=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(C.some(X=>X<1))throw l();if(C.length!==b.numberOfOutputs)throw e();if(b.channelCountMode!=="explicit")throw l();const k=b.channelCount*b.numberOfInputs,N=C.reduce((X,ae)=>X+ae,0),P=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length;if(k+P>6||N>6)throw l();const T=new MessageChannel,x=[],M=[];for(let X=0;X<b.numberOfInputs;X+=1)x.push(o(v,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),M.push(i(v,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const A=[];if(_.parameterDescriptors!==void 0)for(const{defaultValue:X,maxValue:ae,minValue:Ae,name:Pe}of _.parameterDescriptors){const be=s(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:b.parameterData[Pe]!==void 0?b.parameterData[Pe]:X===void 0?0:X});Object.defineProperties(be.offset,{defaultValue:{get:()=>X===void 0?0:X},maxValue:{get:()=>ae===void 0?At:ae},minValue:{get:()=>Ae===void 0?jt:Ae}}),A.push(be)}const I=r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,k+P)}),R=Cp(g,v.sampleRate),F=a(v,R,k+P,Math.max(1,N)),j=i(v,{channelCount:Math.max(1,N),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,N)}),U=[];for(let X=0;X<b.numberOfOutputs;X+=1)U.push(r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[X]}));for(let X=0;X<b.numberOfInputs;X+=1){x[X].connect(M[X]);for(let ae=0;ae<b.channelCount;ae+=1)M[X].connect(I,ae,X*b.channelCount+ae)}const $=new wp(_.parameterDescriptors===void 0?[]:_.parameterDescriptors.map(({name:X},ae)=>{const Ae=A[ae];return Ae.connect(I,0,k+ae),Ae.start(0),[X,Ae.offset]}));I.connect(F);let Y=b.channelInterpretation,z=null;const G=b.numberOfOutputs===0?[F]:U,ne={get bufferSize(){return R},get channelCount(){return b.channelCount},set channelCount(X){throw n()},get channelCountMode(){return b.channelCountMode},set channelCountMode(X){throw n()},get channelInterpretation(){return Y},set channelInterpretation(X){for(const ae of x)ae.channelInterpretation=X;Y=X},get context(){return F.context},get inputs(){return x},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get onprocessorerror(){return z},set onprocessorerror(X){typeof z=="function"&&ne.removeEventListener("processorerror",z),z=typeof X=="function"?X:null,typeof z=="function"&&ne.addEventListener("processorerror",z)},get parameters(){return $},get port(){return T.port2},addEventListener(...X){return F.addEventListener(X[0],X[1],X[2])},connect:t.bind(null,G),disconnect:u.bind(null,G),dispatchEvent(...X){return F.dispatchEvent(X[0])},removeEventListener(...X){return F.removeEventListener(X[0],X[1],X[2])}},B=new Map;T.port1.addEventListener=(X=>(...ae)=>{if(ae[0]==="message"){const Ae=typeof ae[1]=="function"?ae[1]:typeof ae[1]=="object"&&ae[1]!==null&&typeof ae[1].handleEvent=="function"?ae[1].handleEvent:null;if(Ae!==null){const Pe=B.get(ae[1]);Pe!==void 0?ae[1]=Pe:(ae[1]=be=>{h(v.currentTime,v.sampleRate,()=>Ae(be))},B.set(Ae,ae[1]))}}return X.call(T.port1,ae[0],ae[1],ae[2])})(T.port1.addEventListener),T.port1.removeEventListener=(X=>(...ae)=>{if(ae[0]==="message"){const Ae=B.get(ae[1]);Ae!==void 0&&(B.delete(ae[1]),ae[1]=Ae)}return X.call(T.port1,ae[0],ae[1],ae[2])})(T.port1.removeEventListener);let W=null;Object.defineProperty(T.port1,"onmessage",{get:()=>W,set:X=>{typeof W=="function"&&T.port1.removeEventListener("message",W),W=typeof X=="function"?X:null,typeof W=="function"&&(T.port1.addEventListener("message",W),T.port1.start())}}),_.prototype.port=T.port1;let q=null;KT(v,ne,_,b).then(X=>q=X);const ce=yo(b.numberOfInputs,b.channelCount),pe=yo(b.numberOfOutputs,C),J=_.parameterDescriptors===void 0?[]:_.parameterDescriptors.reduce((X,{name:ae})=>({...X,[ae]:new Float32Array(128)}),{});let fe=!0;const me=()=>{b.numberOfOutputs>0&&F.disconnect(j);for(let X=0,ae=0;X<b.numberOfOutputs;X+=1){const Ae=U[X];for(let Pe=0;Pe<C[X];Pe+=1)j.disconnect(Ae,ae+Pe,Pe);ae+=C[X]}},re=new Map;F.onaudioprocess=({inputBuffer:X,outputBuffer:ae})=>{if(q!==null){const Ae=d(ne);for(let Pe=0;Pe<R;Pe+=128){for(let be=0;be<b.numberOfInputs;be+=1)for(let Ce=0;Ce<b.channelCount;Ce+=1)vo(X,ce[be],Ce,Ce,Pe);_.parameterDescriptors!==void 0&&_.parameterDescriptors.forEach(({name:be},Ce)=>{vo(X,J,be,k+Ce,Pe)});for(let be=0;be<b.numberOfInputs;be+=1)for(let Ce=0;Ce<C[be];Ce+=1)pe[be][Ce].byteLength===0&&(pe[be][Ce]=new Float32Array(128));try{const be=ce.map((We,st)=>{if(Ae[st].size>0)return re.set(st,R/128),We;const tt=re.get(st);return tt===void 0?[]:(We.every(Me=>Me.every(_e=>_e===0))&&(tt===1?re.delete(st):re.set(st,tt-1)),We)});fe=h(v.currentTime+Pe/v.sampleRate,v.sampleRate,()=>q.process(be,pe,J));for(let We=0,st=0;We<b.numberOfOutputs;We+=1){for(let Oe=0;Oe<C[We];Oe+=1)Tp(ae,pe[We],Oe,st+Oe,Pe);st+=C[We]}}catch(be){fe=!1,ne.dispatchEvent(new ErrorEvent("processorerror",{colno:be.colno,filename:be.filename,lineno:be.lineno,message:be.message}))}if(!fe){for(let be=0;be<b.numberOfInputs;be+=1){x[be].disconnect(M[be]);for(let Ce=0;Ce<b.channelCount;Ce+=1)M[Pe].disconnect(I,Ce,be*b.channelCount+Ce)}if(_.parameterDescriptors!==void 0){const be=_.parameterDescriptors.length;for(let Ce=0;Ce<be;Ce+=1){const We=A[Ce];We.disconnect(I,0,k+Ce),We.stop()}}I.disconnect(F),F.onaudioprocess=null,De?me():Pt();break}}}};let De=!1;const et=o(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ft=()=>F.connect(et).connect(v.destination),Pt=()=>{F.disconnect(et),et.disconnect()},bt=()=>{if(fe){Pt(),b.numberOfOutputs>0&&F.connect(j);for(let X=0,ae=0;X<b.numberOfOutputs;X+=1){const Ae=U[X];for(let Pe=0;Pe<C[X];Pe+=1)j.connect(Ae,ae+Pe,Pe);ae+=C[X]}}De=!0},Ct=()=>{fe&&(ft(),me()),De=!1};return ft(),f(ne,bt,Ct)},xp=(t,e)=>{const n=t.createBiquadFilter();return pt(n,e),it(n,e,"Q"),it(n,e,"detune"),it(n,e,"frequency"),it(n,e,"gain"),Xe(n,e,"type"),n},eP=(t,e)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,i),pt(i,r),i},tP=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw gt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw gt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw gt()}})},is=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return pt(n,e),tP(n),n},nP=(t,e,n,r,i)=>(s,o)=>{if(s.createConstantSource===void 0)return n(s,o);const a=s.createConstantSource();return pt(a,o),it(a,o,"offset"),e(r,()=>r(s))||Vc(a),e(i,()=>i(s))||Bc(a),t(s,a),a},fi=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),rP=(t,e,n,r)=>(i,{offset:s,...o})=>{const a=i.createBuffer(1,2,44100),l=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(i,{...o,gain:s}),h=a.getChannelData(0);h[0]=1,h[1]=1,l.buffer=a,l.loop=!0;const d={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(g){u.channelCount=g},get channelCountMode(){return u.channelCountMode},set channelCountMode(g){u.channelCountMode=g},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(g){u.channelInterpretation=g},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(g){l.onended=g},addEventListener(...g){return l.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return l.dispatchEvent(g[0])},removeEventListener(...g){return l.removeEventListener(g[0],g[1],g[2])},start(g=0){l.start.call(l,g)},stop(g=0){l.stop.call(l,g)}},f=()=>l.connect(u),v=()=>l.disconnect(u);return t(i,l),r(fi(d,u),f,v)},iP=(t,e)=>(n,r)=>{const i=n.createConvolver();if(pt(i,r),r.disableNormalization===i.normalize&&(i.normalize=!r.disableNormalization),Xe(i,r,"buffer"),r.channelCount>2||(e(i,"channelCount",s=>()=>s.call(i),s=>o=>{if(o>2)throw t();return s.call(i,o)}),r.channelCountMode==="max"))throw t();return e(i,"channelCountMode",s=>()=>s.call(i),s=>o=>{if(o==="max")throw t();return s.call(i,o)}),i},Ep=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return pt(n,e),it(n,e,"delayTime"),n},sP=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(pt(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return it(r,n,"attack"),it(r,n,"knee"),it(r,n,"ratio"),it(r,n,"release"),it(r,n,"threshold"),r},Lt=(t,e)=>{const n=t.createGain();return pt(n,e),it(n,e,"gain"),n},oP=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const i=e.createIIRFilter(r.feedforward,r.feedback);return pt(i,r),i};function aP(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function lP(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function hd(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=lP(n,e),n[0]+=t[r];return n}const cP=(t,e,n,r)=>(i,s,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:h})=>{const d=Cp(s,i.sampleRate),f=u instanceof Float64Array?u:new Float64Array(u),v=h instanceof Float64Array?h:new Float64Array(h),g=f.length,_=v.length,b=Math.min(g,_);if(g===0||g>20)throw r();if(f[0]===0)throw e();if(_===0||_>20)throw r();if(v[0]===0)throw e();if(f[0]!==1){for(let A=0;A<_;A+=1)v[A]/=f[0];for(let A=1;A<g;A+=1)f[A]/=f[0]}const C=n(i,d,o,o);C.channelCount=o,C.channelCountMode=a,C.channelInterpretation=l;const k=32,N=[],P=[],T=[];for(let A=0;A<o;A+=1){N.push(0);const I=new Float32Array(k),R=new Float32Array(k);I.fill(0),R.fill(0),P.push(I),T.push(R)}C.onaudioprocess=A=>{const I=A.inputBuffer,R=A.outputBuffer,F=I.numberOfChannels;for(let j=0;j<F;j+=1){const U=I.getChannelData(j),$=R.getChannelData(j);N[j]=Pp(f,g,v,_,b,P[j],T[j],N[j],k,U,$)}};const x=i.sampleRate/2;return fi({get bufferSize(){return d},get channelCount(){return C.channelCount},set channelCount(A){C.channelCount=A},get channelCountMode(){return C.channelCountMode},set channelCountMode(A){C.channelCountMode=A},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(A){C.channelInterpretation=A},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...A){return C.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return C.dispatchEvent(A[0])},getFrequencyResponse(A,I,R){if(A.length!==I.length||I.length!==R.length)throw t();const F=A.length;for(let j=0;j<F;j+=1){const U=-Math.PI*(A[j]/x),$=[Math.cos(U),Math.sin(U)],Y=hd(v,$),z=hd(f,$),G=aP(Y,z);I[j]=Math.sqrt(G[0]*G[0]+G[1]*G[1]),R[j]=Math.atan2(G[1],G[0])}},removeEventListener(...A){return C.removeEventListener(A[0],A[1],A[2])}},C)},uP=(t,e)=>t.createMediaElementSource(e.mediaElement),hP=(t,e)=>{const n=t.createMediaStreamDestination();return pt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},dP=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((s,o)=>s.id<o.id?-1:s.id>o.id?1:0);const r=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(i,"mediaStream",{value:e}),i},fP=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const i=new MediaStream([r]),s=n.createMediaStreamSource(i);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return s},pP=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,mP=(t,e,n,r,i,s)=>(o,a)=>{const l=o.createOscillator();return pt(l,a),it(l,a,"detune"),it(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):Xe(l,a,"type"),e(n,()=>n(o))||Vc(l),e(r,()=>r(o))||s(l,o),e(i,()=>i(o))||Bc(l),t(o,l),l},gP=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(pt(r,n),it(r,n,"orientationX"),it(r,n,"orientationY"),it(r,n,"orientationZ"),it(r,n,"positionX"),it(r,n,"positionY"),it(r,n,"positionZ"),Xe(r,n,"coneInnerAngle"),Xe(r,n,"coneOuterAngle"),Xe(r,n,"coneOuterGain"),Xe(r,n,"distanceModel"),Xe(r,n,"maxDistance"),Xe(r,n,"panningModel"),Xe(r,n,"refDistance"),Xe(r,n,"rolloffFactor"),r)},vP=(t,e,n,r,i,s,o,a,l,u)=>(h,{coneInnerAngle:d,coneOuterAngle:f,coneOuterGain:v,distanceModel:g,maxDistance:_,orientationX:b,orientationY:C,orientationZ:k,panningModel:N,positionX:P,positionY:T,positionZ:x,refDistance:M,rolloffFactor:A,...I})=>{const R=h.createPanner();if(I.channelCount>2||I.channelCountMode==="max")throw o();pt(R,I);const F={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},j=n(h,{...F,channelInterpretation:"speakers",numberOfInputs:6}),U=r(h,{...I,gain:1}),$=r(h,{...F,gain:1}),Y=r(h,{...F,gain:0}),z=r(h,{...F,gain:0}),G=r(h,{...F,gain:0}),ne=r(h,{...F,gain:0}),B=r(h,{...F,gain:0}),W=i(h,256,6,1),q=s(h,{...F,curve:new Float32Array([1,1]),oversample:"none"});let Z=[b,C,k],ce=[P,T,x];const pe=new Float32Array(1);W.onaudioprocess=({inputBuffer:re})=>{const De=[l(re,pe,0),l(re,pe,1),l(re,pe,2)];De.some((ft,Pt)=>ft!==Z[Pt])&&(R.setOrientation(...De),Z=De);const et=[l(re,pe,3),l(re,pe,4),l(re,pe,5)];et.some((ft,Pt)=>ft!==ce[Pt])&&(R.setPosition(...et),ce=et)},Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ne.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0});const J={get bufferSize(){},get channelCount(){return R.channelCount},set channelCount(re){if(re>2)throw o();U.channelCount=re,R.channelCount=re},get channelCountMode(){return R.channelCountMode},set channelCountMode(re){if(re==="max")throw o();U.channelCountMode=re,R.channelCountMode=re},get channelInterpretation(){return R.channelInterpretation},set channelInterpretation(re){U.channelInterpretation=re,R.channelInterpretation=re},get coneInnerAngle(){return R.coneInnerAngle},set coneInnerAngle(re){R.coneInnerAngle=re},get coneOuterAngle(){return R.coneOuterAngle},set coneOuterAngle(re){R.coneOuterAngle=re},get coneOuterGain(){return R.coneOuterGain},set coneOuterGain(re){if(re<0||re>1)throw e();R.coneOuterGain=re},get context(){return R.context},get distanceModel(){return R.distanceModel},set distanceModel(re){R.distanceModel=re},get inputs(){return[U]},get maxDistance(){return R.maxDistance},set maxDistance(re){if(re<0)throw new RangeError;R.maxDistance=re},get numberOfInputs(){return R.numberOfInputs},get numberOfOutputs(){return R.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return Y.gain},get orientationZ(){return z.gain},get panningModel(){return R.panningModel},set panningModel(re){R.panningModel=re},get positionX(){return G.gain},get positionY(){return ne.gain},get positionZ(){return B.gain},get refDistance(){return R.refDistance},set refDistance(re){if(re<0)throw new RangeError;R.refDistance=re},get rolloffFactor(){return R.rolloffFactor},set rolloffFactor(re){if(re<0)throw new RangeError;R.rolloffFactor=re},addEventListener(...re){return U.addEventListener(re[0],re[1],re[2])},dispatchEvent(...re){return U.dispatchEvent(re[0])},removeEventListener(...re){return U.removeEventListener(re[0],re[1],re[2])}};d!==J.coneInnerAngle&&(J.coneInnerAngle=d),f!==J.coneOuterAngle&&(J.coneOuterAngle=f),v!==J.coneOuterGain&&(J.coneOuterGain=v),g!==J.distanceModel&&(J.distanceModel=g),_!==J.maxDistance&&(J.maxDistance=_),b!==J.orientationX.value&&(J.orientationX.value=b),C!==J.orientationY.value&&(J.orientationY.value=C),k!==J.orientationZ.value&&(J.orientationZ.value=k),N!==J.panningModel&&(J.panningModel=N),P!==J.positionX.value&&(J.positionX.value=P),T!==J.positionY.value&&(J.positionY.value=T),x!==J.positionZ.value&&(J.positionZ.value=x),M!==J.refDistance&&(J.refDistance=M),A!==J.rolloffFactor&&(J.rolloffFactor=A),(Z[0]!==1||Z[1]!==0||Z[2]!==0)&&R.setOrientation(...Z),(ce[0]!==0||ce[1]!==0||ce[2]!==0)&&R.setPosition(...ce);const fe=()=>{U.connect(R),t(U,q,0,0),q.connect($).connect(j,0,0),q.connect(Y).connect(j,0,1),q.connect(z).connect(j,0,2),q.connect(G).connect(j,0,3),q.connect(ne).connect(j,0,4),q.connect(B).connect(j,0,5),j.connect(W).connect(h.destination)},me=()=>{U.disconnect(R),a(U,q,0,0),q.disconnect($),$.disconnect(j),q.disconnect(Y),Y.disconnect(j),q.disconnect(z),z.disconnect(j),q.disconnect(G),G.disconnect(j),q.disconnect(ne),ne.disconnect(j),q.disconnect(B),B.disconnect(j),j.disconnect(W),W.disconnect(h.destination)};return u(fi(J,R),fe,me)},yP=t=>(e,{disableNormalization:n,imag:r,real:i})=>{const s=r instanceof Float32Array?r:new Float32Array(r),o=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(o,s,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},ss=(t,e,n,r)=>t.createScriptProcessor(e,n,r),_P=(t,e)=>(n,r)=>{const i=r.channelCountMode;if(i==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const s=n.createStereoPanner();return pt(s,r),it(s,r,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>i,set:o=>{if(o!==i)throw e()}}),s},bP=(t,e,n,r,i,s)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},h={...u,oversample:"none"},d=(g,_,b,C)=>{const k=new Float32Array(16385),N=new Float32Array(16385);for(let I=0;I<16385;I+=1){const R=I/16384*l;k[I]=Math.cos(R),N[I]=Math.sin(R)}const P=n(g,{...u,gain:0}),T=r(g,{...h,curve:k}),x=r(g,{...h,curve:a}),M=n(g,{...u,gain:0}),A=r(g,{...h,curve:N});return{connectGraph(){_.connect(P),_.connect(x.inputs===void 0?x:x.inputs[0]),_.connect(M),x.connect(b),b.connect(T.inputs===void 0?T:T.inputs[0]),b.connect(A.inputs===void 0?A:A.inputs[0]),T.connect(P.gain),A.connect(M.gain),P.connect(C,0,0),M.connect(C,0,1)},disconnectGraph(){_.disconnect(P),_.disconnect(x.inputs===void 0?x:x.inputs[0]),_.disconnect(M),x.disconnect(b),b.disconnect(T.inputs===void 0?T:T.inputs[0]),b.disconnect(A.inputs===void 0?A:A.inputs[0]),T.disconnect(P.gain),A.disconnect(M.gain),P.disconnect(C,0,0),M.disconnect(C,0,1)}}},f=(g,_,b,C)=>{const k=new Float32Array(16385),N=new Float32Array(16385),P=new Float32Array(16385),T=new Float32Array(16385),x=Math.floor(16385/2);for(let G=0;G<16385;G+=1)if(G>x){const ne=(G-x)/(16384-x)*l;k[G]=Math.cos(ne),N[G]=Math.sin(ne),P[G]=0,T[G]=1}else{const ne=G/(16384-x)*l;k[G]=1,N[G]=0,P[G]=Math.cos(ne),T[G]=Math.sin(ne)}const M=e(g,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),A=n(g,{...u,gain:0}),I=r(g,{...h,curve:k}),R=n(g,{...u,gain:0}),F=r(g,{...h,curve:N}),j=r(g,{...h,curve:a}),U=n(g,{...u,gain:0}),$=r(g,{...h,curve:P}),Y=n(g,{...u,gain:0}),z=r(g,{...h,curve:T});return{connectGraph(){_.connect(M),_.connect(j.inputs===void 0?j:j.inputs[0]),M.connect(A,0),M.connect(R,0),M.connect(U,1),M.connect(Y,1),j.connect(b),b.connect(I.inputs===void 0?I:I.inputs[0]),b.connect(F.inputs===void 0?F:F.inputs[0]),b.connect($.inputs===void 0?$:$.inputs[0]),b.connect(z.inputs===void 0?z:z.inputs[0]),I.connect(A.gain),F.connect(R.gain),$.connect(U.gain),z.connect(Y.gain),A.connect(C,0,0),U.connect(C,0,0),R.connect(C,0,1),Y.connect(C,0,1)},disconnectGraph(){_.disconnect(M),_.disconnect(j.inputs===void 0?j:j.inputs[0]),M.disconnect(A,0),M.disconnect(R,0),M.disconnect(U,1),M.disconnect(Y,1),j.disconnect(b),b.disconnect(I.inputs===void 0?I:I.inputs[0]),b.disconnect(F.inputs===void 0?F:F.inputs[0]),b.disconnect($.inputs===void 0?$:$.inputs[0]),b.disconnect(z.inputs===void 0?z:z.inputs[0]),I.disconnect(A.gain),F.disconnect(R.gain),$.disconnect(U.gain),z.disconnect(Y.gain),A.disconnect(C,0,0),U.disconnect(C,0,0),R.disconnect(C,0,1),Y.disconnect(C,0,1)}}},v=(g,_,b,C,k)=>{if(_===1)return d(g,b,C,k);if(_===2)return f(g,b,C,k);throw i()};return(g,{channelCount:_,channelCountMode:b,pan:C,...k})=>{if(b==="max")throw i();const N=t(g,{...k,channelCount:1,channelCountMode:b,numberOfInputs:2}),P=n(g,{...k,channelCount:_,channelCountMode:b,gain:1}),T=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:x,disconnectGraph:M}=v(g,_,P,T,N);Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(T.gain,"maxValue",{get:()=>1}),Object.defineProperty(T.gain,"minValue",{get:()=>-1});const A={get bufferSize(){},get channelCount(){return P.channelCount},set channelCount(j){P.channelCount!==j&&(I&&M(),{connectGraph:x,disconnectGraph:M}=v(g,j,P,T,N),I&&x()),P.channelCount=j},get channelCountMode(){return P.channelCountMode},set channelCountMode(j){if(j==="clamped-max"||j==="max")throw i();P.channelCountMode=j},get channelInterpretation(){return P.channelInterpretation},set channelInterpretation(j){P.channelInterpretation=j},get context(){return P.context},get inputs(){return[P]},get numberOfInputs(){return P.numberOfInputs},get numberOfOutputs(){return P.numberOfOutputs},get pan(){return T.gain},addEventListener(...j){return P.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return P.dispatchEvent(j[0])},removeEventListener(...j){return P.removeEventListener(j[0],j[1],j[2])}};let I=!1;const R=()=>{x(),I=!0},F=()=>{M(),I=!1};return s(fi(A,N),R,F)}},wP=(t,e,n,r,i,s,o)=>(a,l)=>{const u=a.createWaveShaper();if(s!==null&&s.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);pt(u,l);const h=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(h!==null&&h.length<2)throw e();Xe(u,{curve:h},"curve"),Xe(u,l,"oversample");let d=null,f=!1;return o(u,"curve",_=>()=>_.call(u),_=>b=>(_.call(u,b),f&&(r(b)&&d===null?d=t(a,u):!r(b)&&d!==null&&(d(),d=null)),b)),i(u,()=>{f=!0,r(u.curve)&&(d=t(a,u))},()=>{f=!1,d!==null&&(d(),d=null)})},TP=(t,e,n,r,i)=>(s,{curve:o,oversample:a,...l})=>{const u=s.createWaveShaper(),h=s.createWaveShaper();pt(u,l),pt(h,l);const d=n(s,{...l,gain:1}),f=n(s,{...l,gain:-1}),v=n(s,{...l,gain:1}),g=n(s,{...l,gain:-1});let _=null,b=!1,C=null;const k={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(T){d.channelCount=T,f.channelCount=T,u.channelCount=T,v.channelCount=T,h.channelCount=T,g.channelCount=T},get channelCountMode(){return u.channelCountMode},set channelCountMode(T){d.channelCountMode=T,f.channelCountMode=T,u.channelCountMode=T,v.channelCountMode=T,h.channelCountMode=T,g.channelCountMode=T},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(T){d.channelInterpretation=T,f.channelInterpretation=T,u.channelInterpretation=T,v.channelInterpretation=T,h.channelInterpretation=T,g.channelInterpretation=T},get context(){return u.context},get curve(){return C},set curve(T){if(T!==null&&T.length<2)throw e();if(T===null)u.curve=T,h.curve=T;else{const x=T.length,M=new Float32Array(x+2-x%2),A=new Float32Array(x+2-x%2);M[0]=T[0],A[0]=-T[x-1];const I=Math.ceil((x+1)/2),R=(x+1)/2-1;for(let F=1;F<I;F+=1){const j=F/I*R,U=Math.floor(j),$=Math.ceil(j);M[F]=U===$?T[U]:(1-(j-U))*T[U]+(1-($-j))*T[$],A[F]=U===$?-T[x-1-U]:-((1-(j-U))*T[x-1-U])-(1-($-j))*T[x-1-$]}M[I]=x%2===1?T[I-1]:(T[I-2]+T[I-1])/2,u.curve=M,h.curve=A}C=T,b&&(r(C)&&_===null?_=t(s,d):_!==null&&(_(),_=null))},get inputs(){return[d]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(T){u.oversample=T,h.oversample=T},addEventListener(...T){return d.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return d.dispatchEvent(T[0])},removeEventListener(...T){return d.removeEventListener(T[0],T[1],T[2])}};o!==null&&(k.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==k.oversample&&(k.oversample=a);const N=()=>{d.connect(u).connect(v),d.connect(f).connect(h).connect(g).connect(v),b=!0,r(C)&&(_=t(s,d))},P=()=>{d.disconnect(u),u.disconnect(v),d.disconnect(f),f.disconnect(h),h.disconnect(g),g.disconnect(v),b=!1,_!==null&&(_(),_=null)};return i(fi(k,v),N,P)},It=()=>new DOMException("","NotSupportedError"),PP={numberOfChannels:1},CP=(t,e,n,r,i)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:h,numberOfChannels:d,sampleRate:f}={...PP,...u},v=r(d,h,f);e(Bi,()=>Bi(v))||v.addEventListener("statechange",(()=>{let g=0;const _=b=>{this._state==="running"&&(g>0?(v.removeEventListener("statechange",_),b.stopImmediatePropagation(),this._waitForThePromiseToSettle(b)):g+=1)};return _})()),super(v,d),this._length=h,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,vp(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},xP={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},EP=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const h=i(l),d={...xP,...u},f=n(h,d),v=s(h),g=v?r():null,_=l.sampleRate/2;super(l,!1,f,g),this._detune=e(this,v,f.detune,153600,-153600),this._frequency=e(this,v,f.frequency,_,-_),this._nativeOscillatorNode=f,this._onended=null,this._oscillatorNodeRenderer=g,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const h=this._nativeOscillatorNode.onended;this._onended=h!==null&&h===u?l:h}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){ii(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),In(this)&&ts(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},MP=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null,l=null;const u=async(h,d)=>{let f=n(h);const v=Mt(f,d);if(!v){const g={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:o===null?void 0:o,type:f.type};f=e(d,g),a!==null&&f.start(a),l!==null&&f.stop(l)}return s.set(d,f),v?(await t(d,h.detune,f.detune),await t(d,h.frequency,f.frequency)):(await r(d,h.detune,f.detune),await r(d,h.frequency,f.frequency)),await i(h,d,f),f};return{set periodicWave(h){o=h},set start(h){a=h},set stop(h){l=h},render(h,d){const f=s.get(d);return f!==void 0?Promise.resolve(f):u(h,d)}}},SP={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},AP=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const h=i(l),d={...SP,...u},f=n(h,d),v=s(h),g=v?r():null;super(l,!1,f,g),this._nativePannerNode=f,this._orientationX=e(this,v,f.orientationX,At,jt),this._orientationY=e(this,v,f.orientationY,At,jt),this._orientationZ=e(this,v,f.orientationZ,At,jt),this._positionX=e(this,v,f.positionX,At,jt),this._positionY=e(this,v,f.positionY,At,jt),this._positionZ=e(this,v,f.positionZ,At,jt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},NP=(t,e,n,r,i,s,o,a,l,u)=>()=>{const h=new WeakMap;let d=null;const f=async(v,g)=>{let _=null,b=s(v);const C={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation},k={...C,coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,panningModel:b.panningModel,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor},N=Mt(b,g);if("bufferSize"in b)_=r(g,{...C,gain:1});else if(!N){const P={...k,orientationX:b.orientationX.value,orientationY:b.orientationY.value,orientationZ:b.orientationZ.value,positionX:b.positionX.value,positionY:b.positionY.value,positionZ:b.positionZ.value};b=i(g,P)}if(h.set(g,_===null?b:_),_!==null){if(d===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const F=new o(6,v.context.length,g.sampleRate),j=e(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});j.connect(F.destination),d=(async()=>{const U=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async($,Y)=>{const z=n(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Y===0?1:0});return await a(F,$,z.offset),z}));for(let $=0;$<6;$+=1)U[$].connect(j,0,$),U[$].start(0);return u(F)})()}const P=await d,T=r(g,{...C,gain:1});await l(v,g,T);const x=[];for(let F=0;F<P.numberOfChannels;F+=1)x.push(P.getChannelData(F));let M=[x[0][0],x[1][0],x[2][0]],A=[x[3][0],x[4][0],x[5][0]],I=r(g,{...C,gain:1}),R=i(g,{...k,orientationX:M[0],orientationY:M[1],orientationZ:M[2],positionX:A[0],positionY:A[1],positionZ:A[2]});T.connect(I).connect(R.inputs[0]),R.connect(_);for(let F=128;F<P.length;F+=128){const j=[x[0][F],x[1][F],x[2][F]],U=[x[3][F],x[4][F],x[5][F]];if(j.some(($,Y)=>$!==M[Y])||U.some(($,Y)=>$!==A[Y])){M=j,A=U;const $=F/g.sampleRate;I.gain.setValueAtTime(0,$),I=r(g,{...C,gain:0}),R=i(g,{...k,orientationX:M[0],orientationY:M[1],orientationZ:M[2],positionX:A[0],positionY:A[1],positionZ:A[2]}),I.gain.setValueAtTime(1,$),T.connect(I).connect(R.inputs[0]),R.connect(_)}}return _}return N?(await t(g,v.orientationX,b.orientationX),await t(g,v.orientationY,b.orientationY),await t(g,v.orientationZ,b.orientationZ),await t(g,v.positionX,b.positionX),await t(g,v.positionY,b.positionY),await t(g,v.positionZ,b.positionZ)):(await a(g,v.orientationX,b.orientationX),await a(g,v.orientationY,b.orientationY),await a(g,v.orientationZ,b.orientationZ),await a(g,v.positionX,b.positionX),await a(g,v.positionY,b.positionY),await a(g,v.positionZ,b.positionZ)),di(b)?await l(v,g,b.inputs[0]):await l(v,g,b),b};return{render(v,g){const _=h.get(g);return _!==void 0?Promise.resolve(_):f(v,g)}}},kP={disableNormalization:!1},OP=(t,e,n,r)=>class Mp{constructor(s,o){const a=e(s),l=r({...kP,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](s){return s!==null&&typeof s=="object"&&Object.getPrototypeOf(s)===Mp.prototype||n.has(s)}},IP=(t,e)=>(n,r,i)=>(t(r).replay(i),e(r,n,i)),DP=(t,e,n)=>async(r,i,s)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,h])=>{const f=await e(u).render(u,i),v=r.context.destination;!n(u)&&(r!==v||!n(r))&&f.connect(s,h,l)})).reduce((a,l)=>[...a,...l],[]))},RP=(t,e,n)=>async(r,i,s)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const h=await t(a).render(a,i);n(a)||h.connect(s,l)}))},jP=(t,e,n,r)=>i=>t(Bi,()=>Bi(i))?Promise.resolve(t(r,r)).then(s=>{if(!s){const o=n(i,512,0,1);i.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>i.currentTime,o.connect(i.destination)}return i.startRendering()}):new Promise(s=>{const o=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=a=>{o.disconnect(),s(a.renderedBuffer)},o.connect(i.destination),i.startRendering()}),FP=t=>(e,n)=>{t.set(e,n)},LP=t=>(e,n)=>t.set(e,n),VP=(t,e,n,r,i,s,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(r(u)).map(h=>n(h).render(h,u)))).then(()=>i(u)).then(h=>(typeof h.copyFromChannel!="function"?(o(h),jc(h)):e(s,()=>s(h))||a(h),t.add(h),h)),BP={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},WP=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=i(a),h={...BP,...l},d=n(u,h),f=s(u),v=f?r():null;super(a,!1,d,v),this._pan=e(this,f,d.pan)}get pan(){return this._pan}},$P=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const h=Mt(u,l);if(!h){const d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,d)}return s.set(l,u),h?await t(l,a.pan,u.pan):await r(l,a.pan,u.pan),di(u)?await i(a,l,u.inputs[0]):await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},UP=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},qP=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),i=URL.createObjectURL(n);let s=!1,o=!1;try{await r.audioWorklet.addModule(i);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>s=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(i)}return s&&!o},HP=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(i=>{n.oncomplete=()=>{r.disconnect(),i(n.currentTime!==0)},n.startRendering()})},zP=()=>new DOMException("","UnknownError"),GP={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},YP=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const h=i(l),d={...GP,...u},f=n(h,d),g=s(h)?r():null;super(l,!0,f,g),this._isCurveNullified=!1,this._nativeWaveShaperNode=f,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},XP=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!Mt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return r.set(o,a),di(a)?await n(s,o,a.inputs[0]):await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},QP=()=>typeof window>"u"?null:window,ZP=(t,e)=>n=>{n.copyFromChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),h=r.length;for(let d=o<0?-o:0;d+o<l&&d<h;d+=1)r[d]=u[d+o]},n.copyToChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),h=r.length;for(let d=o<0?-o:0;d+o<l&&d<h;d+=1)u[d+o]=r[d]}},KP=t=>e=>{e.copyFromChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},JP=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",i=>()=>{const s=i.call(e);return s===r?null:s},i=>s=>i.call(e,s===null?r:s))},eC=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)i.connect(r,0,l)},()=>i.disconnect(r))},Sp=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Ap=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},os=(t,e,n,r)=>{let i=t;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:s,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(s),set:r(o)})},tC=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),nC=t=>({...t,channelCount:t.numberOfOutputs}),rC=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Np=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;Np(t,e,n+1e-7)}},iC=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},sC=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},oC=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Wc=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},kp=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},$c=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},aC=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},lC=t=>{t.start=(e=>(n=0,r=0,i)=>{const s=t.buffer,o=s===null?r:Math.min(s.duration,r);s!==null&&o>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})(t.start)},Op=(t,e)=>{const n=e.createGain();t.connect(n);const r=(i=>()=>{i.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),fi(t,n),t.stop=(i=>{let s=!1;return(o=0)=>{if(s)try{i.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else i.call(t,o),s=!0}})(t.stop)},pi=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},cC=Aw(Or),uC=Rw(Or),hC=G0(xa),Ip=new WeakMap,dC=hT(Ip),pn=P0(new Map,new WeakMap),Tn=QP(),Dp=WT(pn,xn),Uc=uT(Nt),Tt=DP(Nt,Uc,Er),fC=Bw(Dp,Ge,Tt),Ue=pT(Ca),$n=pP(Tn),Fe=kT($n),Rp=new WeakMap,jp=rT(pi),as=HT(Tn),qc=MT(as),Hc=ST(Tn),Fp=AT(Tn),Wi=GT(Tn),lt=h0(Nw(up),Dw(cC,uC,po,hC,mo,Nt,dC,es,Ge,Or,In,Er,to),pn,TT(ql,mo,Nt,Ge,Vi,In),xn,Ea,It,U0(po,ql,Nt,Ge,Vi,Ue,In,Fe),Q0(Rp,Nt,hn),jp,Ue,qc,Hc,Fp,Fe,Wi),pC=Vw(lt,fC,xn,Dp,Ue,Fe),zc=new WeakSet,dd=$T(Tn),Lp=j0(new Uint32Array(1)),Gc=ZP(Lp,xn),Yc=KP(Lp),Vp=$w(zc,pn,It,dd,$n,UP(dd),Gc,Yc),Ma=jw(Lt),Bp=RP(Uc,ns,Er),En=N0(Bp),mi=qT(Ma,pn,iC,sC,oC,Wc,kp,$c,lC,JP(os),Op),Mn=IP(dT(ns),Bp),mC=Hw(En,mi,Ge,Mn,Tt),mn=d0(kw(hp),Rp,Rc,f0,Pw,Cw,xw,Ew,Mw,Wl,lp,as,Np),gC=qw(lt,mC,mn,gt,mi,Ue,Fe,pi),vC=e0(lt,t0,xn,gt,zT(Lt,os),Ue,Fe,Tt),yC=T0(En,xp,Ge,Mn,Tt),Ir=LP(Ip),_C=w0(lt,mn,yC,Ea,xp,Ue,Fe,Ir),or=VT(Or,Hc),bC=eC(gt,or),ar=eP(as,bC),wC=E0(ar,Ge,Tt),TC=x0(lt,wC,ar,Ue,Fe),PC=A0(is,Ge,Tt),CC=S0(lt,PC,is,Ue,Fe,nC),xC=rP(Ma,mi,Lt,or),gi=nP(Ma,pn,xC,Wc,$c),EC=R0(En,gi,Ge,Mn,Tt),MC=D0(lt,mn,EC,gi,Ue,Fe,pi),Wp=iP(It,os),SC=V0(Wp,Ge,Tt),AC=L0(lt,SC,Wp,Ue,Fe,Ir),NC=z0(En,Ep,Ge,Mn,Tt),kC=H0(lt,mn,NC,Ep,Ue,Fe,Ir),$p=sP(It),OC=eT(En,$p,Ge,Mn,Tt),IC=J0(lt,mn,OC,$p,It,Ue,Fe,Ir),DC=lT(En,Lt,Ge,Mn,Tt),RC=aT(lt,mn,DC,Lt,Ue,Fe),jC=cP(Ea,gt,ss,It),Sa=jP(pn,Lt,ss,HP(Lt,$n)),FC=wT(mi,Ge,$n,Tt,Sa),LC=oP(jC),VC=_T(lt,LC,FC,Ue,Fe,Ir),BC=n0(mn,ar,gi,ss,It,Sp,Fe,os),Up=new WeakMap,WC=LT(vC,BC,jp,Fe,Up,pi),qp=mP(Ma,pn,Wc,kp,$c,Op),$C=MP(En,qp,Ge,Mn,Tt),UC=EP(lt,mn,qp,$C,Ue,Fe,pi),Hp=O0(mi),qC=TP(Hp,gt,Lt,Ap,or),Aa=wP(Hp,gt,qC,Ap,or,as,os),HC=vP(po,gt,ar,Lt,ss,Aa,It,mo,Sp,or),zp=gP(HC),zC=NP(En,ar,gi,Lt,zp,Ge,$n,Mn,Tt,Sa),GC=AP(lt,mn,zp,zC,Ue,Fe,Ir),YC=yP(xn),XC=OP(YC,Ue,new WeakSet,rC),QC=bP(ar,is,Lt,Aa,It,or),Gp=_P(QC,It),ZC=$P(En,Gp,Ge,Mn,Tt),KC=WP(lt,mn,Gp,ZC,Ue,Fe),JC=XP(Aa,Ge,Tt),ex=YP(lt,gt,Aa,JC,Ue,Fe,Ir),Yp=OT(Tn),Xc=iT(Tn),Xp=new WeakMap,tx=mT(Xp,$n),nx=Yp?Iw(pn,It,nT(Tn),Xc,sT(Sw),Ue,tx,Fe,Wi,new WeakMap,new WeakMap,qP(Wi,$n),Tn):void 0,rx=NT(qc,Fe),ix=$0(zc,pn,W0,tT,new WeakSet,Ue,rx,ho,Bi,Gc,Yc),Qp=_0(nx,pC,Vp,gC,_C,TC,CC,MC,AC,ix,kC,IC,RC,VC,WC,UC,GC,XC,KC,ex),sx=IT(lt,uP,Ue,Fe),ox=RT(lt,hP,Ue,Fe),ax=jT(lt,dP,Ue,Fe),lx=fP(gt,Fe),cx=FT(lt,lx,Ue),ux=Jw(Qp,gt,It,zP,sx,ox,ax,cx,as),Qc=gT(Up),hx=Fw(Qc),Zp=k0(xn),dx=Y0(Qc),Kp=Z0(xn),Jp=new WeakMap,fx=cT(Jp,hn),px=JT(Zp,xn,gt,ar,is,gi,Lt,ss,It,Kp,Xc,fx,or),mx=XT(gt,px,Lt,It,or),gx=y0(En,Zp,mi,ar,is,gi,Lt,dx,Kp,Xc,Ge,Wi,$n,Mn,Tt,Sa),vx=fT(Xp),yx=FP(Jp),fd=Yp?m0(hx,lt,mn,gx,mx,Nt,vx,Ue,Fe,Wi,tC,yx,aC,pi):void 0,_x=B0(It,$n),bx=VP(zc,pn,Uc,Qc,Sa,ho,Gc,Yc),wx=CP(Qp,pn,gt,_x,bx),Tx=PT(Ca,qc),Px=CT(Dc,Hc),Cx=xT(Rc,Fp),xx=ET(Ca,Fe);function Jt(t){return t===void 0}function xe(t){return t!==void 0}function Ex(t){return typeof t=="function"}function tr(t){return typeof t=="number"}function Tr(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function Mx(t){return typeof t=="boolean"}function qt(t){return Array.isArray(t)}function Rn(t){return typeof t=="string"}function Us(t){return Rn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function ge(t,e){if(!t)throw new Error(e)}function nr(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function em(t){!t.isOffline&&t.state!=="running"&&Na('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let tm=!1,pd=!1;function md(t){tm=t}function Sx(t){Jt(t)&&tm&&!pd&&(pd=!0,Na("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let nm=console;function Ax(...t){nm.log(...t)}function Na(...t){nm.warn(...t)}function Nx(t){return new ux(t)}function kx(t,e,n){return new wx(t,e,n)}const Pr=typeof self=="object"?self:null,Ox=Pr&&(Pr.hasOwnProperty("AudioContext")||Pr.hasOwnProperty("webkitAudioContext"));function Ix(t,e,n){return ge(xe(fd),"This node only works in a secure context (https or localhost)"),new fd(t,e,n)}function gn(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function dt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(d){o(d)}}function l(h){try{u(r.throw(h))}catch(d){o(d)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}class Dx{constructor(e,n,r,i){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(i||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Mr(t){return Cx(t)}function er(t){return Px(t)}function no(t){return xx(t)}function Ur(t){return Tx(t)}function Rx(t){return t instanceof Vp}function jx(t,e){return t==="value"||Mr(e)||er(e)||Rx(e)}function Cr(t,...e){if(!e.length)return t;const n=e.shift();if(Tr(t)&&Tr(n))for(const r in n)jx(r,n[r])?t[r]=n[r]:Tr(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Cr(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Cr(t,...e)}function Fx(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function H(t,e,n=[],r){const i={},s=Array.from(e);if(Tr(s[0])&&r&&!Reflect.has(s[0],r)&&(Object.keys(s[0]).some(a=>Reflect.has(t,a))||(Cr(i,{[r]:s[0]}),n.splice(n.indexOf(r),1),s.shift())),s.length===1&&Tr(s[0]))Cr(i,s[0]);else for(let o=0;o<n.length;o++)xe(s[o])&&(i[n[o]]=s[o]);return Cr(t,i)}function Lx(t){return t.constructor.getDefaults()}function Zr(t,e){return Jt(t)?e:t}function br(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Un{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Pr&&this.toString()===Pr.TONE_DEBUG_CLASS)&&Ax(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Un.version=ap;const Zc=1e-6;function si(t,e){return t>e+Zc}function Xl(t,e){return si(t,e)||ln(t,e)}function _o(t,e){return t+Zc<e}function ln(t,e){return Math.abs(t-e)<Zc}function Vx(t,e,n){return Math.max(Math.min(t,n),e)}class en extends Un{constructor(){super(),this.name="Timeline",this._timeline=[];const e=H(en.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(ge(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];ge(Xl(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(ln(this._timeline[n].time,e)){for(let r=n;r>=0&&ln(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Xl(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const i=this._timeline.length;let s=i;if(i>0&&this._timeline[i-1][n]<=e)return i-1;for(;r<s;){let o=Math.floor(r+(s-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(ln(a[n],e)){for(let u=o;u<this._timeline.length;u++){const h=this._timeline[u];if(ln(h[n],e))o=u;else break}return o}else{if(_o(a[n],e)&&si(l[n],e))return o;si(a[n],e)?s=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let i=this._search(e),s=this._search(n);return i!==-1&&s!==-1?(this._timeline[i].time!==e&&(i+=1),this._timeline[s].time===n&&(s-=1),this._iterate(r,i,s)):i===-1&&this._iterate(r,0,s),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&ln(this._timeline[r].time,e)){let i=r;for(let s=r;s>=0&&ln(this._timeline[s].time,e);s--)i=s;this._iterate(s=>{n(s)},i,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const rm=[];function ka(t){rm.push(t)}function Bx(t){rm.forEach(e=>e(t))}const im=[];function Oa(t){im.push(t)}function Wx(t){im.forEach(e=>e(t))}class ls extends Un{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(i=>{Jt(this._events)&&(this._events={}),this._events.hasOwnProperty(i)||(this._events[i]=[]),this._events[i].push(n)}),this}once(e,n){const r=(...i)=>{n(...i),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(i=>{if(Jt(this._events)&&(this._events={}),this._events.hasOwnProperty(i))if(Jt(n))this._events[i]=[];else{const s=this._events[i];for(let o=s.length-1;o>=0;o--)s[o]===n&&s.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let i=0,s=r.length;i<s;i++)r[i].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(ls.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class sm extends ls{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class cs extends sm{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new en,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=H(cs.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=Nx({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new Dx(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Bx(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return ge(Ur(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return ge(Ur(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return ge(Ur(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){ge(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){ge(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){ge(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){ge(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return Ix(this.rawContext,e,n)}addAudioWorkletModule(e){return dt(this,void 0,void 0,function*(){ge(xe(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return dt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ur(this._context)?this._context.resume():Promise.resolve()}close(){return dt(this,void 0,void 0,function*(){Ur(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&Wx(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let s=0;s<r.length;s++)r[s]=e;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=n,i.loop=!0,i.start(0),this._constants.set(e,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,i=()=>{const s=this.now();this._timeouts.add({callback:()=>{e(),i()},id:r,time:s+n})};return i(),r}}class $x extends sm{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return dt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Le(t,e){qt(e)?e.forEach(n=>Le(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function om(t,e){qt(e)?e.forEach(n=>om(t,n)):Object.defineProperty(t,e,{writable:!0})}const je=()=>{};class ze extends Un{constructor(){super(),this.name="ToneAudioBuffer",this.onload=je;const e=H(ze.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Rn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:je,onload:je,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:cn().sampleRate}set(e){return e instanceof ze?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return dt(this,void 0,void 0,function*(){const n=ze.load(e).then(r=>{this.set(r),this.onload(this)});ze.downloads.push(n);try{yield n}finally{const r=ze.downloads.indexOf(n);ze.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=qt(e)&&e[0].length>0,r=n?e.length:1,i=n?e[0].length:e.length,s=cn(),o=s.createBuffer(r,i,s.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(tr(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let i=0;i<r;i++){const s=this.toArray(i);for(let o=0;o<s.length;o++)n[o]+=s[o]}n=n.map(i=>i/r),this.fromArray(n)}return this}toArray(e){if(tr(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){ge(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),i=Math.floor(n*this.sampleRate);ge(r<i,"The start time must be less than the end time");const s=i-r,o=cn().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,i),a);return new ze(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new ze().fromArray(e)}static fromUrl(e){return dt(this,void 0,void 0,function*(){return yield new ze().load(e)})}static load(e){return dt(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let u=l[0];for(const h of l)if(ze.supportsType(h)){u=h;break}e=e.replace(n[0],u)}const r=ze.baseUrl===""||ze.baseUrl.endsWith("/")?ze.baseUrl:ze.baseUrl+"/",i=document.createElement("a");i.href=r+e,i.pathname=(i.pathname+i.hash).split("/").map(encodeURIComponent).join("/");const s=yield fetch(i.href);if(!s.ok)throw new Error(`could not load url: ${e}`);const o=yield s.arrayBuffer();return yield cn().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return dt(this,void 0,void 0,function*(){for(yield Promise.resolve();ze.downloads.length;)yield ze.downloads[0]})}}ze.baseUrl="";ze.downloads=[];class Kc extends cs{constructor(){super({clockSource:"offline",context:no(arguments[0])?arguments[0]:kx(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:no(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=no(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return dt(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(i=>setTimeout(i,1)))}})}render(e=!0){return dt(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new ze(n)})}close(){return Promise.resolve()}}const am=new $x;let zr=am;function cn(){return zr===am&&Ox&&Ux(new cs),zr}function Ux(t,e=!1){e&&zr.dispose(),Ur(t)?zr=new cs(t):no(t)?zr=new Kc(t):zr=t}if(Pr&&!Pr.TONE_SILENCE_LOGGING){const e=` * Tone.js v${ap} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function qx(t){return Math.pow(10,t/20)}function Hx(t){return 20*(Math.log(t)/Math.LN10)}function lm(t){return Math.pow(2,t/12)}let Ia=440;function zx(){return Ia}function Gx(t){Ia=t}function wr(t){return Math.round(cm(t))}function cm(t){return 69+12*Math.log2(t/Ia)}function um(t){return Ia*Math.pow(2,(t-69)/12)}class Jc extends Un{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),i=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/r)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let i=0;return e&&e!=="0"&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(i+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(i+=this._beatsToUnits(parseFloat(r)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Jc&&this.fromType(this._val),Jt(this._val))return this._noArg();if(Rn(this._val)&&Jt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Tr(this._val)){let e=0;for(const n in this._val)if(xe(this._val[n])){const r=this._val[n],i=new this.constructor(this.context,n).valueOf()*r;e+=i}return e}if(xe(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return Rn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class un extends Jc{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new un(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),i=this.valueOf(),a=Math.round(i/r)*r-i;return i+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let s=1;s<9;s++){const o=Math.pow(2,s);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],i=new un(this.context,n[0]).toSeconds();return n.forEach(s=>{const o=new un(this.context,s).toSeconds();Math.abs(o-e)<Math.abs(i-e)&&(r=s,i=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let i=n%1*4;n=Math.floor(n)%this._getTimeSignature();const s=i.toString();return s.length>3&&(i=parseFloat(parseFloat(s).toFixed(3))),[r,n,i].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return wr(this.toFrequency())}_now(){return this.context.now()}}class Ut extends un{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return zx()}static set A4(e){Gx(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Ut.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const i=Yx[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?i:Ut.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let i=1;return e&&e!=="0"&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(i*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(i*=this._beatsToUnits(parseFloat(r)/4)),i}}})}transpose(e){return new Ut(this.context,this.valueOf()*lm(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return wr(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Ut.A4);let r=Math.round(12*n)+57;const i=Math.floor(r/12);return i<0&&(r+=-12*i),Xx[r%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return um(e)}static ftom(e){return wr(e)}}const Yx={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Xx=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Ii extends un{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ft extends Un{constructor(){super();const e=H(Ft.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:cn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return Sx(e),new un(this.context,e).toSeconds()}toFrequency(e){return new Ut(this.context,e).toFrequency()}toTicks(e){return new Ii(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{Jt(e[r])&&delete n[r]}),n}get(){const e=Lx(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];xe(r)&&xe(r.value)&&xe(r.setValueAtTime)?e[n]=r.value:r instanceof Ft?e[n]=r._getPartialProperties(e[n]):qt(r)||tr(r)||Rn(r)||Mx(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&xe(this[n])&&(this[n]&&xe(this[n].value)&&xe(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Ft?this[n].set(e[n]):this[n]=e[n])}),this}}class eu extends en{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return nr(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let i=r;i>=0;i--){const s=this._timeline[i];if(s.state===e)return s}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let i=r;i<this._timeline.length;i++){const s=this._timeline[i];if(s.state===e)return s}}}class ke extends Ft{constructor(){super(H(ke.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=H(ke.getDefaults(),arguments,["param","units","convert"]);for(ge(xe(e.param)&&(Mr(e.param)||e.param instanceof ke),"param must be an AudioParam");!Mr(e.param);)e.param=e.param._param;this._swappable=xe(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new en(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,xe(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ft.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return xe(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return xe(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return xe(this.maxValue)&&xe(this.minValue)&&nr(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?qx(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?Hx(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),i=this._fromType(e);return ge(isFinite(i)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),i=this._events.get(n);let s=this._initialValue;if(i===null)s=this._initialValue;else if(i.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(i.time);let a;o===null?a=this._initialValue:a=o.value,i.type==="setTargetAtTime"&&(s=this._exponentialApproach(i.time,a,i.value,i.constant,n))}else if(r===null)s=i.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=i.value;if(i.type==="setTargetAtTime"){const a=this._events.getBefore(i.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?s=this._linearInterpolate(i.time,o,r.time,r.value,n):s=this._exponentialInterpolate(i.time,o,r.time,r.value,n)}else s=i.value;return this._toType(s)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),i=this.toSeconds(n);return ge(isFinite(r)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:i,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,i),this._param.linearRampToValueAtTime(r,i),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=ln(r,0)?this._minOutput:r,this._assertRange(r);const i=this.toSeconds(n);return ge(isFinite(r)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,i),this._param.exponentialRampToValueAtTime(r,i),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const i=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,i),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const i=this._fromType(e);ge(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const s=this.toSeconds(n);return this._assertRange(i),ge(isFinite(i)&&isFinite(s),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:s,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",e,s,r),this._param.setTargetAtTime(i,s,r),this}setValueCurveAtTime(e,n,r,i=1){r=this.toSeconds(r),n=this.toSeconds(n);const s=this._fromType(e[0])*i;this.setValueAtTime(this._toType(s),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*i;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return ge(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));ge(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const i=this._events.get(n),s=this._events.getAfter(n);return i&&ln(i.time,n)?s?(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):s&&(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time),s.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):s.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const i=this._events.getAfter(r.time),s=i?i.time:n+2,o=(s-n)/10;for(let a=n;a<s;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,i=>{i.type==="cancelScheduledValues"?e.cancelScheduledValues(i.time):i.type==="setTargetAtTime"?e.setTargetAtTime(i.value,i.time,i.constant):e[i.type](i.value,i.time)}),this}setParam(e){ge(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,i,s){return r+(n-r)*Math.exp(-(s-e)/i)}_linearInterpolate(e,n,r,i,s){return n+(i-n)*((s-e)/(r-e))}_exponentialInterpolate(e,n,r,i,s){return n*Math.pow(i/n,(s-e)/(r-e))}}class ye extends Ft{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return xe(this.input)?Mr(this.input)||this.input instanceof ke?1:this.input.numberOfInputs:0}get numberOfOutputs(){return xe(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return xe(e)&&(e instanceof ye||er(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();ge(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return jn(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Na("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return hm(this,e,n,r),this}chain(...e){return bo(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),xe(this.input)&&(this.input instanceof ye?this.input.dispose():er(this.input)&&this.input.disconnect()),xe(this.output)&&(this.output instanceof ye?this.output.dispose():er(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function bo(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof ye?n.connect(r):er(n)&&jn(n,r),r),e)}function jn(t,e,n=0,r=0){for(ge(xe(t),"Cannot connect from undefined node"),ge(xe(e),"Cannot connect to undefined node"),(e instanceof ye||er(e))&&ge(e.numberOfInputs>0,"Cannot connect to node with no inputs"),ge(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof ye||e instanceof ke;)xe(e.input)&&(e=e.input);for(;t instanceof ye;)xe(t.output)&&(t=t.output);Mr(e)?t.connect(e,n):t.connect(e,n,r)}function hm(t,e,n=0,r=0){if(xe(e))for(;e instanceof ye;)e=e.input;for(;!er(t);)xe(t.output)&&(t=t.output);Mr(e)?t.disconnect(e,n):er(e)?t.disconnect(e,n,r):t.disconnect()}class $e extends ye{constructor(){super(H($e.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=H($e.getDefaults(),arguments,["gain","units"]);this.gain=new ke({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Le(this,"gain")}static getDefaults(){return Object.assign(ye.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class oi extends ye{constructor(e){super(e),this.onended=je,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new $e({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(ye.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:je})}_startGain(e,n=1){ge(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){ge(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==je&&(this.onended(this),this.onended=je,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ge(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=je,this}}class wo extends oi{constructor(){super(H(wo.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=H(wo.getDefaults(),arguments,["offset"]);jn(this._source,this._gainNode),this.offset=new ke({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(oi.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class qe extends ye{constructor(){super(H(qe.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=H(qe.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new wo({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ye.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return Da(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,i){return this._param.setValueCurveAtTime(e,n,r,i),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Da(t,e,n,r){(e instanceof ke||Mr(e)||e instanceof qe&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof qe&&(e.overridden=!0)),jn(t,e,n,r)}class To extends ke{constructor(){super(H(To.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new en(1/0),this._multiplier=1;const e=H(To.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ke.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const i=this._fromType(e),s=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,u=this._exponentialApproach(s.time,s.value,i,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const i=this._events.get(r),s=this._events.previousEvent(i),o=this._getTicksUntilEvent(s,r);return i.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const i=this._events.get(r),s=this._events.previousEvent(i),o=this._getTicksUntilEvent(s,r);return i.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),i=this._events.get(n),s=Math.round(Math.max((n-i.time)*10,1)),o=(n-i.time)/s;for(let a=0;a<=s;a++){const l=o*a+i.time,u=this._exponentialInterpolate(i.time,i.value,n,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Jt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let i=this._fromType(this.getValueAtTime(n));const s=this._events.get(n);return s&&s.time===n&&s.type==="setValueAtTime"&&(i=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+i)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),i=this.getTicksAtTime(n);return this.getTimeOfTick(i+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const i=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-i)/(r.time-n.time),a=Math.sqrt(Math.pow(i,2)-2*o*(n.ticks-e)),l=(-i+a)/o,u=(-i-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),i=this.toSeconds(e),s=this.getTicksAtTime(r);return this.getTicksAtTime(r+i)-s}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Po extends qe{constructor(){super(H(Po.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=H(Po.getDefaults(),arguments,["value"]);this.input=this._param=new To({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(qe.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Co extends Ft{constructor(){super(H(Co.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new eu,this._tickOffset=new en,this._ticksAtTime=new en,this._secondsAtTime=new en;const e=H(Co.getDefaults(),arguments,["frequency"]);this.frequency=new Po({context:this.context,units:e.units,value:e.frequency}),Le(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ft.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),xe(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),i=this._ticksAtTime.get(n),s={state:"paused",time:n};this._state.add(s);let o=i||r,a=i?i.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,u=>{let h=o.time;const d=this._tickOffset.get(u.time);d&&d.time>=o.time&&(a=d.ticks,h=d.time),o.state==="started"&&u.state!=="started"&&(a+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(h),u.time!==s.time&&(l={state:u.state,time:u.time,ticks:a})),o=u}),this._state.remove(s),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const i=this._secondsAtTime.get(e);let s=i||n,o=i?i.seconds:0,a=null;return this._state.forEachBetween(s.time,e+this.sampleTime,l=>{let u=s.time;const h=this._tickOffset.get(l.time);h&&h.time>=s.time&&(o=h.seconds,u=h.time),s.state==="started"&&l.state!=="started"&&(o+=l.time-u,l.time!==r.time&&(a={state:l.state,time:l.time,seconds:o})),s=l}),this._state.remove(r),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),i=this._state.get(n),s=Math.max(r.time,i.time),o=this.frequency.getTicksAtTime(s)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let i=this._state.get(e);this._state.forEachBetween(e,n,o=>{i&&i.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(i.time,e),o.time-this.sampleTime,r),i=o});let s=null;if(i&&i.state==="started"){const o=Math.max(i.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(i.time),u=a-l;let h=Math.ceil(u)-u;h=ln(h,1)?0:h;let d=this.frequency.getTimeOfTick(a+h);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(f){s=f;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(s)throw s;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class $i extends Ft{constructor(){super(H($i.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=je,this._lastUpdate=0,this._state=new eu("stopped"),this._boundLoop=this._loop.bind(this);const e=H($i.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Co({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Le(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ft.getDefaults(),{callback:je,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){em(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),i=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(i+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const i=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,i);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,i)=>{this.callback(r,i)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}ls.mixin($i);class xo extends ye{constructor(){super(H(xo.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=H(xo.getDefaults(),arguments,["delayTime","maxDelay"]),n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new ke({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Le(this,"delayTime")}static getDefaults(){return Object.assign(ye.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class tu extends Un{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=H(tu.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:je,onload:je,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return ge(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=je,i=je){return Rn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ze(this.baseUrl+n,r,i))):this._buffers.set(e.toString(),new ze(n,r,i)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Eo extends Ut{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return wr(super._frequencyToUnits(e))}_ticksToUnits(e){return wr(super._ticksToUnits(e))}_beatsToUnits(e){return wr(super._beatsToUnits(e))}_secondsToUnits(e){return wr(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return um(this.toMidi())}transpose(e){return new Eo(this.context,this.toMidi()+e)}}class Gr extends Ii{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Qx extends Ft{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new en,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}ka(t=>{t.draw=new Qx({context:t})});Oa(t=>{t.draw.dispose()});class Zx extends Un{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){ge(xe(e.time),"Events must have a time property"),ge(xe(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new Kx(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,i=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,i=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,i=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,i=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,i=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),i&&this._rebalance(i)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),i=e.right;i&&(e.right=i.left,i.left=e),n!==null?r?n.left=i:n.right=i:this._setRoot(i)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),i=e.left;i&&(e.left=i.right,i.right=e),n!==null?r?n.left=i:n.right=i:this._setRoot(i)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let i=1;i<n.length;i++)n[i].low>r.low&&(r=n[i]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(i=>{i.event&&n(i.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(i=>{i.event&&n(i.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class Kx{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Sr extends ye{constructor(){super(H(Sr.getDefaults(),arguments,["volume"])),this.name="Volume";const e=H(Sr.getDefaults(),arguments,["volume"]);this.input=this.output=new $e({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Le(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(ye.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Mo extends ye{constructor(){super(H(Mo.getDefaults(),arguments)),this.name="Destination",this.input=new Sr({context:this.context}),this.output=new $e({context:this.context}),this.volume=this.input.volume;const e=H(Mo.getDefaults(),arguments);bo(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ye.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),bo(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}ka(t=>{t.destination=new Mo({context:t})});Oa(t=>{t.destination.dispose()});class Jx extends Un{constructor(e){super(),this.name="TimelineValue",this._timeline=new en({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Pn extends ye{constructor(){super(Object.assign(H(Pn.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return Da(this,e,n,r),this}}class Ar extends Pn{constructor(){super(Object.assign(H(Ar.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=H(Ar.getDefaults(),arguments,["mapping","length"]);qt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Ex(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(qe.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let i=0,s=n;i<s;i++){const o=i/(s-1)*2-1;r[i]=e(o,i)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));ge(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class So extends Pn{constructor(){super(Object.assign(H(So.getDefaults(),arguments,["value"]))),this.name="Pow";const e=H(So.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Ar({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Pn.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class rr{constructor(e,n){this.id=rr._eventId++,this._remainderTime=0;const r=Object.assign(rr.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:je,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}rr._eventId=0;class nu extends rr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(nu.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},rr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return _o(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Gr(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){_o(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Gr(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);si(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Ui extends Ft{constructor(){super(H(Ui.getDefaults(),arguments)),this.name="Transport",this._loop=new Jx(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new en,this._repeatedEvents=new Zx,this._syncedSignals=[],this._swingAmount=0;const e=H(Ui.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new $i({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Le(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ft.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),i=Math.sin(r*Math.PI)*this._swingAmount;e+=new Gr(this.context,this._swingTicks*2/3).toSeconds()*i}md(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),md(!1)}schedule(e,n){const r=new rr(this,{callback:e,time:new Ii(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,i=1/0){const s=new nu(this,{callback:e,duration:new un(this.context,i).toTicks(),interval:new un(this.context,n).toTicks(),time:new Ii(this.context,r).toTicks()});return this._addEvent(s,this._repeatedEvents)}scheduleOnce(e,n){const r=new rr(this,{callback:e,once:!0,time:new Ii(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Gr(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return xe(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){qt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new un(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new un(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Gr(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Gr(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),i=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),s=n+i;this.emit("stop",s),this._clock.setTicksAtTime(e,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),i=e-r%e;return this._clock.nextTickTime(i,n)}}syncSignal(e,n){const r=this.now();let i=this.bpm,s=1/(60/i.getValueAtTime(r)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/s,u=new $e(l),h=new So(-1),d=new $e(l);i.chain(u,h,d),i=d,s=1/s,o=[u,h,d]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/s:n=0);const a=new $e(n);return i.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(i=>i.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),om(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ls.mixin(Ui);ka(t=>{t.transport=new Ui({context:t})});Oa(t=>{t.transport.dispose()});class Ot extends ye{constructor(e){super(e),this.input=void 0,this._state=new eu("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=je,this._syncedStop=je,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Sr({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Le(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(ye.getDefaults(),{mute:!1,onstop:je,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let i=Jt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(i=this._clampToCurrentTime(i),!this._synced&&this._state.getValueAtTime(i)==="started")ge(si(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,n,r);else if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const s=this._state.get(i);s&&(s.offset=this.toSeconds(Zr(n,0)),s.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},i);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else em(this.context),this._start(i,n,r);return this}stop(e){let n=Jt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||xe(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(si(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const i=n-this.toSeconds(r.time);let s;r.duration&&(s=this.toSeconds(r.duration)-i),this._start(e,this.toSeconds(r.offset)+i,s)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=je,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class qi extends oi{constructor(){super(H(qi.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=H(qi.getDefaults(),arguments,["url","onload"]);jn(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ke({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ze(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(oi.getDefaults(),{url:new ze,loop:!1,loopEnd:0,loopStart:0,onload:je,onerror:je,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,i=1){ge(this.buffer.loaded,"buffer is either not set or not loaded");const s=this.toSeconds(e);this._startGain(s,i),this.loop?n=Zr(n,this.loopStart):n=Zr(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;Xl(o,a)&&(o=(o-l)%u+l),ln(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,_o(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(s,o)),xe(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(s+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Dr(t,e){return dt(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new Kc(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Ao extends oi{constructor(){super(H(Ao.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=H(Ao.getDefaults(),arguments,["frequency","type"]);jn(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new ke({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new ke({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Le(this,["frequency","detune"])}static getDefaults(){return Object.assign(oi.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Je extends Ot{constructor(){super(H(Je.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=H(Je.getDefaults(),arguments,["frequency","type"]);this.frequency=new qe({context:this.context,units:"frequency",value:e.frequency}),Le(this,"frequency"),this.detune=new qe({context:this.context,units:"cents",value:e.detune}),Le(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Ot.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Ao({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Je._periodicWaveCache.find(n=>n.phase===this._phase&&Fx(n.partials,this._partials));{const e=Je._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(xe(r)){const{partials:i,wave:s}=r;this._wave=s,this._partials=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[i,s]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(i,s);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Je._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),Je._periodicWaveCache.length>100&&Je._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){nr(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const i=new Float32Array(e);this._partials.forEach((s,o)=>i[o]=s),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(e,n){let i=2048;const s=new Float32Array(i),o=new Float32Array(i);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,i=a,this._partials.length===0)return[s,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),i=a):this._partialCount=0,this._partials=[]}for(let l=1;l<i;++l){const u=2/(l*Math.PI);let h;switch(e){case"sine":h=l<=a?1:0,this._partials[l-1]=h;break;case"square":h=l&1?2*u:0,this._partials[l-1]=h;break;case"sawtooth":h=u*(l&1?1:-1),this._partials[l-1]=h;break;case"triangle":l&1?h=2*(u*u)*(l-1>>1&1?-1:1):h=0,this._partials[l-1]=h;break;case"custom":h=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}h!==0?(s[l]=-h*Math.sin(n*l),o[l]=h*Math.cos(n*l)):(s[l]=0,o[l]=0)}return[s,o]}_inverseFFT(e,n,r){let i=0;const s=e.length;for(let o=0;o<s;o++)i+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return i}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const i=Math.PI*2,s=32;for(let o=0;o<s;o++)r=Math.max(this._inverseFFT(e,n,o/s*i),r);return Vx(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Dr(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Je._periodicWaveCache=[];class ru extends Pn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ar({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Fn extends qe{constructor(){super(Object.assign(H(Fn.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=H(Fn.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new $e({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(qe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Hi extends Ot{constructor(){super(H(Hi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new ru({context:this.context}),this._modulationNode=new $e({context:this.context});const e=H(Hi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Je({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Je({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Fn({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Le(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Je.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Dr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class zi extends Ot{constructor(){super(H(zi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new $e({context:this.context,gain:0});const e=H(zi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Je({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new qe({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Je({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Fn({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Fn({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Le(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Je.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Dr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ai extends Ot{constructor(){super(H(ai.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new $e({context:this.context,gain:0}),this._thresh=new Ar({context:this.context,mapping:n=>n<=0?-1:1});const e=H(ai.getDefaults(),arguments,["frequency","width"]);this.width=new qe({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Je({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Le(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ot.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Dr(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Gi extends Ot{constructor(){super(H(Gi.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=H(Gi.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new qe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new qe({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Le(this,["frequency","detune"])}static getDefaults(){return Object.assign(Je.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((i,s)=>i.detune.value=n+r*s)}}get count(){return this._oscillators.length}set count(e){if(nr(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new Je({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):je});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Dr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Yi extends Ot{constructor(){super(H(Yi.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Fn({context:this.context,value:2});const e=H(Yi.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new ai({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Je({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Le(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ot.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Dr(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const gd={am:Hi,fat:Gi,fm:zi,oscillator:Je,pulse:ai,pwm:Yi};class Nr extends Ot{constructor(){super(H(Nr.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=H(Nr.getDefaults(),arguments,["frequency","type"]);this.frequency=new qe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new qe({context:this.context,units:"cents",value:e.detune}),Le(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Je.getDefaults(),zi.getDefaults(),Hi.getDefaults(),Gi.getDefaults(),ai.getDefaults(),Yi.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=gd[e],r=this.now();if(this._oscillator){const i=this._oscillator;i.stop(r),this.context.setTimeout(()=>i.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof gd[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&tr(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&tr(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Rn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Dr(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class iu extends qe{constructor(){super(Object.assign(H(iu.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new $e({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,bo(this._constantSource,this._sum)}static getDefaults(){return Object.assign(qe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class No extends Pn{constructor(){super(Object.assign(H(No.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=H(No.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Fn({context:this.context,value:e.max-e.min}),this._add=this.output=new iu({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Pn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class su extends Pn{constructor(){super(Object.assign(H(su.getDefaults(),arguments))),this.name="Zero",this._gain=new $e({context:this.context}),this.output=this._gain,this.input=void 0,jn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),hm(this.context.getConstant(0),this._gain),this}}class ko extends ye{constructor(){super(H(ko.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=ke.prototype._fromType,this._toType=ke.prototype._toType,this._is=ke.prototype._is,this._clampValue=ke.prototype._clampValue;const e=H(ko.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Je(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new $e({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new qe({context:this.context,units:"audioRange",value:0}),this._zeros=new su({context:this.context}),this._a2g=new ru({context:this.context}),this._scaler=this.output=new No({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Le(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Je.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,r=this.max;this._units=e,this.min=n,this.max=r}get state(){return this._oscillator.state}connect(e,n,r){return(e instanceof ke||e instanceof qe)&&(this.convert=e.convert,this.units=e.units),Da(this,e,n,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function dm(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){nr(s,t,e),n.set(this,s)}})}}function qn(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){nr(this.toSeconds(s),t,e),n.set(this,s)}})}}class Xi extends Ot{constructor(){super(H(Xi.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=H(Xi.getDefaults(),arguments,["url","onload"]);this._buffer=new ze({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ot.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:je,onerror:je,playbackRate:1,reverse:!1})}load(e){return dt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=je){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Zr(n,this._loopStart):n=Zr(n,0);const i=this.toSeconds(n),s=r;r=Zr(r,Math.max(this._buffer.duration-i,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new qi({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Jt(s)?a.start(e,i):a.start(e,i,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var i;(i=[...this._activeSources].pop())===null||i===void 0||i.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const i=this.toSeconds(e);this._stop(r),this._start(r,i)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&nr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&nr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(i=>i.cancelStop())),this._activeSources.forEach(i=>{i.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}gn([qn(0)],Xi.prototype,"fadeIn",void 0);gn([qn(0)],Xi.prototype,"fadeOut",void 0);class eE extends Pn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Ar({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class dn extends ye{constructor(){super(H(dn.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new qe({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=H(dn.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(ye.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Rn(e))return e;{let r;for(r in qs)if(qs[r][n]===e)return r;return e}}_setCurve(e,n,r){if(Rn(r)&&Reflect.has(qs,r)){const i=qs[r];Tr(i)?e!=="_decayCurve"&&(this[e]=i[n]):this[e]=i}else if(qt(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let i=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/i;i=(1-o)/a}if(i<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,i,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,i,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,i,n)}if(s&&this.sustain<1){const a=n*this.sustain,l=e+i;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,s+l):this._sig.exponentialApproachValueAtTime(a,l,s)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(ge(qt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return Da(this,e,n,r),this}asArray(e=1024){return dt(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,r=new Kc(1,n,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),s=i+this.toSeconds(this.release),o=s*.1,a=s+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(i+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}gn([qn(0)],dn.prototype,"attack",void 0);gn([qn(0)],dn.prototype,"decay",void 0);gn([dm(0,1)],dn.prototype,"sustain",void 0);gn([qn(0)],dn.prototype,"release",void 0);const qs=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const i=[],s=6.4;for(e=0;e<127;e++){n=e/127;const f=Math.sin(n*(Math.PI*2)*s-Math.PI/2)+1;i[e]=f/10+n*.83}i[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/127;const f=Math.pow(n,3)*4+.2,v=Math.cos(f*Math.PI*2*n);u[e]=Math.abs(v*(1-n))}function h(f){const v=new Array(f.length);for(let g=0;g<f.length;g++)v[g]=1-f[g];return v}function d(f){return f.slice(0).reverse()}return{bounce:{In:h(u),Out:u},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:i,Out:h(i)},sine:{In:l,Out:h(l)},step:{In:o,Out:h(o)}}})();class Ln extends ye{constructor(){super(H(Ln.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n);const e=H(Ln.getDefaults(),arguments);this._volume=this.output=new Sr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Le(this,"volume")}static getDefaults(){return Object.assign(ye.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...i)=>{const s=i[n],o=this.context.transport.schedule(a=>{i[n]=a,r.apply(this,i)},s);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,i){const s=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,s,i),this.triggerRelease(s+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Cn extends Ln{constructor(){super(H(Cn.getDefaults(),arguments));const e=H(Cn.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Ln.getDefaults(),{detune:0,onsilence:je,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const i=this.toSeconds(n);return this._triggerEnvelopeAttack(i,r),this.setNote(e,i),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),i=e instanceof Ut?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const s=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,s,r)}else this.frequency.setValueAtTime(i,r);return this}}gn([qn(0)],Cn.prototype,"portamento",void 0);class ou extends dn{constructor(){super(H(ou.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new $e({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ir extends Cn{constructor(){super(H(ir.getDefaults(),arguments)),this.name="Synth";const e=H(ir.getDefaults(),arguments);this.oscillator=new Nr(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ou(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Le(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Cn.getDefaults(),{envelope:Object.assign(br(dn.getDefaults(),Object.keys(ye.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(br(Nr.getDefaults(),[...Object.keys(Ot.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),i=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+i)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Oo extends Cn{constructor(){super(H(Oo.getDefaults(),arguments)),this.name="ModulationSynth";const e=H(Oo.getDefaults(),arguments);this._carrier=new ir({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new ir({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new qe({context:this.context,units:"frequency"}),this.detune=new qe({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new Fn({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new $e({context:this.context,gain:0}),Le(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Cn.getDefaults(),{harmonicity:3,oscillator:Object.assign(br(Nr.getDefaults(),[...Object.keys(Ot.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(br(dn.getDefaults(),Object.keys(ye.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(br(Nr.getDefaults(),[...Object.keys(Ot.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(br(dn.getDefaults(),Object.keys(ye.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,n){this._carrier._triggerEnvelopeAttack(e,n),this._modulator._triggerEnvelopeAttack(e,n)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class au extends Oo{constructor(){super(H(au.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new ru({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Qi extends ir{constructor(){super(H(Qi.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=H(Qi.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Le(this,["oscillator","envelope"])}static getDefaults(){return Cr(Cn.getDefaults(),ir.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),i=this.toFrequency(e instanceof Ut?e.toFrequency():e),s=i*this.octaves;return this.oscillator.frequency.setValueAtTime(s,r),this.oscillator.frequency.exponentialRampToValueAtTime(i,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}gn([dm(0)],Qi.prototype,"octaves",void 0);gn([qn(0)],Qi.prototype,"pitchDecay",void 0);const fm=new Set;function lu(t){fm.add(t)}function pm(t,e){const n=`registerProcessor("${t}", ${e})`;fm.add(n)}const tE=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;lu(tE);const nE=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;lu(nE);const rE=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;lu(rE);const iE="feedback-comb-filter",sE=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;pm(iE,sE);class sr extends Ln{constructor(){super(H(sr.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=i=>this.releaseAll(i);const e=H(sr.getDefaults(),arguments,["voice","options"]);ge(!tr(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Ln.getDefaults(),{maxPolyphony:32,options:{},voice:ir})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return ge(e instanceof Cn,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Na("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,r){e.forEach(i=>{const s=new Eo(this.context,i).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(i,n,r),this._activeVoices.push({midi:s,voice:o,released:!1}),this.log("triggerAttack",i,n))})}_triggerRelease(e,n){e.forEach(r=>{const i=new Eo(this.context,r).toMidi(),s=this._activeVoices.find(({midi:o,released:a})=>o===i&&!a);s&&(s.voice.triggerRelease(n),s.released=!0,this.log("triggerRelease",r,n))})}_scheduleEvent(e,n,r,i){ge(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(n,r,i):this._triggerRelease(n,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,r,i)},r-this.now())}triggerAttack(e,n,r){Array.isArray(e)||(e=[e]);const i=this.toSeconds(n);return this._scheduleEvent("attack",e,i,r),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,n,r,i){const s=this.toSeconds(r);if(this.triggerAttack(e,s,i),qt(n)){ge(qt(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=n[Math.min(o,n.length-1)],l=this.toSeconds(a);ge(l>0,"The duration must be greater than 0"),this.triggerRelease(e[o],s+l)}}else{const o=this.toSeconds(n);ge(o>0,"The duration must be greater than 0"),this.triggerRelease(e,s+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=br(e,["onsilence","context"]);return this.options=Cr(this.options,n),this._voices.forEach(r=>r.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Zi extends Ln{constructor(){super(H(Zi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=H(Zi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{const i=parseInt(r,10);if(ge(Us(r)||tr(i)&&isFinite(i),`url key is neither a note or midi pitch: ${r}`),Us(r)){const s=new Ut(this.context,r).toMidi();n[s]=e.urls[r]}else tr(i)&&isFinite(i)&&(n[i]=e.urls[i])}),this._buffers=new tu({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Ln.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:je,onerror:je,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(i=>{const s=cm(new Ut(this.context,i).toFrequency()),o=Math.round(s),a=s-o,l=this._findClosest(o),u=o-l,h=this._buffers.get(u),d=lm(l+a),f=new qi({url:h,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);f.start(n,0,h.duration/d,r),qt(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(f),f.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const v=this._activeSources.get(o),g=v.indexOf(f);g!==-1&&v.splice(g,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=new Ut(this.context,r).toMidi();if(this._activeSources.has(i)&&this._activeSources.get(i).length){const s=this._activeSources.get(i);n=this.toSeconds(n),s.forEach(o=>{o.stop(n)}),this._activeSources.set(i,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,i=1){const s=this.toSeconds(r);return this.triggerAttack(e,s,i),qt(n)?(ge(qt(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,s+this.toSeconds(l))})):this.triggerRelease(e,s+this.toSeconds(n)),this}add(e,n,r){if(ge(Us(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Us(e)){const i=new Ut(this.context,e).toMidi();this._buffers.add(i,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}gn([qn(0)],Zi.prototype,"attack",void 0);gn([qn(0)],Zi.prototype,"release",void 0);class Io extends ye{constructor(){super(Object.assign(H(Io.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new eE({context:this.context}),this.a=new $e({context:this.context,gain:0}),this.b=new $e({context:this.context,gain:0}),this.output=new $e({context:this.context}),this._internalChannels=[this.a,this.b];const e=H(Io.getDefaults(),arguments,["fade"]);this.fade=new qe({context:this.context,units:"normalRange",value:e.fade}),Le(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",jn(this._split,this.a.gain,0),jn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ye.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class vd extends ye{constructor(e){super(e),this.name="Effect",this._dryWet=new Io({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new $e({context:this.context}),this.effectReturn=new $e({context:this.context}),this.input=new $e({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Le(this,"wet")}static getDefaults(){return Object.assign(ye.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Do extends ye{constructor(){super(Object.assign(H(Do.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=H(Do.getDefaults(),arguments,["pan"]);this.pan=new ke({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Le(this,"pan")}static getDefaults(){return Object.assign(ye.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const oE="bit-crusher",aE=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;pm(oE,aE);class Ro extends vd{constructor(){super(H(Ro.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const e=H(Ro.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new xo({context:this.context,delayTime:0,maxDelay:e.maxDelay}),this._lfo=new ko({context:this.context,type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,Le(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(vd.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class at extends ye{constructor(){super(H(at.getDefaults(),arguments,["solo"])),this.name="Solo";const e=H(at.getDefaults(),arguments,["solo"]);this.input=this.output=new $e({context:this.context}),at._allSolos.has(this.context)||at._allSolos.set(this.context,new Set),at._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(ye.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),at._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){at._soloed.has(this.context)||at._soloed.set(this.context,new Set),at._soloed.get(this.context).add(this)}_removeSolo(){at._soloed.has(this.context)&&at._soloed.get(this.context).delete(this)}_isSoloed(){return at._soloed.has(this.context)&&at._soloed.get(this.context).has(this)}_noSolos(){return!at._soloed.has(this.context)||at._soloed.has(this.context)&&at._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),at._allSolos.get(this.context).delete(this),this._removeSolo(),this}}at._allSolos=new Map;at._soloed=new Map;class jo extends ye{constructor(){super(H(jo.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=H(jo.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Do({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Sr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Le(this,["pan","volume"])}static getDefaults(){return Object.assign(ye.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class vr extends ye{constructor(){super(H(vr.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=H(vr.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new at({solo:e.solo,context:this.context}),this._panVol=this.output=new jo({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Le(this,["pan","volume"])}static getDefaults(){return Object.assign(ye.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return vr.buses.has(e)||vr.buses.set(e,new $e({context:this.context})),vr.buses.get(e)}send(e,n=0){const r=this._getBus(e),i=new $e({context:this.context,units:"decibels",gain:n});return this.connect(i),i.connect(r),i}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}vr.buses=new Map;class lE extends ye{constructor(){super(...arguments),this.name="Listener",this.positionX=new ke({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ke({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ke({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ke({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ke({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ke({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ke({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ke({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ke({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ye.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}ka(t=>{t.listener=new lE({context:t})});Oa(t=>{t.listener.dispose()});cn().transport;cn().destination;cn().destination;cn().listener;cn().draw;const yd=cn();var oe={},Ql={exports:{}};(function(t,e){(function(n,r){var i="1.0.39",s="",o="?",a="function",l="undefined",u="object",h="string",d="major",f="model",v="name",g="type",_="vendor",b="version",C="architecture",k="console",N="mobile",P="tablet",T="smarttv",x="wearable",M="embedded",A=500,I="Amazon",R="Apple",F="ASUS",j="BlackBerry",U="Browser",$="Chrome",Y="Edge",z="Firefox",G="Google",ne="Huawei",B="LG",W="Microsoft",q="Motorola",Z="Opera",ce="Samsung",pe="Sharp",J="Sony",fe="Xiaomi",me="Zebra",re="Facebook",De="Chromium OS",et="Mac OS",ft=" Browser",Pt=function(_e,de){var K={};for(var Ee in _e)de[Ee]&&de[Ee].length%2===0?K[Ee]=de[Ee].concat(_e[Ee]):K[Ee]=_e[Ee];return K},bt=function(_e){for(var de={},K=0;K<_e.length;K++)de[_e[K].toUpperCase()]=_e[K];return de},Ct=function(_e,de){return typeof _e===h?X(de).indexOf(X(_e))!==-1:!1},X=function(_e){return _e.toLowerCase()},ae=function(_e){return typeof _e===h?_e.replace(/[^\d\.]/g,s).split(".")[0]:r},Ae=function(_e,de){if(typeof _e===h)return _e=_e.replace(/^\s\s*/,s),typeof de===l?_e:_e.substring(0,A)},Pe=function(_e,de){for(var K=0,Ee,sn,wt,we,ue,Dt;K<de.length&&!ue;){var ur=de[K],Ps=de[K+1];for(Ee=sn=0;Ee<ur.length&&!ue&&ur[Ee];)if(ue=ur[Ee++].exec(_e),ue)for(wt=0;wt<Ps.length;wt++)Dt=ue[++sn],we=Ps[wt],typeof we===u&&we.length>0?we.length===2?typeof we[1]==a?this[we[0]]=we[1].call(this,Dt):this[we[0]]=we[1]:we.length===3?typeof we[1]===a&&!(we[1].exec&&we[1].test)?this[we[0]]=Dt?we[1].call(this,Dt,we[2]):r:this[we[0]]=Dt?Dt.replace(we[1],we[2]):r:we.length===4&&(this[we[0]]=Dt?we[3].call(this,Dt.replace(we[1],we[2])):r):this[we]=Dt||r;K+=2}},be=function(_e,de){for(var K in de)if(typeof de[K]===u&&de[K].length>0){for(var Ee=0;Ee<de[K].length;Ee++)if(Ct(de[K][Ee],_e))return K===o?r:K}else if(Ct(de[K],_e))return K===o?r:K;return de.hasOwnProperty("*")?de["*"]:_e},Ce={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},We={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},st={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[v,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[v,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[v,b],[/opios[\/ ]+([\w\.]+)/i],[b,[v,Z+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[b,[v,Z+" GX"]],[/\bopr\/([\w\.]+)/i],[b,[v,Z]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[b,[v,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[v,b],[/quark(?:pc)?\/([-\w\.]+)/i],[b,[v,"Quark"]],[/\bddg\/([\w\.]+)/i],[b,[v,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[v,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[b,[v,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[v,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[v,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[b,[v,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[b,[v,"Smart Lenovo "+U]],[/(avast|avg)\/([\w\.]+)/i],[[v,/(.+)/,"$1 Secure "+U],b],[/\bfocus\/([\w\.]+)/i],[b,[v,z+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[v,Z+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[v,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[v,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[v,Z+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[v,"MIUI "+U]],[/fxios\/([-\w\.]+)/i],[b,[v,z]],[/\bqihu|(qi?ho?o?|360)browser/i],[[v,"360"+ft]],[/\b(qq)\/([\w\.]+)/i],[[v,/(.+)/,"$1Browser"],b],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[v,/(.+)/,"$1"+ft],b],[/samsungbrowser\/([\w\.]+)/i],[b,[v,ce+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[v,/_/g," "],b],[/metasr[\/ ]?([\d\.]+)/i],[b,[v,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[v,"Sogou Mobile"],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[v,b],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[v],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[v,re],b],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[v,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[v,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[b,[v,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[v,$+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[v,$+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[v,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[v,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[v,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,v],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[v,[b,be,Ce]],[/(webkit|khtml)\/([\w\.]+)/i],[v,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[v,"Netscape"],b],[/(wolvic)\/([\w\.]+)/i],[v,b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[v,z+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[v,[b,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[v,[b,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[C,"amd64"]],[/(ia32(?=;))/i],[[C,X]],[/((?:i[346]|x)86)[;\)]/i],[[C,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/windows (ce|mobile); ppc;/i],[[C,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[C,/ower/,s,X]],[/(sun4\w)[;\)]/i],[[C,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[C,X]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[_,ce],[g,P]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[_,ce],[g,N]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[_,R],[g,N]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[_,R],[g,P]],[/(macintosh);/i],[f,[_,R]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[_,pe],[g,N]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[_,ne],[g,P]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[_,ne],[g,N]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[_,fe],[g,N]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[_,fe],[g,P]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[_,"OPPO"],[g,N]],[/\b(opd2\d{3}a?) bui/i],[f,[_,"OPPO"],[g,P]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[_,"Vivo"],[g,N]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[_,"Realme"],[g,N]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[_,q],[g,N]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[_,q],[g,P]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[_,B],[g,P]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[_,B],[g,N]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[_,"Lenovo"],[g,P]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[_,"Nokia"],[g,N]],[/(pixel c)\b/i],[f,[_,G],[g,P]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[_,G],[g,N]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[_,J],[g,N]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[_,J],[g,P]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[_,"OnePlus"],[g,N]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[_,I],[g,P]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[_,I],[g,N]],[/(playbook);[-\w\),; ]+(rim)/i],[f,_,[g,P]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[_,j],[g,N]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[_,F],[g,P]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[_,F],[g,N]],[/(nexus 9)/i],[f,[_,"HTC"],[g,P]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[_,[f,/_/g," "],[g,N]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[_,"TCL"],[g,P]],[/(itel) ((\w+))/i],[[_,X],f,[g,be,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[_,"Acer"],[g,P]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[_,"Meizu"],[g,N]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[_,"Ulefone"],[g,N]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[_,"Nothing"],[g,N]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[_,f,[g,N]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[_,f,[g,P]],[/(surface duo)/i],[f,[_,W],[g,P]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[_,"Fairphone"],[g,N]],[/(u304aa)/i],[f,[_,"AT&T"],[g,N]],[/\bsie-(\w*)/i],[f,[_,"Siemens"],[g,N]],[/\b(rct\w+) b/i],[f,[_,"RCA"],[g,P]],[/\b(venue[\d ]{2,7}) b/i],[f,[_,"Dell"],[g,P]],[/\b(q(?:mv|ta)\w+) b/i],[f,[_,"Verizon"],[g,P]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[_,"Barnes & Noble"],[g,P]],[/\b(tm\d{3}\w+) b/i],[f,[_,"NuVision"],[g,P]],[/\b(k88) b/i],[f,[_,"ZTE"],[g,P]],[/\b(nx\d{3}j) b/i],[f,[_,"ZTE"],[g,N]],[/\b(gen\d{3}) b.+49h/i],[f,[_,"Swiss"],[g,N]],[/\b(zur\d{3}) b/i],[f,[_,"Swiss"],[g,P]],[/\b((zeki)?tb.*\b) b/i],[f,[_,"Zeki"],[g,P]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[_,"Dragon Touch"],f,[g,P]],[/\b(ns-?\w{0,9}) b/i],[f,[_,"Insignia"],[g,P]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[_,"NextBook"],[g,P]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[_,"Voice"],f,[g,N]],[/\b(lvtel\-)?(v1[12]) b/i],[[_,"LvTel"],f,[g,N]],[/\b(ph-1) /i],[f,[_,"Essential"],[g,N]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[_,"Envizen"],[g,P]],[/\b(trio[-\w\. ]+) b/i],[f,[_,"MachSpeed"],[g,P]],[/\btu_(1491) b/i],[f,[_,"Rotor"],[g,P]],[/(shield[\w ]+) b/i],[f,[_,"Nvidia"],[g,P]],[/(sprint) (\w+)/i],[_,f,[g,N]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[_,W],[g,N]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[_,me],[g,P]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[_,me],[g,N]],[/smart-tv.+(samsung)/i],[_,[g,T]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[_,ce],[g,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[_,B],[g,T]],[/(apple) ?tv/i],[_,[f,R+" TV"],[g,T]],[/crkey/i],[[f,$+"cast"],[_,G],[g,T]],[/droid.+aft(\w+)( bui|\))/i],[f,[_,I],[g,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[_,pe],[g,T]],[/(bravia[\w ]+)( bui|\))/i],[f,[_,J],[g,T]],[/(mitv-\w{5}) bui/i],[f,[_,fe],[g,T]],[/Hbbtv.*(technisat) (.*);/i],[_,f,[g,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[_,Ae],[f,Ae],[g,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[_,f,[g,k]],[/droid.+; (shield) bui/i],[f,[_,"Nvidia"],[g,k]],[/(playstation [345portablevi]+)/i],[f,[_,J],[g,k]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[_,W],[g,k]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[_,ce],[g,x]],[/((pebble))app/i],[_,f,[g,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[_,R],[g,x]],[/droid.+; (glass) \d/i],[f,[_,G],[g,x]],[/droid.+; (wt63?0{2,3})\)/i],[f,[_,me],[g,x]],[/(quest( \d| pro)?)/i],[f,[_,re],[g,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[_,[g,M]],[/(aeobc)\b/i],[f,[_,I],[g,M]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[g,N]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,P]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,P]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,N]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[_,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[v,Y+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[v,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[v,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,v]],os:[[/microsoft (windows) (vista|xp)/i],[v,b],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[v,[b,be,We]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[b,be,We],[v,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[v,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[v,et],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,v],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[v,b],[/\(bb(10);/i],[b,[v,j]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[v,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[v,z+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[v,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[b,[v,"watchOS"]],[/crkey\/([\d\.]+)/i],[b,[v,$+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[v,De],b],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[v,b],[/(sunos) ?([\w\.\d]*)/i],[[v,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[v,b]]},Oe=function(_e,de){if(typeof _e===u&&(de=_e,_e=r),!(this instanceof Oe))return new Oe(_e,de).getResult();var K=typeof n!==l&&n.navigator?n.navigator:r,Ee=_e||(K&&K.userAgent?K.userAgent:s),sn=K&&K.userAgentData?K.userAgentData:r,wt=de?Pt(st,de):st,we=K&&K.userAgent==Ee;return this.getBrowser=function(){var ue={};return ue[v]=r,ue[b]=r,Pe.call(ue,Ee,wt.browser),ue[d]=ae(ue[b]),we&&K&&K.brave&&typeof K.brave.isBrave==a&&(ue[v]="Brave"),ue},this.getCPU=function(){var ue={};return ue[C]=r,Pe.call(ue,Ee,wt.cpu),ue},this.getDevice=function(){var ue={};return ue[_]=r,ue[f]=r,ue[g]=r,Pe.call(ue,Ee,wt.device),we&&!ue[g]&&sn&&sn.mobile&&(ue[g]=N),we&&ue[f]=="Macintosh"&&K&&typeof K.standalone!==l&&K.maxTouchPoints&&K.maxTouchPoints>2&&(ue[f]="iPad",ue[g]=P),ue},this.getEngine=function(){var ue={};return ue[v]=r,ue[b]=r,Pe.call(ue,Ee,wt.engine),ue},this.getOS=function(){var ue={};return ue[v]=r,ue[b]=r,Pe.call(ue,Ee,wt.os),we&&!ue[v]&&sn&&sn.platform&&sn.platform!="Unknown"&&(ue[v]=sn.platform.replace(/chrome os/i,De).replace(/macos/i,et)),ue},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ee},this.setUA=function(ue){return Ee=typeof ue===h&&ue.length>A?Ae(ue,A):ue,this},this.setUA(Ee),this};Oe.VERSION=i,Oe.BROWSER=bt([v,b,d]),Oe.CPU=bt([C]),Oe.DEVICE=bt([f,_,g,k,N,T,P,x,M]),Oe.ENGINE=Oe.OS=bt([v,b]),t.exports&&(e=t.exports=Oe),e.UAParser=Oe;var tt=typeof n!==l&&(n.jQuery||n.Zepto);if(tt&&!tt.ua){var Me=new Oe;tt.ua=Me.getResult(),tt.ua.get=function(){return Me.getUA()},tt.ua.set=function(_e){Me.setUA(_e);var de=Me.getResult();for(var K in de)tt.ua[K]=de[K]}}})(typeof window=="object"?window:yr)})(Ql,Ql.exports);var cE=Ql.exports;Object.defineProperty(oe,"__esModule",{value:!0});function uE(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Et=Q,He=uE(Et),mm=cE,lr=new mm,St=lr.getBrowser(),hE=lr.getCPU(),Yt=lr.getDevice(),cu=lr.getEngine(),cr=lr.getOS(),us=lr.getUA(),gm=function(e){return lr.setUA(e)},hs=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new mm(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},vm=Object.freeze({ClientUAInstance:lr,browser:St,cpu:hE,device:Yt,engine:cu,os:cr,ua:us,setUa:gm,parseUserAgent:hs});function _d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_d(Object(n),!0).forEach(function(r){gE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Di(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Di=function(e){return typeof e}:Di=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(t)}function fE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mE(t,e,n){return e&&pE(t.prototype,e),t}function gE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zl(){return Zl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}function vE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jl(t,e)}function Kl(t){return Kl=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Kl(t)}function Jl(t,e){return Jl=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Jl(t,e)}function yE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rn(t,e){if(t==null)return{};var n=yE(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ro(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _E(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ro(t)}function bE(t,e){return wE(t)||TE(t,e)||PE(t,e)||CE()}function wE(t){if(Array.isArray(t))return t}function TE(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function PE(t,e){if(t){if(typeof t=="string")return bd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bd(t,e)}}function bd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xt={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},Vt={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},vi={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},xE={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},EE=function(e){switch(e){case xt.Mobile:return{isMobile:!0};case xt.Tablet:return{isTablet:!0};case xt.SmartTv:return{isSmartTV:!0};case xt.Console:return{isConsole:!0};case xt.Wearable:return{isWearable:!0};case xt.Browser:return{isBrowser:!0};case xt.Embedded:return{isEmbedded:!0};default:return xE}},ME=function(e){return gm(e)},ve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},uu=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},hu=function(e){var n=uu();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},SE=function(e,n,r,i,s){return{isBrowser:e,browserMajorVersion:ve(n.major),browserFullVersion:ve(n.version),browserName:ve(n.name),engineName:ve(r.name),engineVersion:ve(r.version),osName:ve(i.name),osVersion:ve(i.version),userAgent:ve(s)}},wd=function(e,n,r,i){return dE({},e,{vendor:ve(n.vendor),model:ve(n.model),os:ve(r.name),osVersion:ve(r.version),ua:ve(i)})},AE=function(e,n,r,i){return{isSmartTV:e,engineName:ve(n.name),engineVersion:ve(n.version),osName:ve(r.name),osVersion:ve(r.version),userAgent:ve(i)}},NE=function(e,n,r,i){return{isConsole:e,engineName:ve(n.name),engineVersion:ve(n.version),osName:ve(r.name),osVersion:ve(r.version),userAgent:ve(i)}},kE=function(e,n,r,i){return{isWearable:e,engineName:ve(n.name),engineVersion:ve(n.version),osName:ve(r.name),osVersion:ve(r.version),userAgent:ve(i)}},OE=function(e,n,r,i,s){return{isEmbedded:e,vendor:ve(n.vendor),model:ve(n.model),engineName:ve(r.name),engineVersion:ve(r.version),osName:ve(i.name),osVersion:ve(i.version),userAgent:ve(s)}};function IE(t){var e=t?hs(t):vm,n=e.device,r=e.browser,i=e.engine,s=e.os,o=e.ua,a=EE(n.type),l=a.isBrowser,u=a.isMobile,h=a.isTablet,d=a.isSmartTV,f=a.isConsole,v=a.isWearable,g=a.isEmbedded;if(l)return SE(l,r,i,s,o);if(d)return AE(d,i,s,o);if(f)return NE(f,i,s,o);if(u||h)return wd(a,n,s,o);if(v)return kE(v,i,s,o);if(g)return OE(g,n,i,s,o)}var ym=function(e){var n=e.type;return n===xt.Mobile},_m=function(e){var n=e.type;return n===xt.Tablet},bm=function(e){var n=e.type;return n===xt.Mobile||n===xt.Tablet},wm=function(e){var n=e.type;return n===xt.SmartTv},Fo=function(e){var n=e.type;return n===xt.Browser},Tm=function(e){var n=e.type;return n===xt.Wearable},Pm=function(e){var n=e.type;return n===xt.Console},Cm=function(e){var n=e.type;return n===xt.Embedded},xm=function(e){var n=e.vendor;return ve(n)},Em=function(e){var n=e.model;return ve(n)},Mm=function(e){var n=e.type;return ve(n,"browser")},Sm=function(e){var n=e.name;return n===vi.Android},Am=function(e){var n=e.name;return n===vi.Windows},Nm=function(e){var n=e.name;return n===vi.MAC_OS},km=function(e){var n=e.name;return n===vi.WindowsPhone},Om=function(e){var n=e.name;return n===vi.IOS},Im=function(e){var n=e.version;return ve(n)},Dm=function(e){var n=e.name;return ve(n)},Rm=function(e){var n=e.name;return n===Vt.Chrome},jm=function(e){var n=e.name;return n===Vt.Firefox},Fm=function(e){var n=e.name;return n===Vt.Chromium},Lo=function(e){var n=e.name;return n===Vt.Edge},Lm=function(e){var n=e.name;return n===Vt.Yandex},Vm=function(e){var n=e.name;return n===Vt.Safari||n===Vt.MobileSafari},Bm=function(e){var n=e.name;return n===Vt.MobileSafari},Wm=function(e){var n=e.name;return n===Vt.Opera},$m=function(e){var n=e.name;return n===Vt.InternetExplorer||n===Vt.Ie},Um=function(e){var n=e.name;return n===Vt.MIUI},qm=function(e){var n=e.name;return n===Vt.SamsungBrowser},Hm=function(e){var n=e.version;return ve(n)},zm=function(e){var n=e.major;return ve(n)},Gm=function(e){var n=e.name;return ve(n)},Ym=function(e){var n=e.name;return ve(n)},Xm=function(e){var n=e.version;return ve(n)},Qm=function(){var e=uu(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},Kr=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},Zm=function(){var e=uu();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},_n=function(){return hu("iPad")},Km=function(){return hu("iPhone")},Jm=function(){return hu("iPod")},eg=function(e){return ve(e)};function tg(t){var e=t||vm,n=e.device,r=e.browser,i=e.os,s=e.engine,o=e.ua;return{isSmartTV:wm(n),isConsole:Pm(n),isWearable:Tm(n),isEmbedded:Cm(n),isMobileSafari:Bm(r)||_n(),isChromium:Fm(r),isMobile:bm(n)||_n(),isMobileOnly:ym(n),isTablet:_m(n)||_n(),isBrowser:Fo(n),isDesktop:Fo(n),isAndroid:Sm(i),isWinPhone:km(i),isIOS:Om(i)||_n(),isChrome:Rm(r),isFirefox:jm(r),isSafari:Vm(r),isOpera:Wm(r),isIE:$m(r),osVersion:Im(i),osName:Dm(i),fullBrowserVersion:Hm(r),browserVersion:zm(r),browserName:Gm(r),mobileVendor:xm(n),mobileModel:Em(n),engineName:Ym(s),engineVersion:Xm(s),getUA:eg(o),isEdge:Lo(r)||Kr(o),isYandex:Lm(r),deviceType:Mm(n),isIOS13:Zm(),isIPad13:_n(),isIPhone13:Km(),isIPod13:Jm(),isElectron:Qm(),isEdgeChromium:Kr(o),isLegacyEdge:Lo(r)&&!Kr(o),isWindows:Am(i),isMacOs:Nm(i),isMIUI:Um(r),isSamsungBrowser:qm(r)}}var ng=wm(Yt),rg=Pm(Yt),ig=Tm(Yt),DE=Cm(Yt),RE=Bm(St)||_n(),jE=Fm(St),Ra=bm(Yt)||_n(),sg=ym(Yt),og=_m(Yt)||_n(),ag=Fo(Yt),FE=Fo(Yt),lg=Sm(cr),cg=km(cr),ug=Om(cr)||_n(),LE=Rm(St),VE=jm(St),BE=Vm(St),WE=Wm(St),hg=$m(St),$E=Im(cr),UE=Dm(cr),qE=Hm(St),HE=zm(St),zE=Gm(St),GE=xm(Yt),YE=Em(Yt),XE=Ym(cu),QE=Xm(cu),ZE=eg(us),KE=Lo(St)||Kr(us),JE=Lm(St),eM=Mm(Yt),tM=Zm(),nM=_n(),rM=Km(),iM=Jm(),sM=Qm(),oM=Kr(us),aM=Lo(St)&&!Kr(us),lM=Am(cr),cM=Nm(cr),uM=Um(St),hM=qm(St),dM=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=hs(e),r=n.device,i=n.browser,s=n.os,o=n.engine,a=n.ua;return tg({device:r,browser:i,os:s,engine:o,ua:a})},fM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return lg?n?He.createElement(Et.Fragment,null,r):He.createElement("div",i,r):null},pM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return ag?n?He.createElement(Et.Fragment,null,r):He.createElement("div",i,r):null},mM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return hg?n?He.createElement(Et.Fragment,null,r):He.createElement("div",i,r):null},gM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return ug?n?He.createElement(Et.Fragment,null,r):He.createElement("div",i,r):null},vM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return Ra?n?He.createElement(Et.Fragment,null,r):He.createElement("div",i,r):null},yM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return og?n?He.createElement(Et.Fragment,null,r):He.createElement("div",i,r):null},_M=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return cg?n?He.createElement(Et.Fragment,null,r):He.createElement("div",i,r):null},bM=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=rn(e,["renderWithFragment","children","viewClassName","style"]);return sg?n?He.createElement(Et.Fragment,null,r):He.createElement("div",i,r):null},wM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return ng?n?He.createElement(Et.Fragment,null,r):He.createElement("div",i,r):null},TM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return rg?n?He.createElement(Et.Fragment,null,r):He.createElement("div",i,r):null},PM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return ig?n?He.createElement(Et.Fragment,null,r):He.createElement("div",i,r):null},CM=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,s=rn(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?He.createElement(Et.Fragment,null,r):He.createElement("div",s,r):null};function xM(t){return function(e){vE(n,e);function n(r){var i;return fE(this,n),i=_E(this,Kl(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(ro(i)),i.onOrientationChange=i.onOrientationChange.bind(ro(i)),i.onPageLoad=i.onPageLoad.bind(ro(i)),i.state={isLandscape:!1,isPortrait:!1},i}return mE(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":Di(window))!==void 0&&Ra&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return He.createElement(t,Zl({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(He.Component)}function EM(){var t=Et.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=bE(t,2),n=e[0],r=e[1],i=Et.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==o.orientation&&r(o)},[n.orientation]);return Et.useEffect(function(){return(typeof window>"u"?"undefined":Di(window))!==void 0&&Ra&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function dg(t){var e=t||window.navigator.userAgent;return hs(e)}function MM(t){var e=t||window.navigator.userAgent,n=dg(e),r=tg(n);return[r,n]}oe.AndroidView=fM;oe.BrowserTypes=Vt;oe.BrowserView=pM;oe.ConsoleView=TM;oe.CustomView=CM;oe.IEView=mM;oe.IOSView=gM;oe.MobileOnlyView=bM;oe.MobileView=vM;oe.OsTypes=vi;oe.SmartTVView=wM;oe.TabletView=yM;oe.WearableView=PM;oe.WinPhoneView=_M;oe.browserName=zE;oe.browserVersion=HE;oe.deviceDetect=IE;oe.deviceType=eM;oe.engineName=XE;oe.engineVersion=QE;oe.fullBrowserVersion=qE;oe.getSelectorsByUserAgent=dM;oe.getUA=ZE;oe.isAndroid=lg;oe.isBrowser=ag;oe.isChrome=LE;oe.isChromium=jE;oe.isConsole=rg;oe.isDesktop=FE;oe.isEdge=KE;oe.isEdgeChromium=oM;oe.isElectron=sM;oe.isEmbedded=DE;oe.isFirefox=VE;oe.isIE=hg;oe.isIOS=ug;oe.isIOS13=tM;oe.isIPad13=nM;oe.isIPhone13=rM;oe.isIPod13=iM;oe.isLegacyEdge=aM;oe.isMIUI=uM;oe.isMacOs=cM;var Ri=oe.isMobile=Ra;oe.isMobileOnly=sg;oe.isMobileSafari=RE;oe.isOpera=WE;oe.isSafari=BE;oe.isSamsungBrowser=hM;oe.isSmartTV=ng;oe.isTablet=og;oe.isWearable=ig;oe.isWinPhone=cg;oe.isWindows=lM;oe.isYandex=JE;oe.mobileModel=YE;oe.mobileVendor=GE;oe.osName=UE;oe.osVersion=$E;oe.parseUserAgent=hs;oe.setUserAgent=ME;oe.useDeviceData=dg;oe.useDeviceSelectors=MM;oe.useMobileOrientation=EM;oe.withOrientationChange=xM;var an=null,pr=null,mr=2;function SM(){var t=new sr().toDestination();return t}function AM(){var t=new sr().toDestination(),e=new Ro(5,.1).toDestination();return t.connect(e),t}function NM(){var t=new sr().toDestination();return t.voice=au,t}function kM(){var t=new sr().toDestination(),e={oscillator:{type:"fatcustom",partials:[.7,1,0,.3,.1],spread:10,count:3},envelope:{attack:.001,decay:1.6,sustain:.5,release:1.6}};return t.set(e),t}function OM(){var t=new sr().toDestination(),e={harmonicity:8,modulationIndex:6,oscillator:{type:"sine2"},envelope:{attack:.001,decay:2,sustain:.1,release:2},modulation:{type:"square2"},modulationEnvelope:{attack:.002,decay:.2,sustain:0,release:.2}};return t.set(e),t}function IM(t){return an!=null&&pr==t.synth?{synth:an,baseDecibel:mr}:(pr=t.synth,an!=null&&an.dispose(),pr==="w"?(mr=-1,an=AM()):pr==="s"?(mr=16,an=NM()):pr==="o"?(mr=-3,an=kM()):pr==="pl"?(mr=-8,an=OM()):pr==="p"&&(mr=2,an=SM()),Ri&&an.set({latencyHint:"balanced"}),{synth:an,baseDecibel:mr})}const fg={p:"plumber",w:"wave",s:"swell",o:"organ",pl:"pluck"};function DM(t){const e=t.substring(0,1);return!e||isNaN(Number(e))||Number(e)<0?0:Number(e)>2?2:Number(e)}function RM(t){let e={};try{if(t=t.replace("(",""),t.includes("&amp"))return;t.includes("&fbclid")&&(t=BM(t)),t=t.split("#piano-")[0],e.octave=DM(t),t=t.replace(")",""),e.isKey=t.includes("*"),t=t.replace("*",""),t=WM(t,e);var n=LM(t);e.noteLetter=UM(t.substring(1,n)),e.type=t.substring(n)}catch(r){jM(r,t);return}if(!(gg(e.type)&&O_(e.noteLetter))){FM(t,e);return}return e}function jM(t,e){console.log(t),console.log("Exception - invalid chord code: "+e)}function FM(t,e){console.log("Invalid chord code: "+t+"; letter: "+e.noteLetter+"; type: "+e.type)}function LM(t){let e=VM(t[0])?2:1;for(let n=e;n<t.length;n++)if(t[n]!=="#"&&t[n]!=="b")return n;return t.length}function VM(t){return/^-?\d+$/.test(t)}function BM(t){var e=t.indexOf("&fbclid"),n=t.substring(e,e+69);return t=t.replace(n,""),console.log("fbCode removed: "+n),t}function WM(t,e){if(t.includes(":")){var n=t.split(":").pop();e.slashNote=n,e.slash=!0,t=t.replace(":"+n,"")}return t}function pg(t){var a,l,u;var e="?s="+t.synth+":"+t.volume,n="";let r=(l=(a=t.chordPianoSet)==null?void 0:a.find(h=>h.isProgKey))==null?void 0:l.selectedChord;if((u=t.chordPianoSet)!=null&&u.length)for(let h=0;h<t.chordPianoSet.length;h++){var i=t.chordPianoSet[h],s=i.selectedChord;if(!s)continue;let d=bn(r,s.noteLetter);var o=s.octave+d+s.type;i.isProgKey&&(o+="*"),du(s)&&(s.slashNote=li(i.showFlats||!1,s.slashNote),s.slashNote=bn(r,s.slashNote),o+=":"+s.slashNote),n+=`(${o})`}return e+"&p="+n}function $M(t){let e="";for(let n=0;n<t.length;n++){let i=t[n].selectedChord;if(!i)continue;let s=i.noteLetter??""+i.type??"";du(i)&&(s+="/"+i.slashNote);let o;i.octave!==1&&(o=i.octave),e+=`${o??""}${s} `}return e}function du(t){return t.slash===!0&&t.slashNote!==void 0&&t.slashNote!==""}function UM(t){return t.charAt(0).toUpperCase()+t.slice(1)}function li(t,e){var n=xr(e);if(t){if(e.includes("#"))return Li[n]??e}else if(e.includes("b"))return wa[n]??e;return e}function qM(t){var e={volume:90,type:"p"};if(t!=null){if(HM(t))return e;var n=t.split(":"),r=n[0],i=parseInt(n[1]);zM(r)&&(e.type=r),GM(i)&&(e.volume=i)}return e}function HM(t){return t.split(":").length!==2}function zM(t){return Object.keys(fg).includes(t)}function GM(t){return!isNaN(t)&&t>=0&&t<=100}function YM(t){if(t==null)return[];var e=t.split(")"),n=[],r=!1;for(let o=0;o<e.length;o++){var i=e[o];if(i!==""){var s=gw(o,i);s&&(r=XM(s,r),n.push(s))}}return n}function XM(t,e){return t.isProgKey&&(e?t.isProgKey=!1:e=!0),e}function Td(t,e){if(t.building)return t;e.includes("%")&&(e=decodeURIComponent(e));var n=QM(e),r=n.prog!=null?n.prog:n.p,i=qM(n.s);return t.synth=i.type,t.volume=i.volume,t.chordPianoSet=YM(r),t.building=!1,Qn(t),t}function QM(t){return t?(/^[?]/.test(t)?t.slice(1):t).split("&").reduce((e,n)=>{let[r,i]=n.split("=");return e[r]=i?decodeURIComponent(i.replace(/\+/g," ")):"",e},{}):{}}function Qn(t){if(!t.building){var e=pg(t);ZM(t,e)}}function ZM(t,e){if(e!==t.currentProgCode){if(t.building){t.currentProgCode=e;return}if(t.currentProgCode){const n=t.previousProgCodes.length;(n<=1||t.previousProgCodes[n-1]!==t.currentProgCode)&&t.previousProgCodes.push(t.currentProgCode)}t.currentProgCode=e}}function KM(t){let e="";t=t.replace(","," ").trim().replace(/\s\s+/g," ");for(let n of t.split(" ")){let r=JM(n);e+=`(${r})`}return e}function JM(t){let e=rS(t),n=t.replace(/(^\d+)(.+$)/i,"$2"),r=nS(n),{type:i,slash:s}=eS(n,r);return`${e}${r}${i}${s}`}function eS(t,e){let n=t.replace(e,"").toLowerCase(),r="";try{if(n.includes("/")&&!n.endsWith("6/9")){var i=n.lastIndexOf("/");r=n.substring(i+1),r=":"+iS(r),n=n.substring(0,i)}}catch{console.log("Error while extracting slash"),r=""}return n=tS(n),{type:n,slash:r}}function tS(t){try{t=t.replace("minor","m").replace("diminished","dim").replace("major7","maj7").replace("major","");let e="";return gg(t)?t:(t.startsWith("m")?e+="m":t.includes("dim")&&(e+="dim"),e.includes("dim")||(t.includes("7")?e+="7":t.includes("6")?e+="6":t.includes("9")&&(e+="9")),e!=null&&e.length||(e="x"),e)}catch{return console.log("Error while extracting type"),"x"}}function nS(t){try{let e=(t==null?void 0:t[0])||"",n=Pd(t,1);return n.length&&(n+=Pd(t,2),e+=n),e}catch{return console.log("Error while extracting letter"),"C"}}function Pd(t,e){var n;return(t==null?void 0:t[e])==="#"||((n=t==null?void 0:t[e])==null?void 0:n.toLowerCase())==="b"?t[e].toLowerCase():""}function rS(t){let e="1";try{t.match(/^\d/)&&(e=t.replace(/(^\d+)(.+$)/i,"$1"),Number(e)>2?e="2":Number(e)<0&&(e="0"))}catch{console.log("Error while extracting octave")}return e}function iS(t){return t.charAt(0).toUpperCase()+t.substring(1)}function mg(t,e){var n=t.selectedChord.noteLetter,r=e.noteLetter,i=xr(n),s=xr(r),o=s-i;return o}function sS(t,e){var n=mg(t,e),r=e.octave-t.selectedChord.octave;return n+12*r}function oS(t,e){var n={},r=t.selectedChord.noteLetter,i=t.selectedChord.octave??0,s=xr(r),o=s+e,a=Vf(o,i),l=Ac("C",a.noteNumber);return n.noteLetter=li(t.showFlats,l),n.octave=a.octave,n}function aS(t,e){if(t===void 0||t==="")return t;var n=xr(t),r=n+e;return r===0&&(r=12),Ac("C",r)}const fu={"":[0,4,7],m:[0,3,7],m6:[0,3,7,9],m7:[0,3,7,10],m9:[0,3,7,10,14],maj7:[0,4,7,11],maj9:[0,4,7,11,14],maj13:[0,4,7,11,14,21],6:[0,4,7,9],5:[0,7],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,4,7,10,14,17],13:[0,4,7,10,14,17,21],"6/9":[0,4,7,9,14],dim:[0,3,6],dim7:[0,3,6,9],sus2:[0,2,7],sus4:[0,5,7],aug:[0,4,8],add9:[0,4,7,14],add2:[0,2,4,7],mM7:[0,3,7,11],m11:[0,3,7,10,14,17],m13:[0,3,7,10,14,17,21],"7sus4":[0,5,7,10],"7b9":[0,4,7,10,13],"7#5":[0,4,8,10],"7b5":[0,4,6,10],"7#11":[0,4,7,10,18],"m7#9":[0,3,7,10,15],m7b9:[0,3,7,10,13],"m7#5":[0,3,8,10],m7b5:[0,3,6,10],"m7#11":[0,3,7,10,18],"9sus4":[0,5,7,10,14],"+":[0,4,8],x:[0]},gg=t=>fu[t]!==void 0;function lS(t,e){for(var n=fu[e],r=[],i=0;i<n.length;i++){var s=t+n[i];r.push(s)}return r}function Vo(t){return(t==null?void 0:t.startsWith("m"))&&!(t!=null&&t.includes("maj"))}function bn(t,e){if(!t)return e;let n=Vo(t.type)?"minor":"major",r=tp(t.noteLetter,n);for(let i of r)if(ji(i,e)){e=i;break}return e}function Hs(t,e){if(!t)return e;let n=Vo(t.type)?"minor":"major",r=tp(t.noteLetter,n);for(let i of r)if(ji(i,e))return!0;return!1}function ji(t,e){return $h(t)===$h(e)}const vg="PIANO_STATE",_l={history:null,previousProgCodes:[],currentProgCode:null,building:!1,chordPianoSet:void 0,synth:"p",volume:90};function cS(t){return{id:t,piano:rp(),selectedKey:{noteLetter:"C",octave:0},selectedChord:{noteLetter:"C",type:"",octave:1}}}function Kt(t,e){var n;return((n=t.chordPianoSet)==null?void 0:n.find(r=>r.id===e))||null}function uS(t){var e;(e=t.chordPianoSet)==null||e.forEach(n=>{n.isProgKey=!1})}function Bo(t){var n;const e=(n=t.chordPianoSet)==null?void 0:n.find(r=>r.isProgKey);return e==null?void 0:e.selectedChord}function hS(t,e){uS(t);const n=Kt(t,e);n&&(n.isProgKey=!0)}function dS(t){var n;const e=Math.max(...((n=t.chordPianoSet)==null?void 0:n.map(r=>r.id))??[0]);return e===-1/0?0:e+1}function Cd(t,e){const n=Bo(t);return n?bn(n,e):e}const fS=(t,e)=>{var r,i,s;const n="id"in e?e.id:0;switch(e.type){case"UPDATE_PIANO":{const o=(r=t.chordPianoSet)==null?void 0:r.map(a=>a.id===n?{...a,piano:e.payload}:a);return{...t,chordPianoSet:o}}case"UPDATE_KEY":{const o=Kt(t,n);if(!o)return console.log("Piano not found:",n),t;const a=li(o.showFlats??!1,e.payload.noteLetter);o.isProgKey&&vw(n,t.chordPianoSet,o,e.payload);const l=o.isProgKey?a:Cd(t,a);return o.selectedKey={...e.payload,noteLetter:l},o.selectedChord={...o.selectedChord,noteLetter:l,octave:e.payload.octave},o.rendered=!1,Oi(o),Qn(t),{...t}}case"UPDATE_SYNTH":return{...t,synth:e.synth};case"REFRESH_PIANO":return{...t,chordPianoSet:(i=t.chordPianoSet)==null?void 0:i.map(o=>o.id===(e==null?void 0:e.id)?{...o,...e.payload}:o)};case"UPDATE_SYNTH_VOLUME":return{...t,volume:e.volume};case"UPDATE_CHORD_TYPE":{const o=Kt(t,n);return o&&(o.selectedChord.type=e.chordType,o.rendered=!1,Oi(o)),Qn(t),{...t}}case"UPDATE_SLASH_CHORD":{const o=Kt(t,n);return o&&(o.selectedChord.slash=e.isSlashChord,o.selectedChord.slashNote=e.slashNote,o.rendered=!1,Oi(o)),Qn(t),{...t}}case"UPDATE_SHOW_FLATS":{const o=Kt(t,n);if(o){o.showFlats=e.showFlats;let a=li(o.showFlats,o.selectedKey.noteLetter);a=Cd(t,a),o.selectedKey.noteLetter=a,o.selectedChord.noteLetter=a}return Qn(t),{...t}}case"ADD_CHORD_PIANO":{if(e.payload!==null){const o=dS(t);return t.chordPianoSet=[...t.chordPianoSet??[],cS(o)],Qn(t),{...t}}return t}case"REMOVE_PIANO":{const o=(s=t.chordPianoSet)==null?void 0:s.filter(a=>a.id!==e.id);return Qn(t),{...t,chordPianoSet:o}}case"SET_PROG_KEY":{if(e.keyChecked)hS(t,e.id);else{const o=Kt(t,e.id);o&&(o.isProgKey=!1)}return Qn(t),{...t}}case"BUILD_PROG_FROM_CODE":return e.payload!==null?{...Td(t,e.payload),building:!1}:t;case"LOAD_PREVIOUS_PROG_CODE":{if(t.previousProgCodes.length>0){const o=t.previousProgCodes.length-1;let a=t.previousProgCodes[o],u={...t,building:!1,previousProgCodes:t.previousProgCodes.slice(0,-1)},h=Td(u,a);return h.previousProgCodes=t.previousProgCodes.slice(0,-1),{...h}}return t}default:return t}},yg=Q.createContext(void 0),pS=()=>{const t=sessionStorage.getItem(vg);if(!t)return _l;try{return{..._l,...JSON.parse(t)}}catch{return _l}},mS=({children:t})=>{const[e,n]=Q.useReducer(fS,pS());return Q.useEffect(()=>{sessionStorage.setItem(vg,JSON.stringify(e))},[e]),O.jsx(yg.Provider,{value:{state:e,dispatch:n},children:t})},ds=()=>{const t=D.useContext(yg);if(t===void 0)throw new Error("usePianoContext must be used within a PianoProvider");return t};var _g={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(_g);var gS=_g.exports;const Ve=pc(gS);function xd(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function vS(t){var e=yS(t,"string");return typeof e=="symbol"?e:String(e)}function yS(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _S(t,e,n){var r=Q.useRef(t!==void 0),i=Q.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,Q.useCallback(function(u){for(var h=arguments.length,d=new Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(d)),o(u)},[n])]}function bS(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[xd(r)],a=s[r],l=Se(s,[xd(r),r].map(vS)),u=e[r],h=_S(a,o,t[u]),d=h[0],f=h[1];return he({},l,(i={},i[r]=d,i[u]=f,i))},t)}var wS=/-(.)/g;function TS(t){return t.replace(wS,function(e,n){return n.toUpperCase()})}var pu=D.createContext({});pu.Consumer;pu.Provider;function ct(t,e){var n=Q.useContext(pu);return t||n[e]||e}var PS=["className","bsPrefix","as"],CS=function(e){return e[0].toUpperCase()+TS(e).slice(1)};function fs(t,e){var n=e===void 0?{}:e,r=n.displayName,i=r===void 0?CS(t):r,s=n.Component,o=n.defaultProps,a=D.forwardRef(function(l,u){var h=l.className,d=l.bsPrefix,f=l.as,v=f===void 0?s||"div":f,g=Se(l,PS),_=ct(d,t);return D.createElement(v,he({ref:u,className:Ve(h,_)},g))});return a.defaultProps=o,a.displayName=i,a}var xS=["bsPrefix","className","as"],bg=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.as,s=Se(t,xS);n=ct(n,"navbar-brand");var o=i||(s.href?"a":"span");return D.createElement(o,he({},s,{ref:e,className:Ve(r,n)}))});bg.displayName="NavbarBrand";function ci(t){return t&&t.ownerDocument||document}function ES(t){var e=ci(t);return e&&e.defaultView||window}function MS(t,e){return ES(t).getComputedStyle(t,e)}var SS=/([A-Z])/g;function AS(t){return t.replace(SS,"-$1").toLowerCase()}var NS=/^ms-/;function zs(t){return AS(t).replace(NS,"-ms-")}var kS=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function OS(t){return!!(t&&kS.test(t))}function Dn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(zs(e))||MS(t).getPropertyValue(zs(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(zs(i)):OS(i)?r+=i+"("+s+") ":n+=zs(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}const Ed={disabled:!1},wg=D.createContext(null);var IS=function(e){return e.scrollTop},Ai="unmounted",Kn="exited",kn="entering",Jn="entered",Wo="exiting",Sn=function(t){nn(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Kn,s.appearStatus=kn):l=Jn:r.unmountOnExit||r.mountOnEnter?l=Ai:l=Kn,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Ai?{status:Kn}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==kn&&o!==Jn&&(s=kn):(o===kn||o===Jn)&&(s=Wo)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===kn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Si.findDOMNode(this);o&&IS(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Kn&&this.setState({status:Ai})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Si.findDOMNode(this),a],u=l[0],h=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||Ed.disabled){this.safeSetState({status:Jn},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:kn},function(){s.props.onEntering(u,h),s.onTransitionEnd(f,function(){s.safeSetState({status:Jn},function(){s.props.onEntered(u,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Si.findDOMNode(this);if(!s||Ed.disabled){this.safeSetState({status:Kn},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Wo},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Kn},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Si.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],h=l[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ai)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Se(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return D.createElement(wg.Provider,{value:null},typeof o=="function"?o(i,a):D.cloneElement(D.Children.only(o),a))},e}(D.Component);Sn.contextType=wg;Sn.propTypes={};function Vr(){}Sn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vr,onEntering:Vr,onEntered:Vr,onExit:Vr,onExiting:Vr,onExited:Vr};Sn.UNMOUNTED=Ai;Sn.EXITED=Kn;Sn.ENTERING=kn;Sn.ENTERED=Jn;Sn.EXITING=Wo;const ja=!!(typeof window<"u"&&window.document&&window.document.createElement);var ec=!1,tc=!1;try{var bl={get passive(){return ec=!0},get once(){return tc=ec=!0}};ja&&(window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,!0))}catch{}function Tg(t,e,n,r){if(r&&typeof r!="boolean"&&!tc){var i=r.once,s=r.capture,o=n;!tc&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,ec?r:s)}t.addEventListener(e,n,r)}function nc(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function $o(t,e,n,r){return Tg(t,e,n,r),function(){nc(t,e,n,r)}}function DS(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function RS(t){var e=Dn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function jS(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||DS(t,"transitionend",!0)},e+n),s=$o(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function Pg(t,e,n,r){n==null&&(n=RS(t)||0);var i=jS(t,n,r),s=$o(t,"transitionend",e);return function(){i(),s()}}function Md(t,e){var n=Dn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Cg(t,e){var n=Md(t,"transitionDuration"),r=Md(t,"transitionDelay"),i=Pg(t,function(s){s.target===t&&(i(),e(s))},n+r)}function qr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r!=null}).reduce(function(r,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return r===null?i:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r.apply(this,a),i.apply(this,a)}},null)}function xg(t){t.offsetHeight}var FS=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],Br,LS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Eg(t,e){var n="offset"+t[0].toUpperCase()+t.slice(1),r=e[n],i=LS[t];return r+parseInt(Dn(e,i[0]),10)+parseInt(Dn(e,i[1]),10)}var VS=(Br={},Br[Kn]="collapse",Br[Wo]="collapsing",Br[kn]="collapsing",Br[Jn]="collapse show",Br),BS={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Eg},Mg=D.forwardRef(function(t,e){var n=t.onEnter,r=t.onEntering,i=t.onEntered,s=t.onExit,o=t.onExiting,a=t.className,l=t.children,u=t.dimension,h=u===void 0?"height":u,d=t.getDimensionValue,f=d===void 0?Eg:d,v=Se(t,FS),g=typeof h=="function"?h():h,_=Q.useMemo(function(){return qr(function(P){P.style[g]="0"},n)},[g,n]),b=Q.useMemo(function(){return qr(function(P){var T="scroll"+g[0].toUpperCase()+g.slice(1);P.style[g]=P[T]+"px"},r)},[g,r]),C=Q.useMemo(function(){return qr(function(P){P.style[g]=null},i)},[g,i]),k=Q.useMemo(function(){return qr(function(P){P.style[g]=f(g,P)+"px",xg(P)},s)},[s,f,g]),N=Q.useMemo(function(){return qr(function(P){P.style[g]=null},o)},[g,o]);return D.createElement(Sn,he({ref:e,addEndListener:Cg},v,{"aria-expanded":v.role?v.in:null,onEnter:_,onEntering:b,onEntered:C,onExit:k,onExiting:N}),function(P,T){return D.cloneElement(l,he({},T,{className:Ve(a,l.props.className,VS[P],g==="width"&&"width")}))})});Mg.defaultProps=BS;var Fa=D.createContext(null);Fa.displayName="NavbarContext";var WS=["children","bsPrefix"],Sg=D.forwardRef(function(t,e){var n=t.children,r=t.bsPrefix,i=Se(t,WS);return r=ct(r,"navbar-collapse"),D.createElement(Fa.Consumer,null,function(s){return D.createElement(Mg,he({in:!!(s&&s.expanded)},i),D.createElement("div",{ref:e,className:r},n))})});Sg.displayName="NavbarCollapse";function $S(t){const e=Q.useRef(t);return Q.useEffect(()=>{e.current=t},[t]),e}function On(t){const e=$S(t);return Q.useCallback(function(...n){return e.current&&e.current(...n)},[e])}var US=["bsPrefix","className","children","label","as","onClick"],qS={label:"Toggle navigation"},mu=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.children,s=t.label,o=t.as,a=o===void 0?"button":o,l=t.onClick,u=Se(t,US);n=ct(n,"navbar-toggler");var h=Q.useContext(Fa)||{},d=h.onToggle,f=h.expanded,v=On(function(g){l&&l(g),d&&d()});return a==="button"&&(u.type="button"),D.createElement(a,he({},u,{ref:e,onClick:v,"aria-label":s,className:Ve(r,n,!f&&"collapsed")}),i||D.createElement("span",{className:n+"-icon"}))});mu.displayName="NavbarToggle";mu.defaultProps=qS;var HS=D.createContext(null),zS=["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"],GS=fs("navbar-text",{Component:"span"}),YS={expand:!0,variant:"light",collapseOnSelect:!1},Vn=D.forwardRef(function(t,e){var n=bS(t,{expanded:"onToggle"}),r=n.bsPrefix,i=n.expand,s=n.variant,o=n.bg,a=n.fixed,l=n.sticky,u=n.className,h=n.children,d=n.as,f=d===void 0?"nav":d,v=n.expanded,g=n.onToggle,_=n.onSelect,b=n.collapseOnSelect,C=Se(n,zS),k=ct(r,"navbar"),N=Q.useCallback(function(){_&&_.apply(void 0,arguments),b&&v&&g&&g(!1)},[_,b,v,g]);C.role===void 0&&f!=="nav"&&(C.role="navigation");var P=k+"-expand";typeof i=="string"&&(P=P+"-"+i);var T=Q.useMemo(function(){return{onToggle:function(){return g&&g(!v)},bsPrefix:k,expanded:!!v}},[k,v,g]);return D.createElement(Fa.Provider,{value:T},D.createElement(HS.Provider,{value:N},D.createElement(f,he({ref:e},C,{className:Ve(u,k,i&&P,s&&k+"-"+s,o&&"bg-"+o,l&&"sticky-"+l,a&&"fixed-"+a)}),h)))});Vn.defaultProps=YS;Vn.displayName="Navbar";Vn.Brand=bg;Vn.Toggle=mu;Vn.Collapse=Sg;Vn.Text=GS;var XS=["as","disabled","onKeyDown"];function Sd(t){return!t||t.trim()==="#"}var Ag=D.forwardRef(function(t,e){var n=t.as,r=n===void 0?"a":n,i=t.disabled,s=t.onKeyDown,o=Se(t,XS),a=function(h){var d=o.href,f=o.onClick;if((i||Sd(d))&&h.preventDefault(),i){h.stopPropagation();return}f&&f(h)},l=function(h){h.key===" "&&(h.preventDefault(),a(h))};return Sd(o.href)&&(o.role=o.role||"button",o.href=o.href||"#"),i&&(o.tabIndex=-1,o["aria-disabled"]=!0),D.createElement(r,he({ref:e},o,{onClick:a,onKeyDown:qr(l,s)}))});Ag.displayName="SafeAnchor";var QS=["bsPrefix","variant","size","active","className","block","type","as"],ZS={variant:"primary",active:!1,disabled:!1},Yr=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.variant,i=t.size,s=t.active,o=t.className,a=t.block,l=t.type,u=t.as,h=Se(t,QS),d=ct(n,"btn"),f=Ve(o,d,s&&"active",r&&d+"-"+r,a&&d+"-block",i&&d+"-"+i);if(h.href)return D.createElement(Ag,he({},h,{as:u,ref:e,className:Ve(f,h.disabled&&"disabled")}));e&&(h.ref=e),l?h.type=l:u||(h.type="button");var v=u||"button";return D.createElement(v,he({},h,{className:f}))});Yr.displayName="Button";Yr.defaultProps=ZS;var Ng=2;function gu(t,e,n){var r=Kt(e,n),i=IM(e),s=i.synth;Ng=i.baseDecibel,yd.state!=="running"&&yd.resume(),s.toDestination();var o=KS(r.piano);Ri||t({type:"UPDATE_PIANO",id:r.id,payload:r.piano}),s.releaseAll(),s.volume.value=JS(e.volume,r.piano),s.triggerAttackRelease(o,"1.1",Ri?"+0.15":"+0.03","0.7"),Ri||eA(t,r)}function KS(t){var e=[];for(let s=0;s<t.length;s++){var n=t[s];for(let o=0;o<n.length;o++){var r=n[o];if(r.selected){var i=`${r.note.toUpperCase()}${s+3}`;e.push(i),Ri||(r.isStopping=null,r.isPlaying=!0)}}}return e}function JS(t,e){var n=tA(t),r=[];for(let l=0;l<e.length;l++){var i=e[l];for(let u=0;u<i.length;u++){var s=i[u];if(s.selected){var o=s.noteNumber+s.octave*12;r.push(o)}}}var a=Math.max.apply(Math,r);return Ng-a/2.5+n}function eA(t,e){setTimeout(function(){var n=e.piano;for(let s=0;s<n.length;s++){var r=n[s];for(let o=0;o<r.length;o++){var i=r[o];i.isPlaying&&(i.isPlaying=!1,i.isStopping=!0)}}t({type:"UPDATE_PIANO",id:e.id,payload:e.piano})},1500)}function tA(t){t==null&&(t=0);var e=0;if(t>=90){var n=t-90;e=e+n*.4}else{var r=90-t;e=0-20*(r/90)}return e}var nt={},vu={},ps={},ms={},kg="Expected a function",Ad=NaN,nA="[object Symbol]",rA=/^\s+|\s+$/g,iA=/^[-+]0x[0-9a-f]+$/i,sA=/^0b[01]+$/i,oA=/^0o[0-7]+$/i,aA=parseInt,lA=typeof yr=="object"&&yr&&yr.Object===Object&&yr,cA=typeof self=="object"&&self&&self.Object===Object&&self,uA=lA||cA||Function("return this")(),hA=Object.prototype,dA=hA.toString,fA=Math.max,pA=Math.min,wl=function(){return uA.Date.now()};function mA(t,e,n){var r,i,s,o,a,l,u=0,h=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(kg);e=Nd(e)||0,Uo(n)&&(h=!!n.leading,d="maxWait"in n,s=d?fA(Nd(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function v(x){var M=r,A=i;return r=i=void 0,u=x,o=t.apply(A,M),o}function g(x){return u=x,a=setTimeout(C,e),h?v(x):o}function _(x){var M=x-l,A=x-u,I=e-M;return d?pA(I,s-A):I}function b(x){var M=x-l,A=x-u;return l===void 0||M>=e||M<0||d&&A>=s}function C(){var x=wl();if(b(x))return k(x);a=setTimeout(C,_(x))}function k(x){return a=void 0,f&&r?v(x):(r=i=void 0,o)}function N(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function P(){return a===void 0?o:k(wl())}function T(){var x=wl(),M=b(x);if(r=arguments,i=this,l=x,M){if(a===void 0)return g(l);if(d)return a=setTimeout(C,e),v(l)}return a===void 0&&(a=setTimeout(C,e)),o}return T.cancel=N,T.flush=P,T}function gA(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(kg);return Uo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),mA(t,e,{leading:r,maxWait:e,trailing:i})}function Uo(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function vA(t){return!!t&&typeof t=="object"}function yA(t){return typeof t=="symbol"||vA(t)&&dA.call(t)==nA}function Nd(t){if(typeof t=="number")return t;if(yA(t))return Ad;if(Uo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Uo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(rA,"");var n=sA.test(t);return n||oA.test(t)?aA(t.slice(2),n?2:8):iA.test(t)?Ad:+t}var _A=gA,gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.addPassiveEventListener=function(e,n,r){var i=r.name;i||(i=n,console.warn("Listener must be a named function.")),io.has(n)||io.set(n,new Set);var s=io.get(n);if(!s.has(i)){var o=function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,l)}catch{}return a}();e.addEventListener(n,r,o?{passive:!0}:!1),s.add(i)}};gs.removePassiveEventListener=function(e,n,r){e.removeEventListener(n,r),io.get(n).delete(r.name||n)};var io=new Map;Object.defineProperty(ms,"__esModule",{value:!0});var bA=_A,wA=PA(bA),TA=gs;function PA(t){return t&&t.__esModule?t:{default:t}}var CA=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,wA.default)(e,n)},Ze={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,n){if(e){var r=CA(function(i){Ze.scrollHandler(e)},n);Ze.scrollSpyContainers.push(e),(0,TA.addPassiveEventListener)(e,"scroll",r)}},isMounted:function(e){return Ze.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var n=window.pageYOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var n=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var n=Ze.scrollSpyContainers[Ze.scrollSpyContainers.indexOf(e)].spyCallbacks||[];n.forEach(function(r){return r(Ze.currentPositionX(e),Ze.currentPositionY(e))})},addStateHandler:function(e){Ze.spySetState.push(e)},addSpyHandler:function(e,n){var r=Ze.scrollSpyContainers[Ze.scrollSpyContainers.indexOf(n)];r.spyCallbacks||(r.spyCallbacks=[]),r.spyCallbacks.push(e),e(Ze.currentPositionX(n),Ze.currentPositionY(n))},updateStates:function(){Ze.spySetState.forEach(function(e){return e()})},unmount:function(e,n){Ze.scrollSpyContainers.forEach(function(r){return r.spyCallbacks&&r.spyCallbacks.length&&r.spyCallbacks.indexOf(n)>-1&&r.spyCallbacks.splice(r.spyCallbacks.indexOf(n),1)}),Ze.spySetState&&Ze.spySetState.length&&Ze.spySetState.indexOf(e)>-1&&Ze.spySetState.splice(Ze.spySetState.indexOf(e),1),document.removeEventListener("scroll",Ze.scrollHandler)},update:function(){return Ze.scrollSpyContainers.forEach(function(e){return Ze.scrollHandler(e)})}};ms.default=Ze;var yi={},vs={};Object.defineProperty(vs,"__esModule",{value:!0});var xA=function(e,n){var r=e.indexOf("#")===0?e.substring(1):e,i=r?"#"+r:"",s=window&&window.location,o=i?s.pathname+s.search+i:s.pathname+s.search;n?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},EA=function(){return window.location.hash.replace(/^#/,"")},MA=function(e){return function(n){return e.contains?e!=n&&e.contains(n):!!(e.compareDocumentPosition(n)&16)}},SA=function(e){return getComputedStyle(e).position!=="static"},Tl=function(e,n){for(var r=e.offsetTop,i=e.offsetParent;i&&!n(i);)r+=i.offsetTop,i=i.offsetParent;return{offsetTop:r,offsetParent:i}},AA=function(e,n,r){if(r)return e===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?n.offsetLeft:n.offsetLeft-e.offsetLeft;if(e===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(SA(e)){if(n.offsetParent!==e){var i=function(h){return h===e||h===document},s=Tl(n,i),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return n.offsetTop}if(n.offsetParent===e.offsetParent)return n.offsetTop-e.offsetTop;var l=function(h){return h===document};return Tl(n,l).offsetTop-Tl(e,l).offsetTop};vs.default={updateHash:xA,getHash:EA,filterElementInContainer:MA,scrollOffset:AA};var La={},yu={};Object.defineProperty(yu,"__esModule",{value:!0});yu.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var _u={};Object.defineProperty(_u,"__esModule",{value:!0});var NA=gs,kA=["mousedown","mousewheel","touchmove","keydown"];_u.default={subscribe:function(e){return typeof document<"u"&&kA.forEach(function(n){return(0,NA.addPassiveEventListener)(document,n,e)})}};var ys={};Object.defineProperty(ys,"__esModule",{value:!0});var rc={registered:{},scrollEvent:{register:function(e,n){rc.registered[e]=n},remove:function(e){rc.registered[e]=null}}};ys.default=rc;Object.defineProperty(La,"__esModule",{value:!0});var OA=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IA=vs;Va(IA);var DA=yu,kd=Va(DA),RA=_u,jA=Va(RA),FA=ys,vn=Va(FA);function Va(t){return t&&t.__esModule?t:{default:t}}var Og=function(e){return kd.default[e.smooth]||kd.default.defaultEasing},LA=function(e){return typeof e=="function"?e:function(){return e}},VA=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},ic=function(){return VA()||function(t,e,n){window.setTimeout(t,n||1e3/60,new Date().getTime())}}(),Ig=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},Dg=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft},Rg=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop},BA=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var r=document.body,i=document.documentElement;return Math.max(r.scrollWidth,r.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)},WA=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var r=document.body,i=document.documentElement;return Math.max(r.scrollHeight,r.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)},$A=function t(e,n,r){var i=n.data;if(!n.ignoreCancelEvents&&i.cancel){vn.default.registered.end&&vn.default.registered.end(i.to,i.target,i.currentPositionY);return}if(i.delta=Math.round(i.targetPosition-i.startPosition),i.start===null&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:e(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?n.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:n.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var s=t.bind(null,e,n);ic.call(window,s);return}vn.default.registered.end&&vn.default.registered.end(i.to,i.target,i.currentPosition)},bu=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},_s=function(e,n,r,i){n.data=n.data||Ig(),window.clearTimeout(n.data.delayTimeout);var s=function(){n.data.cancel=!0};if(jA.default.subscribe(s),bu(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?Dg(n):Rg(n),n.data.targetPosition=n.absolute?e:e+n.data.startPosition,n.data.startPosition===n.data.targetPosition){vn.default.registered.end&&vn.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=LA(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=r,n.data.target=i;var o=Og(n),a=$A.bind(null,o,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){vn.default.registered.begin&&vn.default.registered.begin(n.data.to,n.data.target),ic.call(window,a)},n.delay);return}vn.default.registered.begin&&vn.default.registered.begin(n.data.to,n.data.target),ic.call(window,a)},Ba=function(e){return e=OA({},e),e.data=e.data||Ig(),e.absolute=!0,e},UA=function(e){_s(0,Ba(e))},qA=function(e,n){_s(e,Ba(n))},HA=function(e){e=Ba(e),bu(e),_s(e.horizontal?BA(e):WA(e),e)},zA=function(e,n){n=Ba(n),bu(n);var r=n.horizontal?Dg(n):Rg(n);_s(e+r,n)};La.default={animateTopScroll:_s,getAnimationType:Og,scrollToTop:UA,scrollToBottom:HA,scrollTo:qA,scrollMore:zA};Object.defineProperty(yi,"__esModule",{value:!0});var GA=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YA=vs,XA=wu(YA),QA=La,ZA=wu(QA),KA=ys,Gs=wu(KA);function wu(t){return t&&t.__esModule?t:{default:t}}var Ys={},Od=void 0;yi.default={unmount:function(){Ys={}},register:function(e,n){Ys[e]=n},unregister:function(e){delete Ys[e]},get:function(e){return Ys[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return Od=e},getActiveLink:function(){return Od},scrollTo:function(e,n){var r=this.get(e);if(!r){console.warn("target Element not found");return}n=GA({},n,{absolute:!1});var i=n.containerId,s=n.container,o=void 0;i?o=document.getElementById(i):s&&s.nodeType?o=s:o=document,n.absolute=!0;var a=n.horizontal,l=XA.default.scrollOffset(o,r,a)+(n.offset||0);if(!n.smooth){Gs.default.registered.begin&&Gs.default.registered.begin(e,r),o===document?n.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):o.scrollTop=l,Gs.default.registered.end&&Gs.default.registered.end(e,r);return}ZA.default.animateTopScroll(l,n,e,r)}};var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});var JA=vs,Pl=eN(JA);function eN(t){return t&&t.__esModule?t:{default:t}}var tN={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,n){this.containers[e]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,n=this.getHash();n?window.setTimeout(function(){e.scrollTo(n,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,n){var r=this.scroller,i=r.get(e);if(i&&(n||e!==r.getActiveLink())){var s=this.containers[e]||document;r.scrollTo(e,{container:s})}},getHash:function(){return Pl.default.getHash()},changeHash:function(e,n){this.isInitialized()&&Pl.default.getHash()!==e&&Pl.default.updateHash(e,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Wa.default=tN;Object.defineProperty(ps,"__esModule",{value:!0});var Xs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),rN=Q,Id=bs(rN),iN=ms,Qs=bs(iN),sN=yi,oN=bs(sN),aN=Ji,Ye=bs(aN),lN=Wa,Yn=bs(lN);function bs(t){return t&&t.__esModule?t:{default:t}}function cN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dd={to:Ye.default.string.isRequired,containerId:Ye.default.string,container:Ye.default.object,activeClass:Ye.default.string,activeStyle:Ye.default.object,spy:Ye.default.bool,horizontal:Ye.default.bool,smooth:Ye.default.oneOfType([Ye.default.bool,Ye.default.string]),offset:Ye.default.number,delay:Ye.default.number,isDynamic:Ye.default.bool,onClick:Ye.default.func,duration:Ye.default.oneOfType([Ye.default.number,Ye.default.func]),absolute:Ye.default.bool,onSetActive:Ye.default.func,onSetInactive:Ye.default.func,ignoreCancelEvents:Ye.default.bool,hashSpy:Ye.default.bool,saveHashHistory:Ye.default.bool,spyThrottle:Ye.default.number};ps.default=function(t,e){var n=e||oN.default,r=function(s){hN(o,s);function o(a){cN(this,o);var l=uN(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return i.call(l),l.state={active:!1},l}return nN(o,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,u=this.props.container;return l&&!u?document.getElementById(l):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();Qs.default.isMounted(l)||Qs.default.mount(l,this.props.spyThrottle),this.props.hashSpy&&(Yn.default.isMounted()||Yn.default.mount(n),Yn.default.mapContainer(this.props.to,l)),Qs.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){Qs.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var u={};this.state&&this.state.active?u=Xs({},this.props.style,this.props.activeStyle):u=Xs({},this.props.style);var h=Xs({},this.props);for(var d in Dd)h.hasOwnProperty(d)&&delete h[d];return h.className=l,h.style=u,h.onClick=this.handleClick,Id.default.createElement(t,h)}}]),o}(Id.default.PureComponent),i=function(){var o=this;this.scrollTo=function(a,l){n.scrollTo(a,Xs({},o.state,l))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,l){var u=o.getScrollSpyContainer();if(!(Yn.default.isMounted()&&!Yn.default.isInitialized())){var h=o.props.horizontal,d=o.props.to,f=null,v=void 0,g=void 0;if(h){var _=0,b=0,C=0;if(u.getBoundingClientRect){var k=u.getBoundingClientRect();C=k.left}if(!f||o.props.isDynamic){if(f=n.get(d),!f)return;var N=f.getBoundingClientRect();_=N.left-C+a,b=_+N.width}var P=a-o.props.offset;v=P>=Math.floor(_)&&P<Math.floor(b),g=P<Math.floor(_)||P>=Math.floor(b)}else{var T=0,x=0,M=0;if(u.getBoundingClientRect){var A=u.getBoundingClientRect();M=A.top}if(!f||o.props.isDynamic){if(f=n.get(d),!f)return;var I=f.getBoundingClientRect();T=I.top-M+l,x=T+I.height}var R=l-o.props.offset;v=R>=Math.floor(T)&&R<Math.floor(x),g=R<Math.floor(T)||R>=Math.floor(x)}var F=n.getActiveLink();if(g){if(d===F&&n.setActiveLink(void 0),o.props.hashSpy&&Yn.default.getHash()===d){var j=o.props.saveHashHistory,U=j===void 0?!1:j;Yn.default.changeHash("",U)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(d,f))}if(v&&(F!==d||o.state.active===!1)){n.setActiveLink(d);var $=o.props.saveHashHistory,Y=$===void 0?!1:$;o.props.hashSpy&&Yn.default.changeHash(d,Y),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(d,f))}}}};return r.propTypes=Dd,r.defaultProps={offset:0},r};Object.defineProperty(vu,"__esModule",{value:!0});var dN=Q,Rd=jg(dN),fN=ps,pN=jg(fN);function jg(t){return t&&t.__esModule?t:{default:t}}function mN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jd(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vN=function(t){gN(e,t);function e(){var n,r,i,s;mN(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=jd(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.render=function(){return Rd.default.createElement("a",i.props,i.props.children)},r),jd(i,s)}return e}(Rd.default.Component);vu.default=(0,pN.default)(vN);var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});var yN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_N=Q,Fd=Fg(_N),bN=ps,wN=Fg(bN);function Fg(t){return t&&t.__esModule?t:{default:t}}function TN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function CN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xN=function(t){CN(e,t);function e(){return TN(this,e),PN(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return yN(e,[{key:"render",value:function(){return Fd.default.createElement("button",this.props,this.props.children)}}]),e}(Fd.default.Component);Tu.default=(0,wN.default)(xN);var Pu={},$a={};Object.defineProperty($a,"__esModule",{value:!0});var EN=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),SN=Q,Ld=Ua(SN),AN=gf;Ua(AN);var NN=yi,Vd=Ua(NN),kN=Ji,Bd=Ua(kN);function Ua(t){return t&&t.__esModule?t:{default:t}}function ON(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function DN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}$a.default=function(t){var e=function(n){DN(r,n);function r(i){ON(this,r);var s=IN(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i));return s.childBindings={domNode:null},s}return MN(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Vd.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){Vd.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return Ld.default.createElement(t,EN({},this.props,{parentBindings:this.childBindings}))}}]),r}(Ld.default.Component);return e.propTypes={name:Bd.default.string,id:Bd.default.string},e};Object.defineProperty(Pu,"__esModule",{value:!0});var Wd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),jN=Q,$d=Cu(jN),FN=$a,LN=Cu(FN),VN=Ji,Ud=Cu(VN);function Cu(t){return t&&t.__esModule?t:{default:t}}function BN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $N(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Lg=function(t){$N(e,t);function e(){return BN(this,e),WN(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return RN(e,[{key:"render",value:function(){var r=this,i=Wd({},this.props);return delete i.name,i.parentBindings&&delete i.parentBindings,$d.default.createElement("div",Wd({},i,{ref:function(o){r.props.parentBindings.domNode=o}}),this.props.children)}}]),e}($d.default.Component);Lg.propTypes={name:Ud.default.string,id:Ud.default.string};Pu.default=(0,LN.default)(Lg);var Cl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Hd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zd(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Gd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zs=Q,gr=ms,xl=yi,Ke=Ji,Xn=Wa,Yd={to:Ke.string.isRequired,containerId:Ke.string,container:Ke.object,activeClass:Ke.string,spy:Ke.bool,smooth:Ke.oneOfType([Ke.bool,Ke.string]),offset:Ke.number,delay:Ke.number,isDynamic:Ke.bool,onClick:Ke.func,duration:Ke.oneOfType([Ke.number,Ke.func]),absolute:Ke.bool,onSetActive:Ke.func,onSetInactive:Ke.func,ignoreCancelEvents:Ke.bool,hashSpy:Ke.bool,spyThrottle:Ke.number},UN={Scroll:function(e,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var r=n||xl,i=function(o){Gd(a,o);function a(l){Hd(this,a);var u=zd(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return s.call(u),u.state={active:!1},u}return qd(a,[{key:"getScrollSpyContainer",value:function(){var u=this.props.containerId,h=this.props.container;return u?document.getElementById(u):h&&h.nodeType?h:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var u=this.getScrollSpyContainer();gr.isMounted(u)||gr.mount(u,this.props.spyThrottle),this.props.hashSpy&&(Xn.isMounted()||Xn.mount(r),Xn.mapContainer(this.props.to,u)),this.props.spy&&gr.addStateHandler(this.stateHandler),gr.addSpyHandler(this.spyHandler,u),this.setState({container:u})}}},{key:"componentWillUnmount",value:function(){gr.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var u="";this.state&&this.state.active?u=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():u=this.props.className;var h=Cl({},this.props);for(var d in Yd)h.hasOwnProperty(d)&&delete h[d];return h.className=u,h.onClick=this.handleClick,Zs.createElement(e,h)}}]),a}(Zs.Component),s=function(){var a=this;this.scrollTo=function(l,u){r.scrollTo(l,Cl({},a.state,u))},this.handleClick=function(l){a.props.onClick&&a.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){r.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(l){var u=a.getScrollSpyContainer();if(!(Xn.isMounted()&&!Xn.isInitialized())){var h=a.props.to,d=null,f=0,v=0,g=0;if(u.getBoundingClientRect){var _=u.getBoundingClientRect();g=_.top}if(!d||a.props.isDynamic){if(d=r.get(h),!d)return;var b=d.getBoundingClientRect();f=b.top-g+l,v=f+b.height}var C=l-a.props.offset,k=C>=Math.floor(f)&&C<Math.floor(v),N=C<Math.floor(f)||C>=Math.floor(v),P=r.getActiveLink();if(N)return h===P&&r.setActiveLink(void 0),a.props.hashSpy&&Xn.getHash()===h&&Xn.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),gr.updateStates();if(k&&P!==h)return r.setActiveLink(h),a.props.hashSpy&&Xn.changeHash(h),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(h)),gr.updateStates()}}};return i.propTypes=Yd,i.defaultProps={offset:0},i},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(r){Gd(i,r);function i(s){Hd(this,i);var o=zd(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,s));return o.childBindings={domNode:null},o}return qd(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;xl.unregister(this.props.name)}},{key:"registerElems",value:function(o){xl.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return Zs.createElement(e,Cl({},this.props,{parentBindings:this.childBindings}))}}]),i}(Zs.Component);return n.propTypes={name:Ke.string,id:Ke.string},n}},qN=UN;Object.defineProperty(nt,"__esModule",{value:!0});nt.Helpers=nt.ScrollElement=nt.ScrollLink=nt.animateScroll=nt.scrollSpy=nt.Events=Qg=nt.scroller=nt.Element=nt.Button=Xg=nt.Link=void 0;var HN=vu,Vg=An(HN),zN=Tu,Bg=An(zN),GN=Pu,Wg=An(GN),YN=yi,$g=An(YN),XN=ys,Ug=An(XN),QN=ms,qg=An(QN),ZN=La,Hg=An(ZN),KN=ps,zg=An(KN),JN=$a,Gg=An(JN),ek=qN,Yg=An(ek);function An(t){return t&&t.__esModule?t:{default:t}}var Xg=nt.Link=Vg.default;nt.Button=Bg.default;nt.Element=Wg.default;var Qg=nt.scroller=$g.default;nt.Events=Ug.default;nt.scrollSpy=qg.default;nt.animateScroll=Hg.default;nt.ScrollLink=zg.default;nt.ScrollElement=Gg.default;nt.Helpers=Yg.default;nt.default={Link:Vg.default,Button:Bg.default,Element:Wg.default,scroller:$g.default,Events:Ug.default,scrollSpy:qg.default,animateScroll:Hg.default,ScrollLink:zg.default,ScrollElement:Gg.default,Helpers:Yg.default};const tk={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152L0 424c0 48.6 39.4 88 88 88l272 0c48.6 0 88-39.4 88-88l0-112c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 112c0 22.1-17.9 40-40 40L88 464c-22.1 0-40-17.9-40-40l0-272c0-22.1 17.9-40 40-40l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64z"]};/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */function Fi(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fi=function(e){return typeof e}:Fi=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(t)}function nk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ik(t,e,n){return e&&rk(t.prototype,e),t}function sk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){sk(t,i,n[i])})}return t}function Zg(t,e){return ok(t)||ak(t,e)||lk()}function ok(t){if(Array.isArray(t))return t}function ak(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}function lk(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Xd=function(){},xu={},Kg={},ck=null,Jg={mark:Xd,measure:Xd};try{typeof window<"u"&&(xu=window),typeof document<"u"&&(Kg=document),typeof MutationObserver<"u"&&(ck=MutationObserver),typeof performance<"u"&&(Jg=performance)}catch{}var uk=xu.navigator||{},Qd=uk.userAgent,Zd=Qd===void 0?"":Qd,qa=xu,kt=Kg,Ks=Jg;qa.document;var Eu=!!kt.documentElement&&!!kt.head&&typeof kt.addEventListener=="function"&&typeof kt.createElement=="function";~Zd.indexOf("MSIE")||~Zd.indexOf("Trident/");var Bn="___FONT_AWESOME___",ev="fa",tv="svg-inline--fa",hk="data-fa-i2svg";(function(){try{return!0}catch{return!1}})();var El={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},nv=qa.FontAwesomeConfig||{};function dk(t){var e=kt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function fk(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(kt&&typeof kt.querySelector=="function"){var pk=[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];pk.forEach(function(t){var e=Zg(t,2),n=e[0],r=e[1],i=fk(dk(n));i!=null&&(nv[r]=i)})}var mk={familyPrefix:ev,replacementClass:tv,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},sc=Ne({},mk,nv);sc.autoReplaceSvg||(sc.observeMutations=!1);var Ht=Ne({},sc);qa.FontAwesomeConfig=Ht;var Wn=qa||{};Wn[Bn]||(Wn[Bn]={});Wn[Bn].styles||(Wn[Bn].styles={});Wn[Bn].hooks||(Wn[Bn].hooks={});Wn[Bn].shims||(Wn[Bn].shims=[]);var wn=Wn[Bn],gk=[],vk=function t(){kt.removeEventListener("DOMContentLoaded",t),oc=1,gk.map(function(e){return e()})},oc=!1;Eu&&(oc=(kt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(kt.readyState),oc||kt.addEventListener("DOMContentLoaded",vk));var Mu="pending",rv="settled",qo="fulfilled",Ho="rejected",yk=function(){},iv=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",_k=typeof setImmediate>"u"?setTimeout:setImmediate,Ni=[],ac;function bk(){for(var t=0;t<Ni.length;t++)Ni[t][0](Ni[t][1]);Ni=[],ac=!1}function zo(t,e){Ni.push([t,e]),ac||(ac=!0,_k(bk,0))}function wk(t,e){function n(i){Su(e,i)}function r(i){Ki(e,i)}try{t(n,r)}catch(i){r(i)}}function sv(t){var e=t.owner,n=e._state,r=e._data,i=t[n],s=t.then;if(typeof i=="function"){n=qo;try{r=i(r)}catch(o){Ki(s,o)}}ov(s,r)||(n===qo&&Su(s,r),n===Ho&&Ki(s,r))}function ov(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||Fi(e)==="object")){var r=e.then;if(typeof r=="function")return r.call(e,function(i){n||(n=!0,e===i?av(t,i):Su(t,i))},function(i){n||(n=!0,Ki(t,i))}),!0}}catch(i){return n||Ki(t,i),!0}return!1}function Su(t,e){(t===e||!ov(t,e))&&av(t,e)}function av(t,e){t._state===Mu&&(t._state=rv,t._data=e,zo(Tk,t))}function Ki(t,e){t._state===Mu&&(t._state=rv,t._data=e,zo(Pk,t))}function lv(t){t._then=t._then.forEach(sv)}function Tk(t){t._state=qo,lv(t)}function Pk(t){t._state=Ho,lv(t),!t._handled&&iv&&global.process.emit("unhandledRejection",t._data,t)}function Ck(t){global.process.emit("rejectionHandled",t)}function tn(t){if(typeof t!="function")throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof tn))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],wk(t,this)}tn.prototype={constructor:tn,_state:Mu,_then:null,_data:void 0,_handled:!1,then:function(e,n){var r={owner:this,then:new this.constructor(yk),fulfilled:e,rejected:n};return(n||e)&&!this._handled&&(this._handled=!0,this._state===Ho&&iv&&zo(Ck,this)),this._state===qo||this._state===Ho?zo(sv,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}};tn.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new tn(function(e,n){var r=[],i=0;function s(l){return i++,function(u){r[l]=u,--i||e(r)}}for(var o=0,a;o<t.length;o++)a=t[o],a&&typeof a.then=="function"?a.then(s(o),n):r[o]=a;i||e(r)})};tn.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new tn(function(e,n){for(var r=0,i;r<t.length;r++)i=t[r],i&&typeof i.then=="function"?i.then(e,n):e(i)})};tn.resolve=function(t){return t&&Fi(t)==="object"&&t.constructor===tn?t:new tn(function(e){e(t)})};tn.reject=function(t){return new tn(function(e,n){n(t)})};var Xr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function xk(t){if(!(!t||!Eu)){var e=kt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=kt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return kt.head.insertBefore(e,r),t}}var Ek="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Go(){for(var t=12,e="";t-- >0;)e+=Ek[Math.random()*62|0];return e}function cv(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Mk(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(cv(t[n]),'" ')},"").trim()}function uv(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function hv(t){return t.size!==Xr.size||t.x!==Xr.x||t.y!==Xr.y||t.rotate!==Xr.rotate||t.flipX||t.flipY}function dv(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}var Ml={x:0,y:0,width:"100%",height:"100%"};function Kd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Sk(t){return t.tag==="g"?t.children:[t]}function Ak(t){var e=t.children,n=t.attributes,r=t.main,i=t.mask,s=t.maskId,o=t.transform,a=r.width,l=r.icon,u=i.width,h=i.icon,d=dv({transform:o,containerWidth:u,iconWidth:a}),f={tag:"rect",attributes:Ne({},Ml,{fill:"white"})},v=l.children?{children:l.children.map(Kd)}:{},g={tag:"g",attributes:Ne({},d.inner),children:[Kd(Ne({tag:l.tag,attributes:Ne({},l.attributes,d.path)},v))]},_={tag:"g",attributes:Ne({},d.outer),children:[g]},b="mask-".concat(s||Go()),C="clip-".concat(s||Go()),k={tag:"mask",attributes:Ne({},Ml,{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,_]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:Sk(h)},k]};return e.push(N,{tag:"rect",attributes:Ne({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(b,")")},Ml)}),{children:e,attributes:n}}function Nk(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,s=t.styles,o=uv(s);if(o.length>0&&(n.style=o),hv(i)){var a=dv({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:Ne({},a.outer),children:[{tag:"g",attributes:Ne({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Ne({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}function kk(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(hv(o)&&n.found&&!r.found){var a=n.width,l=n.height,u={x:a/l/2,y:.5};i.style=uv(Ne({},s,{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function Ok(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(Ht.familyPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ne({},i,{id:o}),children:r}]}]}function Ik(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,u=t.maskId,h=t.titleId,d=t.extra,f=t.watchable,v=f===void 0?!1:f,g=r.found?r:n,_=g.width,b=g.height,C=i==="fak",k=C?"":"fa-w-".concat(Math.ceil(_/b*16)),N=[Ht.replacementClass,s?"".concat(Ht.familyPrefix,"-").concat(s):"",k].filter(function(R){return d.classes.indexOf(R)===-1}).filter(function(R){return R!==""||!!R}).concat(d.classes).join(" "),P={children:[],attributes:Ne({},d.attributes,{"data-prefix":i,"data-icon":s,class:N,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(_," ").concat(b)})},T=C&&!~d.classes.indexOf("fa-fw")?{width:"".concat(_/b*16*.0625,"em")}:{};v&&(P.attributes[hk]=""),l&&P.children.push({tag:"title",attributes:{id:P.attributes["aria-labelledby"]||"title-".concat(h||Go())},children:[l]});var x=Ne({},P,{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:o,symbol:a,styles:Ne({},T,d.styles)}),M=r.found&&n.found?Ak(x):Nk(x),A=M.children,I=M.attributes;return x.children=A,x.attributes=I,a?Ok(x):kk(x)}var Jd=function(){};Ht.measurePerformance&&Ks&&Ks.mark&&Ks.measure;var Sl=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=n,l,u,h;for(r===void 0?(l=1,h=e[s[0]]):(l=0,h=r);l<o;l++)u=s[l],h=a(h,e[u],u,e);return h};function fv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=Object.keys(e).reduce(function(o,a){var l=e[a],u=!!l.icon;return u?o[l.iconName]=l.icon:o[a]=l,o},{});typeof wn.hooks.addPack=="function"&&!i?wn.hooks.addPack(t,s):wn.styles[t]=Ne({},wn.styles[t]||{},s),t==="fas"&&fv("fa",e)}var ef=wn.styles,Dk=wn.shims,pv=function(){var e=function(i){return Sl(ef,function(s,o,a){return s[a]=Sl(o,i,{}),s},{})};e(function(r,i,s){return i[3]&&(r[i[3]]=s),r}),e(function(r,i,s){var o=i[2];return r[s]=s,o.forEach(function(a){r[a]=s}),r});var n="far"in ef;Sl(Dk,function(r,i){var s=i[0],o=i[1],a=i[2];return o==="far"&&!n&&(o="fas"),r[s]={prefix:o,iconName:a},r},{})};pv();wn.styles;function tf(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function mv(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?cv(t):"<".concat(e," ").concat(Mk(r),">").concat(s.map(mv).join(""),"</").concat(e,">")}var Rk=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n):n};function lc(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=new Error().stack}lc.prototype=Object.create(Error.prototype);lc.prototype.constructor=lc;var Ha={fill:"currentColor"},gv={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};Ne({},Ha,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"});var Au=Ne({},gv,{attributeName:"opacity"});Ne({},Ha,{cx:"256",cy:"364",r:"28"}),Ne({},gv,{attributeName:"r",values:"28;14;28;28;14;28;"}),Ne({},Au,{values:"1;0;1;1;0;1;"});Ne({},Ha,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Ne({},Au,{values:"1;0;0;0;0;1;"});Ne({},Ha,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Ne({},Au,{values:"0;0;1;1;0;0;"});wn.styles;function nf(t){var e=t[0],n=t[1],r=t.slice(4),i=Zg(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(Ht.familyPrefix,"-").concat(El.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Ht.familyPrefix,"-").concat(El.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Ht.familyPrefix,"-").concat(El.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}wn.styles;var jk=`svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}`;function Fk(){var t=ev,e=tv,n=Ht.familyPrefix,r=Ht.replacementClass,i=jk;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var Lk=function(){function t(){nk(this,t),this.definitions={}}return ik(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=Ne({},n.definitions[a]||{},o[a]),fv(a,o[a]),pv()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,u=o.icon;n[a]||(n[a]={}),n[a][l]=u}),n}}]),t}();function Vk(){Ht.autoAddCss&&!sf&&(xk(Fk()),sf=!0)}function Bk(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return mv(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Eu){var r=kt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function rf(t){var e=t.prefix,n=e===void 0?"fa":e,r=t.iconName;if(r)return tf($k.definitions,n,r)||tf(wn.styles,n,r)}function Wk(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:rf(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:rf(i||{})),t(r,Ne({},n,{mask:i}))}}var $k=new Lk,sf=!1,cc={transform:function(e){return Rk(e)}},Uk=Wk(function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transform,r=n===void 0?Xr:n,i=e.symbol,s=i===void 0?!1:i,o=e.mask,a=o===void 0?null:o,l=e.maskId,u=l===void 0?null:l,h=e.title,d=h===void 0?null:h,f=e.titleId,v=f===void 0?null:f,g=e.classes,_=g===void 0?[]:g,b=e.attributes,C=b===void 0?{}:b,k=e.styles,N=k===void 0?{}:k;if(t){var P=t.prefix,T=t.iconName,x=t.icon;return Bk(Ne({type:"icon"},t),function(){return Vk(),Ht.autoA11y&&(d?C["aria-labelledby"]="".concat(Ht.replacementClass,"-title-").concat(v||Go()):(C["aria-hidden"]="true",C.focusable="false")),Ik({icons:{main:nf(x),mask:a?nf(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:P,iconName:T,transform:Ne({},Xr,r),symbol:s,title:d,maskId:u,titleId:v,extra:{attributes:C,styles:N,classes:_}})})}});function of(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?of(Object(n),!0).forEach(function(r){Qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yo(t){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(t)}function Qr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hk(t,e){if(t==null)return{};var n=qk(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uc(t){return zk(t)||Gk(t)||Yk(t)||Xk()}function zk(t){if(Array.isArray(t))return hc(t)}function Gk(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yk(t,e){if(t){if(typeof t=="string")return hc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hc(t,e)}}function hc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qk(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,u=t.spinPulse,h=t.spinReverse,d=t.pulse,f=t.fixedWidth,v=t.inverse,g=t.border,_=t.listItem,b=t.flip,C=t.size,k=t.rotation,N=t.pull,P=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":h,"fa-spin-pulse":u,"fa-pulse":d,"fa-fw":f,"fa-inverse":v,"fa-border":g,"fa-li":_,"fa-flip":b===!0,"fa-flip-horizontal":b==="horizontal"||b==="both","fa-flip-vertical":b==="vertical"||b==="both"},Qr(e,"fa-".concat(C),typeof C<"u"&&C!==null),Qr(e,"fa-rotate-".concat(k),typeof k<"u"&&k!==null&&k!==0),Qr(e,"fa-pull-".concat(N),typeof N<"u"&&N!==null),Qr(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(P).map(function(T){return P[T]?T:null}).filter(function(T){return T})}function Zk(t){return t=t-0,t===t}function vv(t){return Zk(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var Kk=["style"];function Jk(t){return t.charAt(0).toUpperCase()+t.slice(1)}function eO(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=vv(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[Jk(i)]=s:e[i]=s,e},{})}function yv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return yv(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var h=e.attributes[u];switch(u){case"class":l.attrs.className=h,delete e.attributes.class;break;case"style":l.attrs.style=eO(h);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=h:l.attrs[vv(u)]=h}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=Hk(n,Kk);return i.attrs.style=yn(yn({},i.attrs.style),o),t.apply(void 0,[e.tag,yn(yn({},i.attrs),a)].concat(uc(r)))}var _v=!1;try{_v=!0}catch{}function tO(){if(!_v&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function af(t){if(t&&Yo(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(cc.icon)return cc.icon(t);if(t===null)return null;if(t&&Yo(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Al(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Qr({},t,e):{}}var lf={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},ws=D.forwardRef(function(t,e){var n=yn(yn({},lf),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,l=n.titleId,u=n.maskId,h=af(r),d=Al("classes",[].concat(uc(Qk(n)),uc((o||"").split(" ")))),f=Al("transform",typeof n.transform=="string"?cc.transform(n.transform):n.transform),v=Al("mask",af(i)),g=Uk(h,yn(yn(yn(yn({},d),f),v),{},{symbol:s,title:a,titleId:l,maskId:u}));if(!g)return tO("Could not find icon",h),null;var _=g.abstract,b={ref:e};return Object.keys(n).forEach(function(C){lf.hasOwnProperty(C)||(b[C]=n[C])}),nO(_[0],b)});ws.displayName="FontAwesomeIcon";ws.propTypes={beat:ee.bool,border:ee.bool,beatFade:ee.bool,bounce:ee.bool,className:ee.string,fade:ee.bool,flash:ee.bool,mask:ee.oneOfType([ee.object,ee.array,ee.string]),maskId:ee.string,fixedWidth:ee.bool,inverse:ee.bool,flip:ee.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ee.oneOfType([ee.object,ee.array,ee.string]),listItem:ee.bool,pull:ee.oneOf(["right","left"]),pulse:ee.bool,rotation:ee.oneOf([0,90,180,270]),shake:ee.bool,size:ee.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ee.bool,spinPulse:ee.bool,spinReverse:ee.bool,symbol:ee.oneOfType([ee.bool,ee.string]),title:ee.string,titleId:ee.string,transform:ee.oneOfType([ee.string,ee.object]),swapOpacity:ee.bool};var nO=yv.bind(null,D.createElement);const rO=()=>{var N,P,T;const{state:t,dispatch:e}=ds(),[n,r]=Q.useState(!1),i=-130,[s,o]=Q.useState(-1),a=()=>{var M;if(!((M=t.chordPianoSet)!=null&&M.length))return;let x=l();d(x),g(x)};function l(){var M;let x=u();return o(x),(M=t.chordPianoSet[x])==null?void 0:M.id}function u(){let x=s+1;return x>=t.chordPianoSet.length&&(x=0),x}const h=()=>{e({type:"ADD_CHORD_PIANO",payload:"selectedKey"}),r(!0)};Q.useEffect(()=>{if(!(!t.chordPianoSet||t.chordPianoSet.length<1)&&n){let x=t.chordPianoSet[t.chordPianoSet.length-1].id;d(x),r(!1)}},[t.chordPianoSet]);function d(x){var M="piano-"+x;Qg.scrollTo(M,{duration:500,smooth:!0,offset:i,spy:!0,hashSpy:!0,to:M})}const f=()=>{e({type:"BUILD_PROG_FROM_CODE",payload:"?s=p:90&p="})},v=()=>{e({type:"LOAD_PREVIOUS_PROG_CODE",payload:""})},g=x=>{gu(e,t,x)};function _(x){var M;return((M=x.currentProgCode.split("p="))==null?void 0:M[0])??"?s=p:90&p="}function b(){let x=_(t);var M=$M(t.chordPianoSet),A=window.prompt("Enter your progression",M);if(A===null||!A)return;let I=KM(A);I&&e({type:"BUILD_PROG_FROM_CODE",payload:x+"p="+I})}function C(x){return`${x.noteLetter}${x.type}${du(x)?"/"+x.slashNote:""}`}const k=()=>{var x;return(x=t.chordPianoSet)==null?void 0:x.map((M,A)=>O.jsxs("div",{children:[O.jsx(Xg,{className:"chordListItem",to:"piano-"+M.id,spy:!0,offset:i,isDynamic:!0,duration:500,smooth:!0,onClick:I=>g(M.id),children:O.jsxs("div",{className:"chordItem",children:["",C(M.selectedChord)]})},M.id),"",A!==t.chordPianoSet.length-1?"|":""]},"ci-"+M.id))};return O.jsx(O.Fragment,{children:O.jsx(Vn,{fixed:"top",className:"flex-column mainHeader",children:O.jsxs("div",{className:"headerContainer",children:[O.jsxs("div",{className:"buttonContainer row",children:[O.jsx(Yr,{variant:"primary",size:"sm",className:"btn-main chord-btn ",onClick:()=>a(),disabled:!((N=t.chordPianoSet)!=null&&N.length),children:"Play"}),O.jsx(Yr,{variant:"primary",size:"sm",className:"btn-main chord-btn ",onClick:()=>h(),children:"Add"}),O.jsx(Yr,{variant:"primary",size:"sm",className:"btn-main chord-btn",disabled:!((P=t.previousProgCodes)!=null&&P.length),onClick:()=>v(),children:"Undo"}),O.jsx(Yr,{variant:"primary",size:"sm",className:"btn-main chord-btn",disabled:!((T=t.chordPianoSet)!=null&&T.length),onClick:()=>f(),children:"Clear"})]}),O.jsxs("ul",{className:"progression row",style:{listStyle:"none"},children:[k(),O.jsx(ws,{className:"progressionEditIcon",icon:tk,onClick:()=>{b()}})]})]})})})},bv=({pianoKey:t,handleClick:e})=>O.jsx(O.Fragment,{children:O.jsx("li",{"key-selected":`${t.selected}`,"key-playing":`${t.isPlaying}`,"key-stopping":`${t.isStopping!==null?t.isStopping:null}`,className:`${t.color} ${t.note} ${t.note}-${t.octave}`,onClick:()=>e(t.note,t.noteNumber,t.octave)})});bv.propTypes={pianoKey:ee.object.isRequired,handleClick:ee.func};function iO(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}var ui={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},wv=t=>Number(t).toString(2).padStart(12,"0"),cf=t=>parseInt(t,2),sO=/^[01]{12}$/;function Tv(t){return sO.test(t)}var oO=t=>typeof t=="number"&&t>=0&&t<=4095,aO=t=>t&&Tv(t.chroma),uf={[ui.chroma]:ui};function Pv(t){const e=Tv(t)?t:oO(t)?wv(t):Array.isArray(t)?dO(t):aO(t)?t.chroma:ui.chroma;return uf[e]=uf[e]||hO(e)}var lO=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function cO(t){const e=[];for(let n=0;n<12;n++)t.charAt(n)==="1"&&e.push(lO[n]);return e}function uO(t){const e=t.split("");return e.map((n,r)=>iO(r,e).join(""))}function hO(t){const e=cf(t),n=uO(t).map(cf).filter(s=>s>=2048).sort()[0],r=wv(n),i=cO(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:r,intervals:i}}function dO(t){if(t.length===0)return ui.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)e=ti(t[r]),e.empty&&(e=ni(t[r])),e.empty||(n[e.chroma]=1);return n.join("")}var fO=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],pO=fO;({...ui});var Cv=[],so={};function mO(t,e,n){const r=vO(t),i={...Pv(t),name:n||"",quality:r,intervals:t,aliases:e};Cv.push(i),i.name&&(so[i.name]=i),so[i.setNum]=i,so[i.chroma]=i,i.aliases.forEach(s=>gO(i,s))}function gO(t,e){so[e]=t}function vO(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}pO.forEach(([t,e,n])=>mO(t.split(" "),n.split(" "),e));Cv.sort((t,e)=>t.setNum-e.setNum);var yO=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],_O=yO;({...ui});var oo={};function bO(t,e,n=[]){const r={...Pv(t),name:e,intervals:t,aliases:n};return oo[r.name]=r,oo[r.setNum]=r,oo[r.chroma]=r,r.aliases.forEach(i=>wO(r,i)),r}function wO(t,e){oo[e]=t}_O.forEach(([t,e,...n])=>bO(t.split(" "),e,n));function TO(t){const[e,n,r,i]=Oc(t);return e===""?Nl("",t):e==="A"&&i==="ug"?Nl("","aug"):Nl(e+n,r+i)}function Nl(t,e){const n=e.split("/");if(n.length===1)return[t,n[0],""];const[r,i,s,o]=Oc(n[1]);return r!==""&&s===""&&o===""?[t,n[0],r+i]:[t,e,""]}var xv={empty:!0,name:"",chordType:""},hf={};function Xo(t){return typeof t=="string"?hf[t]||(hf[t]=MO(t)):typeof t=="number"?Xo(Nu[t]||""):kc(t)?PO(t):Nc(t)?Xo(t.name):xv}function PO(t){return Xo(qf(t.alt)+Nu[t.step])}var CO=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function xO(t){return CO.exec(t)||["","","",""]}var EO="I II III IV V VI VII",Nu=EO.split(" ");function MO(t){const[e,n,r,i]=xO(t);if(!r)return xv;const s=r.toUpperCase(),o=Nu.indexOf(s),a=Hf(n),l=1;return{empty:!1,name:e,roman:r,interval:ni({step:o,alt:a,dir:l}).name,acc:n,chordType:i,alt:a,step:o,major:r===s,oct:0,dir:l}}function SO(t,e){return e.map(n=>{const[r,i]=TO(n),s=eb(t,r);return Xo(ni(s)).name+i})}function AO(t,e){var i;if(!t)return;if(t.noteLetter===e.noteLetter)return"I";let n=bn(t,e.noteLetter);var r=(i=SO(t.noteLetter,[n]))==null?void 0:i[0];return Vo(t.type)&&(r=NO(r)),Vo(e.type)?r==null?void 0:r.toLowerCase():r}function NO(t){return t==="bIII"?t="III":t==="III"?t="#III":t==="#II"&&(t="III"),t}const Ev=({pianoComponentId:t,forceUpdate:e})=>{const{state:n,dispatch:r}=ds(),i=t,s=Q.useRef(!1);Q.useEffect(()=>{if(!s.current){s.current=!0;const d=Kt(n,i);d&&r({type:"REFRESH_PIANO",id:i,payload:d})}},[i,n,r]),Q.useEffect(()=>{if(e){const d=Kt(n,i);d&&r({type:"REFRESH_PIANO",id:i,payload:d})}},[e,i,n,r]);const o=(d,f,v)=>{const _={noteLetter:Ac("C",f),octave:v};r({type:"UPDATE_KEY",id:i,payload:_})},a=()=>{r({type:"REMOVE_PIANO",id:i})},l=()=>{gu(r,n,i)},u=()=>{const d=Kt(n,i),f=Bo(n);return AO(f,d.selectedChord)},h=()=>{var f;return(((f=Kt(n,i))==null?void 0:f.piano)||[]).map((v,g)=>v.map(_=>({..._,octave:g,key:`${_.note}-${g}-${e}`,handleClick:()=>o(_.note,_.noteNumber,g)}))).flat().map(v=>O.jsx(bv,{pianoKey:v,handleClick:v.handleClick},v.key))};return O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"pianoContainer",children:[O.jsx("button",{type:"button",className:"piano-play-button",onClick:l}),O.jsxs("div",{className:"pianoBox",children:[O.jsx("button",{type:"button",className:"close pianoCloseButton","aria-label":"Close",onClick:a,children:O.jsx("span",{"aria-hidden":"true",children:""})}),O.jsx("ul",{className:"set",children:h()})]}),O.jsx("div",{className:"closeContainer",children:O.jsx("button",{type:"button",className:"close pianoCloseButtonMobile","aria-label":"Close",onClick:a,children:O.jsx("span",{className:"mobileClosedBtnText",children:""})})})]}),O.jsx("div",{className:"pianoRomanNumeral",children:u()})]})};Ev.propTypes={pianoComponentId:ee.number.isRequired,forceUpdate:ee.number};var df={exports:{}},dc={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,u,h,d){var f=u||"<<anonymous>>",v=d||l;if(a[l]==null)return o?new Error("Required "+h+" `"+v+"` was not specified "+("in `"+f+"`.")):null;for(var g=arguments.length,_=Array(g>6?g-6:0),b=6;b<g;b++)_[b-6]=arguments[b];return r.apply(void 0,[a,l,f,h,v].concat(_))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(dc,dc.exports);var kO=dc.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=kO,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function u(){for(var h=arguments.length,d=Array(h),f=0;f<h;f++)d[f]=arguments[f];var v=null;return a.forEach(function(g){if(v==null){var _=g.apply(void 0,d);_!=null&&(v=_)}}),v}return(0,r.default)(u)}t.exports=e.default})(df,df.exports);var OO=["as","className","type","tooltip"],IO={type:ee.string,tooltip:ee.bool,as:ee.elementType},Ts=D.forwardRef(function(t,e){var n=t.as,r=n===void 0?"div":n,i=t.className,s=t.type,o=s===void 0?"valid":s,a=t.tooltip,l=a===void 0?!1:a,u=Se(t,OO);return D.createElement(r,he({},u,{ref:e,className:Ve(i,o+"-"+(l?"tooltip":"feedback"))}))});Ts.displayName="Feedback";Ts.propTypes=IO;var fn=D.createContext({controlId:void 0}),DO=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],ku=D.forwardRef(function(t,e){var n=t.id,r=t.bsPrefix,i=t.bsCustomPrefix,s=t.className,o=t.type,a=o===void 0?"checkbox":o,l=t.isValid,u=l===void 0?!1:l,h=t.isInvalid,d=h===void 0?!1:h,f=t.isStatic,v=t.as,g=v===void 0?"input":v,_=Se(t,DO),b=Q.useContext(fn),C=b.controlId,k=b.custom,N=k?[i,"custom-control-input"]:[r,"form-check-input"],P=N[0],T=N[1];return r=ct(P,T),D.createElement(g,he({},_,{ref:e,type:a,id:n||C,className:Ve(s,r,u&&"is-valid",d&&"is-invalid",f&&"position-static")}))});ku.displayName="FormCheckInput";var RO=["bsPrefix","bsCustomPrefix","className","htmlFor"],Ou=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.bsCustomPrefix,i=t.className,s=t.htmlFor,o=Se(t,RO),a=Q.useContext(fn),l=a.controlId,u=a.custom,h=u?[r,"custom-control-label"]:[n,"form-check-label"],d=h[0],f=h[1];return n=ct(d,f),D.createElement("label",he({},o,{ref:e,htmlFor:s||l,className:Ve(i,n)}))});Ou.displayName="FormCheckLabel";var jO=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],Rr=D.forwardRef(function(t,e){var n=t.id,r=t.bsPrefix,i=t.bsCustomPrefix,s=t.inline,o=s===void 0?!1:s,a=t.disabled,l=a===void 0?!1:a,u=t.isValid,h=u===void 0?!1:u,d=t.isInvalid,f=d===void 0?!1:d,v=t.feedbackTooltip,g=v===void 0?!1:v,_=t.feedback,b=t.className,C=t.style,k=t.title,N=k===void 0?"":k,P=t.type,T=P===void 0?"checkbox":P,x=t.label,M=t.children,A=t.custom,I=t.as,R=I===void 0?"input":I,F=Se(t,jO),j=T==="switch"?!0:A,U=j?[i,"custom-control"]:[r,"form-check"],$=U[0],Y=U[1];r=ct($,Y);var z=Q.useContext(fn),G=z.controlId,ne=Q.useMemo(function(){return{controlId:n||G,custom:j}},[G,j,n]),B=j||x!=null&&x!==!1&&!M,W=D.createElement(ku,he({},F,{type:T==="switch"?"checkbox":T,ref:e,isValid:h,isInvalid:f,isStatic:!B,disabled:l,as:R}));return D.createElement(fn.Provider,{value:ne},D.createElement("div",{style:C,className:Ve(b,r,j&&"custom-"+T,o&&r+"-inline")},M||D.createElement(D.Fragment,null,W,B&&D.createElement(Ou,{title:N},x),(h||f)&&D.createElement(Ts,{type:h?"valid":"invalid",tooltip:g},_))))});Rr.displayName="FormCheck";Rr.Input=ku;Rr.Label=Ou;var FO=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],Iu=D.forwardRef(function(t,e){var n=t.id,r=t.bsPrefix,i=t.bsCustomPrefix,s=t.className,o=t.isValid,a=t.isInvalid,l=t.lang,u=t.as,h=u===void 0?"input":u,d=Se(t,FO),f=Q.useContext(fn),v=f.controlId,g=f.custom,_="file",b=g?[i,"custom-file-input"]:[r,"form-control-file"],C=b[0],k=b[1];return r=ct(C,k),D.createElement(h,he({},d,{ref:e,id:n||v,type:_,lang:l,className:Ve(s,r,o&&"is-valid",a&&"is-invalid")}))});Iu.displayName="FormFileInput";var LO=["bsPrefix","bsCustomPrefix","className","htmlFor"],Qo=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.bsCustomPrefix,i=t.className,s=t.htmlFor,o=Se(t,LO),a=Q.useContext(fn),l=a.controlId,u=a.custom,h=u?[r,"custom-file-label"]:[n,"form-file-label"],d=h[0],f=h[1];return n=ct(d,f),D.createElement("label",he({},o,{ref:e,htmlFor:s||l,className:Ve(i,n),"data-browse":o["data-browse"]}))});Qo.displayName="FormFileLabel";var VO=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],za=D.forwardRef(function(t,e){var n=t.id,r=t.bsPrefix,i=t.bsCustomPrefix,s=t.disabled,o=s===void 0?!1:s,a=t.isValid,l=a===void 0?!1:a,u=t.isInvalid,h=u===void 0?!1:u,d=t.feedbackTooltip,f=d===void 0?!1:d,v=t.feedback,g=t.className,_=t.style,b=t.label,C=t.children,k=t.custom,N=t.lang,P=t["data-browse"],T=t.as,x=T===void 0?"div":T,M=t.inputAs,A=M===void 0?"input":M,I=Se(t,VO),R=k?[i,"custom"]:[r,"form-file"],F=R[0],j=R[1];r=ct(F,j);var U="file",$=Q.useContext(fn),Y=$.controlId,z=Q.useMemo(function(){return{controlId:n||Y,custom:k}},[Y,k,n]),G=b!=null&&b!==!1&&!C,ne=D.createElement(Iu,he({},I,{ref:e,isValid:l,isInvalid:h,disabled:o,as:A,lang:N}));return D.createElement(fn.Provider,{value:z},D.createElement(x,{style:_,className:Ve(g,r,k&&"custom-"+U)},C||D.createElement(D.Fragment,null,k?D.createElement(D.Fragment,null,ne,G&&D.createElement(Qo,{"data-browse":P},b)):D.createElement(D.Fragment,null,G&&D.createElement(Qo,null,b),ne),(l||h)&&D.createElement(Ts,{type:l?"valid":"invalid",tooltip:f},v))))});za.displayName="FormFile";za.Input=Iu;za.Label=Qo;var BO=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],Mv=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.bsCustomPrefix,i=t.type,s=t.size,o=t.htmlSize,a=t.id,l=t.className,u=t.isValid,h=u===void 0?!1:u,d=t.isInvalid,f=d===void 0?!1:d,v=t.plaintext,g=t.readOnly,_=t.custom,b=t.as,C=b===void 0?"input":b,k=Se(t,BO),N=Q.useContext(fn),P=N.controlId,T=_?[r,"custom"]:[n,"form-control"],x=T[0],M=T[1];n=ct(x,M);var A;if(v){var I;A=(I={},I[n+"-plaintext"]=!0,I)}else if(i==="file"){var R;A=(R={},R[n+"-file"]=!0,R)}else if(i==="range"){var F;A=(F={},F[n+"-range"]=!0,F)}else if(C==="select"&&_){var j;A=(j={},j[n+"-select"]=!0,j[n+"-select-"+s]=s,j)}else{var U;A=(U={},U[n]=!0,U[n+"-"+s]=s,U)}return D.createElement(C,he({},k,{type:i,size:o,ref:e,readOnly:g,id:a||P,className:Ve(l,A,h&&"is-valid",f&&"is-invalid")}))});Mv.displayName="FormControl";const WO=Object.assign(Mv,{Feedback:Ts});var $O=["bsPrefix","className","children","controlId","as"],Sv=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.children,s=t.controlId,o=t.as,a=o===void 0?"div":o,l=Se(t,$O);n=ct(n,"form-group");var u=Q.useMemo(function(){return{controlId:s}},[s]);return D.createElement(fn.Provider,{value:u},D.createElement(a,he({},l,{ref:e,className:Ve(r,n)}),i))});Sv.displayName="FormGroup";var UO=["bsPrefix","className","as"],qO=["xl","lg","md","sm","xs"],Av=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.as,s=i===void 0?"div":i,o=Se(t,UO),a=ct(n,"col"),l=[],u=[];return qO.forEach(function(h){var d=o[h];delete o[h];var f,v,g;if(typeof d=="object"&&d!=null){var _=d.span;f=_===void 0?!0:_,v=d.offset,g=d.order}else f=d;var b=h!=="xs"?"-"+h:"";f&&l.push(f===!0?""+a+b:""+a+b+"-"+f),g!=null&&u.push("order"+b+"-"+g),v!=null&&u.push("offset"+b+"-"+v)}),l.length||l.push(a),D.createElement(s,he({},o,{ref:e,className:Ve.apply(void 0,[r].concat(l,u))}))});Av.displayName="Col";var HO=["as","bsPrefix","column","srOnly","className","htmlFor"],zO={column:!1,srOnly:!1},Du=D.forwardRef(function(t,e){var n=t.as,r=n===void 0?"label":n,i=t.bsPrefix,s=t.column,o=t.srOnly,a=t.className,l=t.htmlFor,u=Se(t,HO),h=Q.useContext(fn),d=h.controlId;i=ct(i,"form-label");var f="col-form-label";typeof s=="string"&&(f=f+" "+f+"-"+s);var v=Ve(a,i,o&&"sr-only",s&&f);return l=l||d,s?D.createElement(Av,he({ref:e,as:"label",className:v,htmlFor:l},u)):D.createElement(r,he({ref:e,className:v,htmlFor:l},u))});Du.displayName="FormLabel";Du.defaultProps=zO;var GO=["bsPrefix","className","as","muted"],Nv=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.as,s=i===void 0?"small":i,o=t.muted,a=Se(t,GO);return n=ct(n,"form-text"),D.createElement(s,he({},a,{ref:e,className:Ve(r,n,o&&"text-muted")}))});Nv.displayName="FormText";var Ga=D.forwardRef(function(t,e){return D.createElement(Rr,he({},t,{ref:e,type:"switch"}))});Ga.displayName="Switch";Ga.Input=Rr.Input;Ga.Label=Rr.Label;var YO=["bsPrefix","inline","className","validated","as"],XO=fs("form-row"),QO={inline:!1},rt=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.inline,i=t.className,s=t.validated,o=t.as,a=o===void 0?"form":o,l=Se(t,YO);return n=ct(n,"form"),D.createElement(a,he({},l,{ref:e,className:Ve(i,s&&"was-validated",r&&n+"-inline")}))});rt.displayName="Form";rt.defaultProps=QO;rt.Row=XO;rt.Group=Sv;rt.Control=WO;rt.Check=Rr;rt.File=za;rt.Switch=Ga;rt.Label=Du;rt.Text=Nv;const kv=({pianoComponentId:t})=>{const{state:e,dispatch:n}=ds(),r=Q.useRef({});var i=Kt(e,t);r.current.showFlats=N(i),r.current.isProgKey=i.isProgKey??!1,r.current.selectedChordKey=li(r.current.showFlats,i.selectedKey.noteLetter??"C"),r.current.type=i.selectedChord.type,r.current.id=i.id,r.current.slashChord=i.selectedChord.slash??!1,r.current.slashNote=li(r.current.showFlats,i.selectedChord.slashNote??""),r.current.noteArray=s(r.current.showFlats,i.selectedKey.noteLetter,i.selectedChord.slashNote);function s(P,T,x){let M=Object.values(wa);P&&!(T!=null&&T.startsWith("#"))&&(M=Object.values(Li));let A=Bo(e);return A&&(M=M.map(I=>bn(A,I))),!A||!Hs(A,T)||!Hs(A,x)?M.map(I=>ji(I,T)?T:ji(I,x)?x:I):M}function o(P){let T=Bo(e);return bn(T,P)}Q.useEffect(()=>{op(i.piano)||Oi(i),e.building||Oi(i)});const a=P=>{if(P.target.value===null)return;r.current.noteArray=s(r.current.showFlats,P.target.value);let T=o(P.target.value);f(i,T)},l=P=>{r.current.type=P.target.value,n({type:"UPDATE_CHORD_TYPE",id:i.id,chordType:r.current.type})},u=P=>{n({type:"SET_PROG_KEY",keyChecked:P.target.checked,id:i.id}),b(i)},h=P=>{r.current.slashChord=P.target.checked,n({type:"UPDATE_SLASH_CHORD",isSlashChord:r.current.slashChord,id:i.id})},d=P=>{let T=P.target.checked,x=r.current.selectedChordKey;if(r.current.slashNote,r.current.showFlats=T,n({type:"UPDATE_SHOW_FLATS",showFlats:r.current.showFlats,id:i.id}),r.current.isProgKey&&x.length>=2){let M;x.endsWith("b")&&!T?M=I_(x):x.includes("#")&&T&&(M=D_(x)),M&&f(i,M)}};function f(P,T){P.selectedKey.noteLetter=T,P.selectedChord.noteLetter=T,n({type:"UPDATE_KEY",id:P.id,payload:{noteLetter:T,octave:P.selectedKey.octave??0}}),P.isProgKey&&b(P)}const v=P=>{P.target.value!==null&&g(i,P.target.value)};function g(P,T){T!==null&&(r.current.slashNote=T,n({type:"UPDATE_SLASH_CHORD",isSlashChord:r.current.slashChord,slashNote:r.current.slashNote,id:P.id}))}var _=Object.keys(fu);function b(P){let T=P.selectedChord;for(let x of e.chordPianoSet)if(x.id!==P.id&&k(T,x),x.selectedChord.slash){let M=x.selectedChord.slashNote;C(T,M,x)}}function C(P,T,x){if(Hs(P,T)){let M=bn(P,T);M!==T&&(x.selectedChord.slashNote=M,n({type:"UPDATE_SLASH_CHORD",isSlashChord:!0,slashNote:M,id:x.id}))}}function k(P,T){let x=T.selectedChord.noteLetter;if(Hs(P,x)){let M=bn(P,x);M!==x&&(T.selectedKey.noteLetter=M,T.selectedChord.noteLetter=M,n({type:"UPDATE_KEY",id:T.id,payload:{noteLetter:M,octave:T.selectedKey.octave??0}}))}}function N(P){return P.showFlats||P.selectedKey.noteLetter.includes("b")||P.selectedChord.slashNote!=null&&P.selectedChord.slashNote.includes("b")}return O.jsx(rt,{className:"chordInputForm",children:O.jsxs(rt.Group,{controlId:"chordSelection",children:[O.jsx("div",{className:"chordInputSelection keySelection",children:O.jsx(rt.Control,{as:"select",value:o(r.current.selectedChordKey),custom:!0,className:"selectorBox",onChange:P=>a(P),children:r.current.noteArray.map((P,T)=>(P=o(P),O.jsx("option",{value:P,children:P},T)))})}),O.jsx("div",{className:"chordInputSelection typeSelection",children:O.jsx(rt.Control,{className:"selectorBox",as:"select",value:r.current.type,custom:!0,onChange:P=>l(P),children:_.map((P,T)=>O.jsx("option",{value:P,children:P},T))})}),O.jsx(rt.Check,{type:"checkbox",label:"key",checked:r.current.isProgKey,className:"keyCheckBox chordCheckBox",onChange:P=>u(P)},Number(r.current.id)),O.jsx(rt.Check,{type:"checkbox",label:"slash",checked:r.current.slashChord,className:"slashCheckBox chordCheckBox",onChange:P=>h(P)},"slash"+r.current.id),O.jsx(rt.Check,{type:"checkbox",label:"b",checked:r.current.showFlats,className:"flatCheckBox chordCheckBox",onChange:P=>d(P)},"flat"+r.current.id),O.jsxs("div",{className:"slashSelection",children:[O.jsx("div",{className:"slashSymbol","display-option":`${r.current.slashChord}`,children:"/"}),O.jsx("div",{className:"slashChordSelection","display-option":`${r.current.slashChord}`,children:O.jsx(rt.Control,{className:"selectorBox slashSelectorBox",as:"select",value:o(r.current.slashNote),custom:!0,onChange:P=>v(P),children:r.current.noteArray.concat("").map((P,T)=>(ji(r.current.slashNote,P)&&(P=r.current.slashNote,P=o(P)),O.jsx("option",{value:P,children:P},T)))})})]})]})})};kv.propTypes={pianoComponentId:ee.number.isRequired};const Ov=({pianoComponentId:t})=>O.jsx(O.Fragment,{children:O.jsx("div",{className:"container chordPiano",id:"piano-"+t,children:O.jsx("div",{className:"contentBox row",children:O.jsxs("div",{className:"pianoChordBox",children:[O.jsx(kv,{className:"chordBox",pianoComponentId:t},`c-${t}`),O.jsx(Ev,{className:"pianoBox",pianoComponentId:Number(t)},Number(t))]})})})});Ov.propTypes={pianoComponentId:ee.number.isRequired};const ZO=()=>{var l;const{state:t,dispatch:e}=ds(),n=E_(),[r,i]=Q.useState(!1),[s,o]=Q.useState(0);Q.useLayoutEffect(()=>{(()=>{const h=n.location.search+n.location.hash;!r&&h&&(e({type:"BUILD_PROG_FROM_CODE",payload:h}),i(!0),o(d=>d+1))})()},[n.location.search,n.location.hash,r,e]),Q.useEffect(()=>{if(!t.chordPianoSet)return;const u=pg(t),h=n.location.search+n.location.hash;u!==h&&n.push({search:u})},[t,n]);const a=()=>{var u;return(u=t.chordPianoSet)==null?void 0:u.map(h=>O.jsxs("div",{children:[O.jsx(Ov,{id:`piano-${h.id}`,className:"row chordPianoComponent",pianoComponentId:Number(h.id),history:n},`piano-${h.id}-${s}`),O.jsx("div",{className:"pianoStrip"},`strip-${h.id}`)]},`wrapper-${h.id}-${s}`))};return O.jsx("div",{className:"pianoBoard",children:((l=t.chordPianoSet)==null?void 0:l.length)??!1?O.jsxs(O.Fragment,{children:[a(),O.jsx("div",{className:"pianoBoardGutter"})]}):O.jsx("div",{className:"introBody",children:O.jsxs("div",{className:"introText",children:["welcome to chord buildr",O.jsx("br",{}),"use the controls above to get started"]})})},`pianoBoard-${s}`)};var Js;function Zo(t){if((!Js&&Js!==0||t)&&ja){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Js=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Js}function KO(){return Q.useState(null)}function JO(t){const e=Q.useRef(t);return e.current=t,e}function Iv(t){const e=JO(t);Q.useEffect(()=>()=>e.current(),[])}function kl(t){t===void 0&&(t=ci());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function ff(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function e2(){const t=Q.useRef(!0),e=Q.useRef(()=>t.current);return Q.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function t2(t){const e=Q.useRef(null);return Q.useEffect(()=>{e.current=t}),e.current}function n2(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function r2(t,e){t.classList?t.classList.add(e):n2(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function pf(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function i2(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=pf(t.className,e):t.setAttribute("class",pf(t.className&&t.className.baseVal||"",e))}function s2(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function fc(t){return"window"in t&&t.window===t?t:s2(t)&&t.defaultView||!1}function o2(t){return t&&t.tagName.toLowerCase()==="body"}function a2(t){var e=fc(t)?ci():ci(t),n=fc(t)||e.defaultView;return e.body.clientWidth<n.innerWidth}function l2(t){var e=fc(t);return e||o2(t)?a2(t):t.scrollHeight>t.clientHeight}var c2=["template","script","style"],u2=function(e){var n=e.nodeType,r=e.tagName;return n===1&&c2.indexOf(r.toLowerCase())===-1},Dv=function(e,n,r){[].forEach.call(e.children,function(i){n.indexOf(i)===-1&&u2(i)&&r(i)})};function Ko(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}function h2(t,e){var n=e.dialog,r=e.backdrop;Dv(t,[n,r],function(i){return Ko(!0,i)})}function d2(t,e){var n=e.dialog,r=e.backdrop;Dv(t,[n,r],function(i){return Ko(!1,i)})}function f2(t,e){var n=-1;return t.some(function(r,i){return e(r,i)?(n=i,!0):!1}),n}var Ya=function(){function t(n){var r=n===void 0?{}:n,i=r.hideSiblingNodes,s=i===void 0?!0:i,o=r.handleContainerOverflow,a=o===void 0?!0:o;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=s,this.handleContainerOverflow=a,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=Zo()}var e=t.prototype;return e.isContainerOverflowing=function(r){var i=this.data[this.containerIndexFromModal(r)];return i&&i.overflowing},e.containerIndexFromModal=function(r){return f2(this.data,function(i){return i.modals.indexOf(r)!==-1})},e.setContainerStyle=function(r,i){var s={overflow:"hidden"};r.style={overflow:i.style.overflow,paddingRight:i.style.paddingRight},r.overflowing&&(s.paddingRight=parseInt(Dn(i,"paddingRight")||"0",10)+this.scrollbarSize+"px"),Dn(i,s)},e.removeContainerStyle=function(r,i){Object.assign(i.style,r.style)},e.add=function(r,i,s){var o=this.modals.indexOf(r),a=this.containers.indexOf(i);if(o!==-1)return o;if(o=this.modals.length,this.modals.push(r),this.hideSiblingNodes&&h2(i,r),a!==-1)return this.data[a].modals.push(r),o;var l={modals:[r],classes:s?s.split(/\s+/):[],overflowing:l2(i)};return this.handleContainerOverflow&&this.setContainerStyle(l,i),l.classes.forEach(r2.bind(null,i)),this.containers.push(i),this.data.push(l),o},e.remove=function(r){var i=this.modals.indexOf(r);if(i!==-1){var s=this.containerIndexFromModal(r),o=this.data[s],a=this.containers[s];if(o.modals.splice(o.modals.indexOf(r),1),this.modals.splice(i,1),o.modals.length===0)o.classes.forEach(i2.bind(null,a)),this.handleContainerOverflow&&this.removeContainerStyle(o,a),this.hideSiblingNodes&&d2(a,r),this.containers.splice(s,1),this.data.splice(s,1);else if(this.hideSiblingNodes){var l=o.modals[o.modals.length-1],u=l.backdrop,h=l.dialog;Ko(!1,h),Ko(!1,u)}}},e.isTopModal=function(r){return!!this.modals.length&&this.modals[this.modals.length-1]===r},t}(),Ol=function(e){var n;return typeof document>"u"?null:e==null?ci().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function p2(t,e){var n=Q.useState(function(){return Ol(t)}),r=n[0],i=n[1];if(!r){var s=Ol(t);s&&i(s)}return Q.useEffect(function(){},[e,r]),Q.useEffect(function(){var o=Ol(t);o!==r&&i(o)},[t,r]),r}var Il;function m2(){return Il||(Il=new Ya),Il}function g2(t){var e=t||m2(),n=Q.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:function(i,s){return e.add(n.current,i,s)},remove:function(){return e.remove(n.current)},isTopModal:function(){return e.isTopModal(n.current)},setDialogRef:Q.useCallback(function(r){n.current.dialog=r},[]),setBackdropRef:Q.useCallback(function(r){n.current.backdrop=r},[])})}var Ru=Q.forwardRef(function(t,e){var n=t.show,r=n===void 0?!1:n,i=t.role,s=i===void 0?"dialog":i,o=t.className,a=t.style,l=t.children,u=t.backdrop,h=u===void 0?!0:u,d=t.keyboard,f=d===void 0?!0:d,v=t.onBackdropClick,g=t.onEscapeKeyDown,_=t.transition,b=t.backdropTransition,C=t.autoFocus,k=C===void 0?!0:C,N=t.enforceFocus,P=N===void 0?!0:N,T=t.restoreFocus,x=T===void 0?!0:T,M=t.restoreFocusOptions,A=t.renderDialog,I=t.renderBackdrop,R=I===void 0?function(Me){return D.createElement("div",Me)}:I,F=t.manager,j=t.container,U=t.containerClassName,$=t.onShow,Y=t.onHide,z=Y===void 0?function(){}:Y,G=t.onExit,ne=t.onExited,B=t.onExiting,W=t.onEnter,q=t.onEntering,Z=t.onEntered,ce=Se(t,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),pe=p2(j),J=g2(F),fe=e2(),me=t2(r),re=Q.useState(!r),De=re[0],et=re[1],ft=Q.useRef(null);Q.useImperativeHandle(e,function(){return J},[J]),ja&&!me&&r&&(ft.current=kl()),!_&&!r&&!De?et(!0):r&&De&&et(!1);var Pt=On(function(){if(J.add(pe,U),Pe.current=$o(document,"keydown",ae),Ae.current=$o(document,"focus",function(){return setTimeout(Ct)},!0),$&&$(),k){var Me=kl(document);J.dialog&&Me&&!ff(J.dialog,Me)&&(ft.current=Me,J.dialog.focus())}}),bt=On(function(){if(J.remove(),Pe.current==null||Pe.current(),Ae.current==null||Ae.current(),x){var Me;(Me=ft.current)==null||Me.focus==null||Me.focus(M),ft.current=null}});Q.useEffect(function(){!r||!pe||Pt()},[r,pe,Pt]),Q.useEffect(function(){De&&bt()},[De,bt]),Iv(function(){bt()});var Ct=On(function(){if(!(!P||!fe()||!J.isTopModal())){var Me=kl();J.dialog&&Me&&!ff(J.dialog,Me)&&J.dialog.focus()}}),X=On(function(Me){Me.target===Me.currentTarget&&(v==null||v(Me),h===!0&&z())}),ae=On(function(Me){f&&Me.keyCode===27&&J.isTopModal()&&(g==null||g(Me),Me.defaultPrevented||z())}),Ae=Q.useRef(),Pe=Q.useRef(),be=function(){et(!0);for(var _e=arguments.length,de=new Array(_e),K=0;K<_e;K++)de[K]=arguments[K];ne==null||ne.apply(void 0,de)},Ce=_;if(!pe||!(r||Ce&&!De))return null;var We=he({role:s,ref:J.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},ce,{style:a,className:o,tabIndex:-1}),st=A?A(We):D.createElement("div",We,D.cloneElement(l,{role:"document"}));Ce&&(st=D.createElement(Ce,{appear:!0,unmountOnExit:!0,in:!!r,onExit:G,onExiting:B,onExited:be,onEnter:W,onEntering:q,onEntered:Z},st));var Oe=null;if(h){var tt=b;Oe=R({ref:J.setBackdropRef,onClick:X}),tt&&(Oe=D.createElement(tt,{appear:!0,in:!!r},Oe))}return D.createElement(D.Fragment,null,Si.createPortal(D.createElement(D.Fragment,null,Oe,st),pe))}),v2={show:ee.bool,container:ee.any,onShow:ee.func,onHide:ee.func,backdrop:ee.oneOfType([ee.bool,ee.oneOf(["static"])]),renderDialog:ee.func,renderBackdrop:ee.func,onEscapeKeyDown:ee.func,onBackdropClick:ee.func,containerClassName:ee.string,keyboard:ee.bool,transition:ee.elementType,backdropTransition:ee.elementType,autoFocus:ee.bool,enforceFocus:ee.bool,restoreFocus:ee.bool,restoreFocusOptions:ee.shape({preventScroll:ee.bool}),onEnter:ee.func,onEntering:ee.func,onEntered:ee.func,onExit:ee.func,onExiting:ee.func,onExited:ee.func,manager:ee.instanceOf(Ya)};Ru.displayName="Modal";Ru.propTypes=v2;const y2=Object.assign(Ru,{Manager:Ya});var _2=Function.prototype.bind.call(Function.prototype.call,[].slice);function Wr(t,e){return _2(t.querySelectorAll(e))}var $r={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},b2=function(t){nn(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.adjustAndStore=function(i,s,o){var a,l=s.style[i];s.dataset[i]=l,Dn(s,(a={},a[i]=parseFloat(Dn(s,i))+o+"px",a))},n.restore=function(i,s){var o=s.dataset[i];if(o!==void 0){var a;delete s.dataset[i],Dn(s,(a={},a[i]=o,a))}},n.setContainerStyle=function(i,s){var o=this;if(t.prototype.setContainerStyle.call(this,i,s),!!i.overflowing){var a=Zo();Wr(s,$r.FIXED_CONTENT).forEach(function(l){return o.adjustAndStore("paddingRight",l,a)}),Wr(s,$r.STICKY_CONTENT).forEach(function(l){return o.adjustAndStore("marginRight",l,-a)}),Wr(s,$r.NAVBAR_TOGGLER).forEach(function(l){return o.adjustAndStore("marginRight",l,a)})}},n.removeContainerStyle=function(i,s){var o=this;t.prototype.removeContainerStyle.call(this,i,s),Wr(s,$r.FIXED_CONTENT).forEach(function(a){return o.restore("paddingRight",a)}),Wr(s,$r.STICKY_CONTENT).forEach(function(a){return o.restore("marginRight",a)}),Wr(s,$r.NAVBAR_TOGGLER).forEach(function(a){return o.restore("marginRight",a)})},e}(Ya),w2=["className","children"],eo,T2={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},P2=(eo={},eo[kn]="show",eo[Jn]="show",eo),Xa=D.forwardRef(function(t,e){var n=t.className,r=t.children,i=Se(t,w2),s=Q.useCallback(function(o){xg(o),i.onEnter&&i.onEnter(o)},[i]);return D.createElement(Sn,he({ref:e,addEndListener:Cg},i,{onEnter:s}),function(o,a){return D.cloneElement(r,he({},a,{className:Ve("fade",n,r.props.className,P2[o])}))})});Xa.defaultProps=T2;Xa.displayName="Fade";const C2=fs("modal-body");var Rv=D.createContext({onHide:function(){}}),x2=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],ju=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.contentClassName,s=t.centered,o=t.size,a=t.children,l=t.scrollable,u=Se(t,x2);n=ct(n,"modal");var h=n+"-dialog";return D.createElement("div",he({},u,{ref:e,className:Ve(h,r,o&&n+"-"+o,s&&h+"-centered",l&&h+"-scrollable")}),D.createElement("div",{className:Ve(n+"-content",i)},a))});ju.displayName="ModalDialog";const E2=fs("modal-footer");var M2=["label","onClick","className"],S2={label:ee.string.isRequired,onClick:ee.func},A2={label:"Close"},Qa=D.forwardRef(function(t,e){var n=t.label,r=t.onClick,i=t.className,s=Se(t,M2);return D.createElement("button",he({ref:e,type:"button",className:Ve("close",i),onClick:r},s),D.createElement("span",{"aria-hidden":"true"},""),D.createElement("span",{className:"sr-only"},n))});Qa.displayName="CloseButton";Qa.propTypes=S2;Qa.defaultProps=A2;var N2=["bsPrefix","closeLabel","closeButton","onHide","className","children"],k2={closeLabel:"Close",closeButton:!1},Fu=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.closeLabel,i=t.closeButton,s=t.onHide,o=t.className,a=t.children,l=Se(t,N2);n=ct(n,"modal-header");var u=Q.useContext(Rv),h=On(function(){u&&u.onHide(),s&&s()});return D.createElement("div",he({ref:e},l,{className:Ve(o,n)}),a,i&&D.createElement(Qa,{label:r,onClick:h}))});Fu.displayName="ModalHeader";Fu.defaultProps=k2;const O2=function(t){return D.forwardRef(function(e,n){return D.createElement("div",he({},e,{ref:n,className:Ve(e.className,t)}))})};var I2=O2("h4");const D2=fs("modal-title",{Component:I2});var R2=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],Dl,j2={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:ju};function F2(t){return D.createElement(Xa,he({},t,{timeout:null}))}function L2(t){return D.createElement(Xa,he({},t,{timeout:null}))}var vt=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.style,s=t.dialogClassName,o=t.contentClassName,a=t.children,l=t.dialogAs,u=t["aria-labelledby"],h=t["aria-describedby"],d=t["aria-label"],f=t.show,v=t.animation,g=t.backdrop,_=t.keyboard,b=t.onEscapeKeyDown,C=t.onShow,k=t.onHide,N=t.container,P=t.autoFocus,T=t.enforceFocus,x=t.restoreFocus,M=t.restoreFocusOptions,A=t.onEntered,I=t.onExit,R=t.onExiting,F=t.onEnter,j=t.onEntering,U=t.onExited,$=t.backdropClassName,Y=t.manager,z=Se(t,R2),G=Q.useState({}),ne=G[0],B=G[1],W=Q.useState(!1),q=W[0],Z=W[1],ce=Q.useRef(!1),pe=Q.useRef(!1),J=Q.useRef(null),fe=KO(),me=fe[0],re=fe[1],De=On(k);n=ct(n,"modal"),Q.useImperativeHandle(e,function(){return{get _modal(){return me}}},[me]);var et=Q.useMemo(function(){return{onHide:De}},[De]);function ft(){return Y||(Dl||(Dl=new b2),Dl)}function Pt(de){if(ja){var K=ft().isContainerOverflowing(me),Ee=de.scrollHeight>ci(de).documentElement.clientHeight;B({paddingRight:K&&!Ee?Zo():void 0,paddingLeft:!K&&Ee?Zo():void 0})}}var bt=On(function(){me&&Pt(me.dialog)});Iv(function(){nc(window,"resize",bt),J.current&&J.current()});var Ct=function(){ce.current=!0},X=function(K){ce.current&&me&&K.target===me.dialog&&(pe.current=!0),ce.current=!1},ae=function(){Z(!0),J.current=Pg(me.dialog,function(){Z(!1)})},Ae=function(K){K.target===K.currentTarget&&ae()},Pe=function(K){if(g==="static"){Ae(K);return}if(pe.current||K.target!==K.currentTarget){pe.current=!1;return}k==null||k()},be=function(K){!_&&g==="static"?(K.preventDefault(),ae()):_&&b&&b(K)},Ce=function(K,Ee){K&&(K.style.display="block",Pt(K)),F==null||F(K,Ee)},We=function(K){J.current==null||J.current(),I==null||I(K)},st=function(K,Ee){j==null||j(K,Ee),Tg(window,"resize",bt)},Oe=function(K){K&&(K.style.display=""),U==null||U(K),nc(window,"resize",bt)},tt=Q.useCallback(function(de){return D.createElement("div",he({},de,{className:Ve(n+"-backdrop",$,!v&&"show")}))},[v,$,n]),Me=he({},i,ne);v||(Me.display="block");var _e=function(K){return D.createElement("div",he({role:"dialog"},K,{style:Me,className:Ve(r,n,q&&n+"-static"),onClick:g?Pe:void 0,onMouseUp:X,"aria-label":d,"aria-labelledby":u,"aria-describedby":h}),D.createElement(l,he({},z,{onMouseDown:Ct,className:s,contentClassName:o}),a))};return D.createElement(Rv.Provider,{value:et},D.createElement(y2,{show:f,ref:re,backdrop:g,container:N,keyboard:!0,autoFocus:P,enforceFocus:T,restoreFocus:x,restoreFocusOptions:M,onEscapeKeyDown:be,onShow:C,onHide:k,onEnter:Ce,onEntering:st,onEntered:A,onExit:We,onExiting:R,onExited:Oe,manager:ft(),containerClassName:n+"-open",transition:v?F2:void 0,backdropTransition:v?L2:void 0,renderBackdrop:tt,renderDialog:_e}))});vt.displayName="Modal";vt.defaultProps=j2;vt.Body=C2;vt.Header=Fu;vt.Title=D2;vt.Footer=E2;vt.Dialog=ju;vt.TRANSITION_DURATION=300;vt.BACKDROP_TRANSITION_DURATION=150;function V2(t){return O.jsxs(vt,{...t,size:"l",className:"aboutModal","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[O.jsx(vt.Header,{className:"modalHeader",closeButton:!0,children:O.jsx("div",{className:"headerBackground"})}),O.jsxs(vt.Body,{children:[O.jsx("p",{className:"aboutDescriptionText",children:"Chord Buildr provides an easy way for musicians and music lovers to create and share chord progressions."}),O.jsx("hr",{className:"modalLine"}),O.jsxs("p",{children:[O.jsxs("h6",{children:[O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-music-note",viewBox:"0 0 16 16",children:[O.jsx("path",{d:"M9 13c0 1.105-1.12 2-2.5 2S4 14.105 4 13s1.12-2 2.5-2 2.5.895 2.5 2z"}),O.jsx("path",{"fill-rule":"evenodd",d:"M9 3v10H8V3h1z"}),O.jsx("path",{d:"M8 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 13 2.22V4L8 5V2.82z"})]})," ","transpose"]}),O.jsxs("div",{className:"aboutFeatureText",children:["Mark a chord as the key and the rest of your progression will transpose as you change its root note."," "]}),O.jsx("br",{}),O.jsxs("h6",{children:[O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-music-note-beamed",viewBox:"0 0 16 16",children:[O.jsx("path",{d:"M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"}),O.jsx("path",{"fill-rule":"evenodd",d:"M14 11V2h1v9h-1zM6 3v10H5V3h1z"}),O.jsx("path",{d:"M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"})]})," ","share"]}),O.jsx("div",{className:"aboutFeatureText",children:"To share a progression, simply copy the URL. No account needed!"}),O.jsx("br",{})]}),O.jsxs("p",{className:"creditsText",children:["Chord Buildr is an"," ",O.jsx("a",{className:"modalText",href:"https://github.com/jekrch/chord-buildr",children:"open source"})," ","project ",O.jsx("br",{})," by"," ",O.jsx("a",{className:"modalText",href:"https://www.jacobkrch.com",children:"Jacob Krch"})," ","and"," ",O.jsx("a",{className:"modalText",href:"https://www.linkedin.com/in/teran-keith-210941107/",children:"Teran Keith"})]}),O.jsxs("p",{className:"copyrightText",children:[" 2020-",new Date().getFullYear()," Jacob Krch All Rights Reserved"]})]})]})}function B2(t){const e=({version:n,date:r,items:i})=>O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"verHeader",children:[n," - ",O.jsx("span",{className:"verDate",children:r})]}),O.jsx("p",{children:i.map((s,o)=>O.jsx("div",{className:"verItem",children:s},o))})]});return O.jsxs(vt,{...t,size:"l","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[O.jsxs(vt.Header,{className:"modalHeader",closeButton:!0,children:[O.jsx("div",{className:"headerBackground"}),O.jsx("p",{className:"versionDescriptionText changeLogHeader",children:"change log"}),O.jsx("br",{})]}),O.jsxs(vt.Body,{class:"verModalBody",scrollable:!0,style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"},children:[O.jsx("br",{}),O.jsx("div",{children:O.jsx("div",{class:"versionList",children:O.jsxs("p",{children:[O.jsx(e,{version:"1.8",date:"11.03.2024",items:["migrated to typescript and vite"]}),O.jsx(e,{version:"1.7.1",date:"03.27.2023",items:["fixed bug with slash note notation which caused slash notes to some times use inconsistent accidentals between views"]}),O.jsx(e,{version:"1.7",date:"03.27.2023",items:["when a key is selected, the other note letters adjust to display the correct notation in that key"]}),O.jsx(e,{version:"1.6",date:"03.05.2023",items:["when a key is selected, display a roman numeral for each chord","users can now edit their progression directly in text by clicking on the edit icon in the top nav"]}),O.jsx(e,{version:"1.5",date:"02.05.2023",items:["add play button to header for cycling through chords","disable header buttons when unavailable"]}),O.jsx(e,{version:"1.4",date:"09.19.2021",items:["add synth settings modal","volume control and five synth voice options","backwards compatible url encoding for synth settings"]}),O.jsx(e,{version:"1.3",date:"09.11.2021",items:["adjust volume to reduce distortion","modify chord volume according to pitch","version history modal"]}),O.jsx(e,{version:"1.2",date:"09.05.2021",items:["display flats instead of sharps for a given chord piano","security updates"]}),O.jsx(e,{version:"1.1",date:"05.16.2021",items:["redesigned UI for mobile","improved url handling for facebook and google","performance improvements"]}),O.jsx(e,{version:"1.0",date:"03.20.2021",items:["user chord input with interactive keyboards","url encoded progressions for sharing","synth playback via buttons and chord chart","undo and clear functionality","navigate to chords on chart click"]})]})})})]})]})}/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */var W2={prefix:"fas",iconName:"cog",icon:[512,512,[],"f013","M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"]},$2={prefix:"fas",iconName:"play-circle",icon:[512,512,[],"f144","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"]};function U2(t){const{state:e,dispatch:n}=ds(),r=Q.useRef({});r.current.synthType=e.synth,r.current.volume=e.volume;const[i,s]=Q.useState(e.volume),o=d=>{r.current.synthType=d.target.value,n({type:"UPDATE_SYNTH",id:null,synth:r.current.synthType})},a=d=>{s(d.target.value)},l=d=>{r.current.volume!==d.target.value&&(e.building=!0,r.current.volume=d.target.value,n({type:"UPDATE_SYNTH_VOLUME",id:null,volume:r.current.volume}),e.building=!1)},u=()=>{var d=e.chordPianoSet;if(d==null||d.length==0){h();return}gu(n,e,d[0].id)},h=()=>{n({type:"ADD_CHORD_PIANO",payload:"selectedKey"})};return O.jsxs(vt,{...t,size:"lg",className:"configModal","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[O.jsx(vt.Header,{className:"modalHeader",closeButton:!0,children:O.jsx("div",{})}),O.jsx(vt.Body,{children:O.jsxs("p",{children:[O.jsxs("div",{class:"configSettings",children:[O.jsx("br",{}),O.jsx("br",{}),O.jsx(rt.Control,{className:"selectorBox synthSelector",as:"select",value:r.current.synthType,custom:!0,onChange:o,children:Object.entries(fg).map(([d,f])=>O.jsx("option",{value:d,children:f},"k-"+d))}),O.jsx("br",{}),O.jsx("br",{}),O.jsx(rt,{children:O.jsx(rt.Group,{controlId:"formBasicRange",children:O.jsx(rt.Control,{type:"range",value:i,onChange:a,onMouseUp:l,onTouchEnd:l})})})]}),O.jsx("div",{class:"configChordPlayBtn",children:O.jsx(ws,{class:"chordPlayIcon",icon:$2,onClick:u})})]})})]})}const q2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwQTM4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwQTI4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMyOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJBNDE0QUJDOTlBMTExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8kSqyAAADD5JREFUeNrsXQ2QlVUZfllYUBe2YCuQFNel9Q9EcVEQSA3xB2pTSVcESjELnZomBW0ya5w0m1GyzKSmtEYDc6hGohRDrUGQZUko0EARCAXK+FEwXFz2yvY+fO/d+fbu/fm++533+7n3PDPPwC6Xc77zPvc7P+95z3t6dHR0kEXpoleJtGMwcwTzE8w6Zi1zELNG2JfZJ+P/tDEPMPcK32JuY25lbmauZ/476YbpkcA3+BjmucxxwlHMAUp1vc18ifmisJnZagU2jyHMKcxJzPOzvI1hAW/9MuYS5pPMN6zAxeNjzOnMq5mjY/qMLcyFzPnMXVZgb7iQOYt5ObMyIT1hO/MPzJ8xn7cCZ5/sTWXeKpOlJAOTs/uYTzBT5S4whJ3BvIM5tMRWKFuYd0v3nSpHgT/NnMs8pcSXoq8xZzOfKheBT2I+wLy0zHwOzzC/LoKHhooQ68KE6XYZo8pNXJI2rxMbVJbaG3wa83HmGWRBIvQ05oakv8E9mF9hrrHidsEZYpOvio0S+QbD//tL5lVWz7z4HXMmOX7xxAhcz1wkXbNFYWxkXsZ8PQld9HjmKiuuL5wqNhsfd4GbyHHVDbCa+cYAsV1TXAXGOPIbZm+rVdHoLTa8Pm4C3yQTqgqrkRFNHhGbxmKSNVPEtTCPLwa1bVCBm6RLsW+uDg4zryFnzzl0gcfLpMCOubo4RM4e+YowBa6Xab2dLYcDxIaNKWadXIzA8FCtlrWbRXiAM+Qc8unx8jt2wm/6KytuJDhVbN9DU2BsHFwZ8EH3keNof1n+XurYJ21Fm/cHLOtK0UCli4brcS0FD1n9DHWNbjhOJhHYL4U/9uiEC3qQnAC8Z2QSusP1b43MxQHLR+huA/OfJgXGBvXfKPiWHyYLOHHQnuPfq8mJ0UJUZdKC7/CWIqoSMVjv5rHjf5n9A9aF/eSz89jRdxd9G5nZz11S4KFgmHlSF4LcWxIg7Gp51hHy7O/m+Wy72CAoYJ9vmBqDT2Z+25AxXvDxWXRxOKLyOXLOC8UNW2VMHCPP6hXLDdV/h2gTuIv+M/NiQw/VIOO4X2DcnyNftFxzgDdkXHqVuZOcg2MgDpa9J2Njm6s8jPVV5BxOGyz8ODlRnsOYJ+QZA+9h3st8v0gbvGTInkuZlwQRGKGtfzL0MO1i0PYAZcDBAkf8cOZK6RGWy/hnOiIC6/3TyfHYnUfOQTd8gW6gYJGRlfKFMxV4lzlp9SxwL2nQSYYe5M08b4XftTh4OOQuOT2cmah3u6weTOB1WeGk/I7BMwyKC7xlqJyOCMRNC2uq3v8YfK560crXJKtSBnHT60MLB6bPGEOr3n4ExkGwoVaHxABaXe1H4DkKD3GU1aETGt66W70KPJF0vEgnWF07MUShzNNFu4IC36jUqIHMflbbIzYYqFT2TYUERtqEzypVjqXNWVbfIzbQOq7SKBrmFHgG6Z58m2j1VbVBZeaSKVPgJuXGNVp91W3QlEtgJBDTzmZzt9VX3Qaj3Utct8CXK1d8Fzkn6codsMF3leu4LJvAkxQrXBVCo5KEu8QmWpjcObOVzQakB0S0hUYGuQ9kjbbR6toF2JbELphGvlBsaSKkuTX9Bo8jvfSAD1lxs+JVsY0G+oimnV30WKWKsCH+PatlTtxDxQUNeMFYt8DjlCr5NcU0h2NMsEtspIFx7jF4L+kcQ8GUfbXVMS9wWkEjuBBzqhoIjDikHQoVbCW75egVW8QPYRrHoYvWij9+2urmGUuUyh0BgeuVCl9hdYvcVvUQuFapcDv2Rm+rWi2BERr7ptXNM2CrlJbAgxQKRljoB1Y3z4C4OxXKHQSBaxQK/p/VzDc0jtLWaAm83+rlGwe0BNaIk+pp9fINjU2HfhBYI0tOX6uXb2iEFffWym9VZfXyjWqNQrUEtrmzYmIz+KI1EkYfki7HXm3q/UXDtmGlRsEppW/jYKubZwwmnXDlVIXikuZEq5tn1CmVu7+C9HJV1VndIn8Z9kHg3UqFj7K6ecbZSuXuhsA7lQofa3WL3FY7NQU+k5xwXIvCPoMRmgJvVioc7soJVr+CmEB6rt3NEHiT4sNPsfoVxBWKZW+CowPpfLYrVYBtQ+w3t1odswJDGLIPaR2MPx5vMCIq9ypVgAefbnXMiemK4iJsdkfaF71GsRG3kL20Ixt6iW20cCRdYtrwKxUrwiGra62e3fB50r39vNkt8IvKjcEZnGqraSeqxSaaWOEWGD+0KVaGidb9VtdO/Ih0gh3TaMsUGFtVy5UbhVu8plltjyRJmalcx3LRtMvk548hNO5hcpJ8lytw4u/nIdTTmQLanU4Ymei2hVA5Ut4jwXhLmYmLk5ZLQ5qL1JKTIL3LG4xfhHHcpFoaenEZiYv8J8+GJO7qtLiUZX26IMRZJE7U3UmlHWKLtiFt0lMUXhrHx90/ZGZ8/yg5u0uVIRoBSzRc9rSuxMRFysJ5pJ97zA2cCYPreVeuNxib/4simHjAk/YT0snCGjYQnfELcjxJo0OuexFlpMzIdmfDBcy/+ii0WWZtKBjZArB5jS2wXkV+AzFM/JSSdfwUyUU/SU6m3qYIh50JmdrlupQDV9+M9FAgbg/5EHU/SYiu/mbmbCo+3hepl56QL8/fKX4huD1lyYekY1Mp+iBDDHFndvvm5RAYi3Gv2V9uZ34/y0IbnpTH5I0cGfDhcR3cC9Jb4Iq9Vyj8iy0xtuE6n1HSS0HcD8foCwff9nyvAqN7RaIur0lUHiDnqrU215pvgMyUEZKykFzp9QwB25xbZD39TTJ/Ewsmmj+WttRJTxVXwA7YuOge4w6Bc/DaDn/YyByZUcYVzGXMY+VP0ziQpU6TbGC+3xF/XJerDfkaV8Fc77OiVuYlrjKGMXczJzFrmNsNN2yWorhpfi3m4r4sWmV9/kJX28ED4zcdEu5HQlbzbHvMkynPNWxFTCrOIv1LsjCZQtLQuN56PpnypGEqFGmxhPzfXYgrY35PXe8OqBJXHcaIRw017D4K5wY0rBDujam4T1OBHFtebh/FRAt3GPrNRovdqfQFH8fIpAj37OG2TORKPjlAwxDMN5DCu02trziB4nT3Eya0w2SCRcW+wekZ2neKeIBG18y5VTxWt8nyppGCBdz/hcK9Ku+A1Bkn3FlIXK8CA/dTcXfe/sBVBxwXy6S7xloSV9duKLJxKyMwaJwy98G1O9fLB70KnBLnh9+35hTqfssI7uPFjseD5By6wpfgkI8yEai/NAKjxiWp+UHRImVSYOA1cT/6xeyMn58jJ7LjoHTdc8TN9y1ydpYyg+T3iGcM9xyMkS/NPyIw7LaYCHyzOKG8oYh14fwi1mrn5invROazzAeZR8nv+jOHMPu5PjeKOZd5fghr32ysjcGad4Hf5y6moVXMdT4frJnZM0d5dcw98rkG+d158rsNIjZ+t1Y+Mz8igT8SsbhwOvX1+9zFnDh4T5Y/fg6Oj5FZXzYgcfjx5ISRrnGNM0jQ+S+Xfxt3AV3KvD6irjEVYbe8R2zuOxuel3VwLmA35XnydxcuIjfmUTKBnaN3IppUTSx25RDkzBC27qb69CY9JNP7ygQKHMUzw7bTgiwLgx4KW8z8gk+RMatGQMFFCRO4KgJxYdtAIVQmTv0tkHHRj8jDZS2Lvdwbyd8xjmOp9JOdwpazyECUa5AxOBM46/pYgC8N3G6vyHpzn6yHEeuEdMfYuKgl54o8BBL0p/AjOmpl0hfWm2skhNlkCls8EJKqLfQ58UpjKHmPIOlTom/uQZnXLDZVoOmD2dha/BTp33Z2dAmKC5tdaFJcDYFJxtVzInInJhXrxWbNpgvWSq2AszHYVHjUalcQiF4dS67zREkQGIDH6zrmDfJ3i+72+ZJMqNTsE0ZylEfICchusZp2GcYQT/awdkVhZb9BNj1EdNxC4UZixHGWPEdssSmMCsNMb4TgtR+SE534ZBmKizafRk6AQ2iXhkWRvwqTiSmyJFhbBsLiXNVF0uZtYVceZYIyBLEhNusa8h8Ok4SUTBulbWjjc1E9RNQZ6OAnxQlC+KZx7HKVx//3dgTP6jXNVIu0Zbi07XCUBjbpizYFBAekz9lm81itoeiyySOytCGH+L8l51zzyjgZM44Cp4EN9qvI2cRAcAE2HnC4+ctaTgEPqCXn9P4F8maix1kg4r4TRyPGWWCLEhiDLZTxfwEGAIg2ItsKhKpcAAAAAElFTkSuQmCC",H2=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(!1),[i,s]=D.useState(!1);return O.jsx(O.Fragment,{children:O.jsxs(Vn,{className:"footNav",fixed:"bottom",children:[O.jsx(Vn.Brand,{href:"https://github.com/jekrch/chord-buildr",children:O.jsx("img",{className:"gitSrc",src:q2,alt:"github"})})," ",O.jsx("div",{className:"footNavVersion",onClick:()=>s(!0),children:"v1.8.1"}),O.jsx("div",{className:"footNavAbout",onClick:()=>e(!0),children:"about"}),O.jsx(ws,{className:"footNavCog",icon:W2,onClick:()=>r(!0)}),O.jsx(V2,{show:t,onHide:()=>e(!1)}),O.jsx(B2,{show:i,onHide:()=>s(!1)}),O.jsx(U2,{show:n,onHide:()=>r(!1)}),O.jsx("h1",{className:"titleText",children:"chord buildr"})]})})};function z2(){return O.jsx("div",{className:"App",children:O.jsxs(mS,{children:[O.jsx(rO,{}),O.jsx("div",{className:"mainContainer",children:O.jsx(M_,{children:O.jsx(C_,{children:O.jsx(w_,{exact:!0,path:["/","/chord-buildr/"],component:ZO})})})}),O.jsx(H2,{})]})})}var mf={exports:{}};/*!
  * Bootstrap v4.6.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){r(e,vy())})(yr,function(n,r){function i(m){return m&&typeof m=="object"&&"default"in m?m:{default:m}}var s=i(r);function o(m,y){for(var c=0;c<y.length;c++){var p=y[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function a(m,y,c){return c&&o(m,c),Object.defineProperty(m,"prototype",{writable:!1}),m}function l(){return l=Object.assign?Object.assign.bind():function(m){for(var y=1;y<arguments.length;y++){var c=arguments[y];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(m[p]=c[p])}return m},l.apply(this,arguments)}function u(m,y){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,p){return c.__proto__=p,c},u(m,y)}var h="transitionend",d={TRANSITION_END:"bsTransitionEnd",getUID:function(m){do m+=~~(1e6*Math.random());while(document.getElementById(m));return m},getSelectorFromElement:function(m){var y=m.getAttribute("data-target");if(!y||y==="#"){var c=m.getAttribute("href");y=c&&c!=="#"?c.trim():""}try{return document.querySelector(y)?y:null}catch{return null}},getTransitionDurationFromElement:function(m){if(!m)return 0;var y=s.default(m).css("transition-duration"),c=s.default(m).css("transition-delay"),p=parseFloat(y),w=parseFloat(c);return p||w?(y=y.split(",")[0],c=c.split(",")[0],1e3*(parseFloat(y)+parseFloat(c))):0},reflow:function(m){return m.offsetHeight},triggerTransitionEnd:function(m){s.default(m).trigger(h)},supportsTransitionEnd:function(){return!!h},isElement:function(m){return(m[0]||m).nodeType},typeCheckConfig:function(m,y,c){for(var p in c)if(Object.prototype.hasOwnProperty.call(c,p)){var w=c[p],E=y[p],S=E&&d.isElement(E)?"element":(L=E)===null||typeof L>"u"?""+L:{}.toString.call(L).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(w).test(S))throw new Error(m.toUpperCase()+': Option "'+p+'" provided type "'+S+'" but expected type "'+w+'".')}var L},findShadowRoot:function(m){if(!document.documentElement.attachShadow)return null;if(typeof m.getRootNode=="function"){var y=m.getRootNode();return y instanceof ShadowRoot?y:null}return m instanceof ShadowRoot?m:m.parentNode?d.findShadowRoot(m.parentNode):null},jQueryDetection:function(){if(typeof s.default>"u")throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var m=s.default.fn.jquery.split(" ")[0].split(".");if(m[0]<2&&m[1]<9||m[0]===1&&m[1]===9&&m[2]<1||m[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};d.jQueryDetection(),s.default.fn.emulateTransitionEnd=function(m){var y=this,c=!1;return s.default(this).one(d.TRANSITION_END,function(){c=!0}),setTimeout(function(){c||d.triggerTransitionEnd(y)},m),this},s.default.event.special[d.TRANSITION_END]={bindType:h,delegateType:h,handle:function(m){if(s.default(m.target).is(this))return m.handleObj.handler.apply(this,arguments)}};var f="bs.alert",v=s.default.fn.alert,g=function(){function m(c){this._element=c}var y=m.prototype;return y.close=function(c){var p=this._element;c&&(p=this._getRootElement(c)),this._triggerCloseEvent(p).isDefaultPrevented()||this._removeElement(p)},y.dispose=function(){s.default.removeData(this._element,f),this._element=null},y._getRootElement=function(c){var p=d.getSelectorFromElement(c),w=!1;return p&&(w=document.querySelector(p)),w||(w=s.default(c).closest(".alert")[0]),w},y._triggerCloseEvent=function(c){var p=s.default.Event("close.bs.alert");return s.default(c).trigger(p),p},y._removeElement=function(c){var p=this;if(s.default(c).removeClass("show"),s.default(c).hasClass("fade")){var w=d.getTransitionDurationFromElement(c);s.default(c).one(d.TRANSITION_END,function(E){return p._destroyElement(c,E)}).emulateTransitionEnd(w)}else this._destroyElement(c)},y._destroyElement=function(c){s.default(c).detach().trigger("closed.bs.alert").remove()},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this),w=p.data(f);w||(w=new m(this),p.data(f,w)),c==="close"&&w[c](this)})},m._handleDismiss=function(c){return function(p){p&&p.preventDefault(),c.close(this)}},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),m}();s.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',g._handleDismiss(new g)),s.default.fn.alert=g._jQueryInterface,s.default.fn.alert.Constructor=g,s.default.fn.alert.noConflict=function(){return s.default.fn.alert=v,g._jQueryInterface};var _="bs.button",b=s.default.fn.button,C="active",k='[data-toggle^="button"]',N='input:not([type="hidden"])',P=".btn",T=function(){function m(c){this._element=c,this.shouldAvoidTriggerChange=!1}var y=m.prototype;return y.toggle=function(){var c=!0,p=!0,w=s.default(this._element).closest('[data-toggle="buttons"]')[0];if(w){var E=this._element.querySelector(N);if(E){if(E.type==="radio")if(E.checked&&this._element.classList.contains(C))c=!1;else{var S=w.querySelector(".active");S&&s.default(S).removeClass(C)}c&&(E.type!=="checkbox"&&E.type!=="radio"||(E.checked=!this._element.classList.contains(C)),this.shouldAvoidTriggerChange||s.default(E).trigger("change")),E.focus(),p=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(p&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(C)),c&&s.default(this._element).toggleClass(C))},y.dispose=function(){s.default.removeData(this._element,_),this._element=null},m._jQueryInterface=function(c,p){return this.each(function(){var w=s.default(this),E=w.data(_);E||(E=new m(this),w.data(_,E)),E.shouldAvoidTriggerChange=p,c==="toggle"&&E[c]()})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),m}();s.default(document).on("click.bs.button.data-api",k,function(m){var y=m.target,c=y;if(s.default(y).hasClass("btn")||(y=s.default(y).closest(P)[0]),!y||y.hasAttribute("disabled")||y.classList.contains("disabled"))m.preventDefault();else{var p=y.querySelector(N);if(p&&(p.hasAttribute("disabled")||p.classList.contains("disabled")))return void m.preventDefault();c.tagName!=="INPUT"&&y.tagName==="LABEL"||T._jQueryInterface.call(s.default(y),"toggle",c.tagName==="INPUT")}}).on("focus.bs.button.data-api blur.bs.button.data-api",k,function(m){var y=s.default(m.target).closest(P)[0];s.default(y).toggleClass("focus",/^focus(in)?$/.test(m.type))}),s.default(window).on("load.bs.button.data-api",function(){for(var m=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),y=0,c=m.length;y<c;y++){var p=m[y],w=p.querySelector(N);w.checked||w.hasAttribute("checked")?p.classList.add(C):p.classList.remove(C)}for(var E=0,S=(m=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;E<S;E++){var L=m[E];L.getAttribute("aria-pressed")==="true"?L.classList.add(C):L.classList.remove(C)}}),s.default.fn.button=T._jQueryInterface,s.default.fn.button.Constructor=T,s.default.fn.button.noConflict=function(){return s.default.fn.button=b,T._jQueryInterface};var x="carousel",M="bs.carousel",A=s.default.fn[x],I="active",R="next",F="prev",j="slid.bs.carousel",U=".active.carousel-item",$={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Y={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},z={TOUCH:"touch",PEN:"pen"},G=function(){function m(c,p){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(p),this._element=c,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=!!(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var y=m.prototype;return y.next=function(){this._isSliding||this._slide(R)},y.nextWhenVisible=function(){var c=s.default(this._element);!document.hidden&&c.is(":visible")&&c.css("visibility")!=="hidden"&&this.next()},y.prev=function(){this._isSliding||this._slide(F)},y.pause=function(c){c||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(d.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},y.cycle=function(c){c||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},y.to=function(c){var p=this;this._activeElement=this._element.querySelector(U);var w=this._getItemIndex(this._activeElement);if(!(c>this._items.length-1||c<0))if(this._isSliding)s.default(this._element).one(j,function(){return p.to(c)});else{if(w===c)return this.pause(),void this.cycle();var E=c>w?R:F;this._slide(E,this._items[c])}},y.dispose=function(){s.default(this._element).off(".bs.carousel"),s.default.removeData(this._element,M),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},y._getConfig=function(c){return c=l({},$,c),d.typeCheckConfig(x,c,Y),c},y._handleSwipe=function(){var c=Math.abs(this.touchDeltaX);if(!(c<=40)){var p=c/this.touchDeltaX;this.touchDeltaX=0,p>0&&this.prev(),p<0&&this.next()}},y._addEventListeners=function(){var c=this;this._config.keyboard&&s.default(this._element).on("keydown.bs.carousel",function(p){return c._keydown(p)}),this._config.pause==="hover"&&s.default(this._element).on("mouseenter.bs.carousel",function(p){return c.pause(p)}).on("mouseleave.bs.carousel",function(p){return c.cycle(p)}),this._config.touch&&this._addTouchEventListeners()},y._addTouchEventListeners=function(){var c=this;if(this._touchSupported){var p=function(E){c._pointerEvent&&z[E.originalEvent.pointerType.toUpperCase()]?c.touchStartX=E.originalEvent.clientX:c._pointerEvent||(c.touchStartX=E.originalEvent.touches[0].clientX)},w=function(E){c._pointerEvent&&z[E.originalEvent.pointerType.toUpperCase()]&&(c.touchDeltaX=E.originalEvent.clientX-c.touchStartX),c._handleSwipe(),c._config.pause==="hover"&&(c.pause(),c.touchTimeout&&clearTimeout(c.touchTimeout),c.touchTimeout=setTimeout(function(S){return c.cycle(S)},500+c._config.interval))};s.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(E){return E.preventDefault()}),this._pointerEvent?(s.default(this._element).on("pointerdown.bs.carousel",function(E){return p(E)}),s.default(this._element).on("pointerup.bs.carousel",function(E){return w(E)}),this._element.classList.add("pointer-event")):(s.default(this._element).on("touchstart.bs.carousel",function(E){return p(E)}),s.default(this._element).on("touchmove.bs.carousel",function(E){return function(S){c.touchDeltaX=S.originalEvent.touches&&S.originalEvent.touches.length>1?0:S.originalEvent.touches[0].clientX-c.touchStartX}(E)}),s.default(this._element).on("touchend.bs.carousel",function(E){return w(E)}))}},y._keydown=function(c){if(!/input|textarea/i.test(c.target.tagName))switch(c.which){case 37:c.preventDefault(),this.prev();break;case 39:c.preventDefault(),this.next()}},y._getItemIndex=function(c){return this._items=c&&c.parentNode?[].slice.call(c.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(c)},y._getItemByDirection=function(c,p){var w=c===R,E=c===F,S=this._getItemIndex(p),L=this._items.length-1;if((E&&S===0||w&&S===L)&&!this._config.wrap)return p;var V=(S+(c===F?-1:1))%this._items.length;return V===-1?this._items[this._items.length-1]:this._items[V]},y._triggerSlideEvent=function(c,p){var w=this._getItemIndex(c),E=this._getItemIndex(this._element.querySelector(U)),S=s.default.Event("slide.bs.carousel",{relatedTarget:c,direction:p,from:E,to:w});return s.default(this._element).trigger(S),S},y._setActiveIndicatorElement=function(c){if(this._indicatorsElement){var p=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));s.default(p).removeClass(I);var w=this._indicatorsElement.children[this._getItemIndex(c)];w&&s.default(w).addClass(I)}},y._updateInterval=function(){var c=this._activeElement||this._element.querySelector(U);if(c){var p=parseInt(c.getAttribute("data-interval"),10);p?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=p):this._config.interval=this._config.defaultInterval||this._config.interval}},y._slide=function(c,p){var w,E,S,L=this,V=this._element.querySelector(U),te=this._getItemIndex(V),se=p||V&&this._getItemByDirection(c,V),ie=this._getItemIndex(se),le=!!this._interval;if(c===R?(w="carousel-item-left",E="carousel-item-next",S="left"):(w="carousel-item-right",E="carousel-item-prev",S="right"),se&&s.default(se).hasClass(I))this._isSliding=!1;else if(!this._triggerSlideEvent(se,S).isDefaultPrevented()&&V&&se){this._isSliding=!0,le&&this.pause(),this._setActiveIndicatorElement(se),this._activeElement=se;var Te=s.default.Event(j,{relatedTarget:se,direction:S,from:te,to:ie});if(s.default(this._element).hasClass("slide")){s.default(se).addClass(E),d.reflow(se),s.default(V).addClass(w),s.default(se).addClass(w);var Re=d.getTransitionDurationFromElement(V);s.default(V).one(d.TRANSITION_END,function(){s.default(se).removeClass(w+" "+E).addClass(I),s.default(V).removeClass("active "+E+" "+w),L._isSliding=!1,setTimeout(function(){return s.default(L._element).trigger(Te)},0)}).emulateTransitionEnd(Re)}else s.default(V).removeClass(I),s.default(se).addClass(I),this._isSliding=!1,s.default(this._element).trigger(Te);le&&this.cycle()}},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this).data(M),w=l({},$,s.default(this).data());typeof c=="object"&&(w=l({},w,c));var E=typeof c=="string"?c:w.slide;if(p||(p=new m(this,w),s.default(this).data(M,p)),typeof c=="number")p.to(c);else if(typeof E=="string"){if(typeof p[E]>"u")throw new TypeError('No method named "'+E+'"');p[E]()}else w.interval&&w.ride&&(p.pause(),p.cycle())})},m._dataApiClickHandler=function(c){var p=d.getSelectorFromElement(this);if(p){var w=s.default(p)[0];if(w&&s.default(w).hasClass("carousel")){var E=l({},s.default(w).data(),s.default(this).data()),S=this.getAttribute("data-slide-to");S&&(E.interval=!1),m._jQueryInterface.call(s.default(w),E),S&&s.default(w).data(M).to(S),c.preventDefault()}}},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return $}}]),m}();s.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",G._dataApiClickHandler),s.default(window).on("load.bs.carousel.data-api",function(){for(var m=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),y=0,c=m.length;y<c;y++){var p=s.default(m[y]);G._jQueryInterface.call(p,p.data())}}),s.default.fn[x]=G._jQueryInterface,s.default.fn[x].Constructor=G,s.default.fn[x].noConflict=function(){return s.default.fn[x]=A,G._jQueryInterface};var ne="collapse",B="bs.collapse",W=s.default.fn[ne],q="show",Z="collapse",ce="collapsing",pe="collapsed",J="width",fe='[data-toggle="collapse"]',me={toggle:!0,parent:""},re={toggle:"boolean",parent:"(string|element)"},De=function(){function m(c,p){this._isTransitioning=!1,this._element=c,this._config=this._getConfig(p),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+c.id+'"],[data-toggle="collapse"][data-target="#'+c.id+'"]'));for(var w=[].slice.call(document.querySelectorAll(fe)),E=0,S=w.length;E<S;E++){var L=w[E],V=d.getSelectorFromElement(L),te=[].slice.call(document.querySelectorAll(V)).filter(function(se){return se===c});V!==null&&te.length>0&&(this._selector=V,this._triggerArray.push(L))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var y=m.prototype;return y.toggle=function(){s.default(this._element).hasClass(q)?this.hide():this.show()},y.show=function(){var c,p,w=this;if(!(this._isTransitioning||s.default(this._element).hasClass(q)||(this._parent&&(c=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(te){return typeof w._config.parent=="string"?te.getAttribute("data-parent")===w._config.parent:te.classList.contains(Z)})).length===0&&(c=null),c&&(p=s.default(c).not(this._selector).data(B))&&p._isTransitioning))){var E=s.default.Event("show.bs.collapse");if(s.default(this._element).trigger(E),!E.isDefaultPrevented()){c&&(m._jQueryInterface.call(s.default(c).not(this._selector),"hide"),p||s.default(c).data(B,null));var S=this._getDimension();s.default(this._element).removeClass(Z).addClass(ce),this._element.style[S]=0,this._triggerArray.length&&s.default(this._triggerArray).removeClass(pe).attr("aria-expanded",!0),this.setTransitioning(!0);var L="scroll"+(S[0].toUpperCase()+S.slice(1)),V=d.getTransitionDurationFromElement(this._element);s.default(this._element).one(d.TRANSITION_END,function(){s.default(w._element).removeClass(ce).addClass("collapse show"),w._element.style[S]="",w.setTransitioning(!1),s.default(w._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(V),this._element.style[S]=this._element[L]+"px"}}},y.hide=function(){var c=this;if(!this._isTransitioning&&s.default(this._element).hasClass(q)){var p=s.default.Event("hide.bs.collapse");if(s.default(this._element).trigger(p),!p.isDefaultPrevented()){var w=this._getDimension();this._element.style[w]=this._element.getBoundingClientRect()[w]+"px",d.reflow(this._element),s.default(this._element).addClass(ce).removeClass("collapse show");var E=this._triggerArray.length;if(E>0)for(var S=0;S<E;S++){var L=this._triggerArray[S],V=d.getSelectorFromElement(L);V!==null&&(s.default([].slice.call(document.querySelectorAll(V))).hasClass(q)||s.default(L).addClass(pe).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[w]="";var te=d.getTransitionDurationFromElement(this._element);s.default(this._element).one(d.TRANSITION_END,function(){c.setTransitioning(!1),s.default(c._element).removeClass(ce).addClass(Z).trigger("hidden.bs.collapse")}).emulateTransitionEnd(te)}}},y.setTransitioning=function(c){this._isTransitioning=c},y.dispose=function(){s.default.removeData(this._element,B),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},y._getConfig=function(c){return(c=l({},me,c)).toggle=!!c.toggle,d.typeCheckConfig(ne,c,re),c},y._getDimension=function(){return s.default(this._element).hasClass(J)?J:"height"},y._getParent=function(){var c,p=this;d.isElement(this._config.parent)?(c=this._config.parent,typeof this._config.parent.jquery<"u"&&(c=this._config.parent[0])):c=document.querySelector(this._config.parent);var w='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',E=[].slice.call(c.querySelectorAll(w));return s.default(E).each(function(S,L){p._addAriaAndCollapsedClass(m._getTargetFromElement(L),[L])}),c},y._addAriaAndCollapsedClass=function(c,p){var w=s.default(c).hasClass(q);p.length&&s.default(p).toggleClass(pe,!w).attr("aria-expanded",w)},m._getTargetFromElement=function(c){var p=d.getSelectorFromElement(c);return p?document.querySelector(p):null},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this),w=p.data(B),E=l({},me,p.data(),typeof c=="object"&&c?c:{});if(!w&&E.toggle&&typeof c=="string"&&/show|hide/.test(c)&&(E.toggle=!1),w||(w=new m(this,E),p.data(B,w)),typeof c=="string"){if(typeof w[c]>"u")throw new TypeError('No method named "'+c+'"');w[c]()}})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return me}}]),m}();s.default(document).on("click.bs.collapse.data-api",fe,function(m){m.currentTarget.tagName==="A"&&m.preventDefault();var y=s.default(this),c=d.getSelectorFromElement(this),p=[].slice.call(document.querySelectorAll(c));s.default(p).each(function(){var w=s.default(this),E=w.data(B)?"toggle":y.data();De._jQueryInterface.call(w,E)})}),s.default.fn[ne]=De._jQueryInterface,s.default.fn[ne].Constructor=De,s.default.fn[ne].noConflict=function(){return s.default.fn[ne]=W,De._jQueryInterface};var et=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",ft=function(){for(var m=["Edge","Trident","Firefox"],y=0;y<m.length;y+=1)if(et&&navigator.userAgent.indexOf(m[y])>=0)return 1;return 0}(),Pt=et&&window.Promise?function(m){var y=!1;return function(){y||(y=!0,window.Promise.resolve().then(function(){y=!1,m()}))}}:function(m){var y=!1;return function(){y||(y=!0,setTimeout(function(){y=!1,m()},ft))}};function bt(m){return m&&{}.toString.call(m)==="[object Function]"}function Ct(m,y){if(m.nodeType!==1)return[];var c=m.ownerDocument.defaultView.getComputedStyle(m,null);return y?c[y]:c}function X(m){return m.nodeName==="HTML"?m:m.parentNode||m.host}function ae(m){if(!m)return document.body;switch(m.nodeName){case"HTML":case"BODY":return m.ownerDocument.body;case"#document":return m.body}var y=Ct(m),c=y.overflow,p=y.overflowX,w=y.overflowY;return/(auto|scroll|overlay)/.test(c+w+p)?m:ae(X(m))}function Ae(m){return m&&m.referenceNode?m.referenceNode:m}var Pe=et&&!(!window.MSInputMethodContext||!document.documentMode),be=et&&/MSIE 10/.test(navigator.userAgent);function Ce(m){return m===11?Pe:m===10?be:Pe||be}function We(m){if(!m)return document.documentElement;for(var y=Ce(10)?document.body:null,c=m.offsetParent||null;c===y&&m.nextElementSibling;)c=(m=m.nextElementSibling).offsetParent;var p=c&&c.nodeName;return p&&p!=="BODY"&&p!=="HTML"?["TH","TD","TABLE"].indexOf(c.nodeName)!==-1&&Ct(c,"position")==="static"?We(c):c:m?m.ownerDocument.documentElement:document.documentElement}function st(m){return m.parentNode!==null?st(m.parentNode):m}function Oe(m,y){if(!(m&&m.nodeType&&y&&y.nodeType))return document.documentElement;var c=m.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_FOLLOWING,p=c?m:y,w=c?y:m,E=document.createRange();E.setStart(p,0),E.setEnd(w,0);var S,L,V=E.commonAncestorContainer;if(m!==V&&y!==V||p.contains(w))return(L=(S=V).nodeName)==="BODY"||L!=="HTML"&&We(S.firstElementChild)!==S?We(V):V;var te=st(m);return te.host?Oe(te.host,y):Oe(m,st(y).host)}function tt(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",c=y==="top"?"scrollTop":"scrollLeft",p=m.nodeName;if(p==="BODY"||p==="HTML"){var w=m.ownerDocument.documentElement,E=m.ownerDocument.scrollingElement||w;return E[c]}return m[c]}function Me(m,y){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=tt(y,"top"),w=tt(y,"left"),E=c?-1:1;return m.top+=p*E,m.bottom+=p*E,m.left+=w*E,m.right+=w*E,m}function _e(m,y){var c=y==="x"?"Left":"Top",p=c==="Left"?"Right":"Bottom";return parseFloat(m["border"+c+"Width"])+parseFloat(m["border"+p+"Width"])}function de(m,y,c,p){return Math.max(y["offset"+m],y["scroll"+m],c["client"+m],c["offset"+m],c["scroll"+m],Ce(10)?parseInt(c["offset"+m])+parseInt(p["margin"+(m==="Height"?"Top":"Left")])+parseInt(p["margin"+(m==="Height"?"Bottom":"Right")]):0)}function K(m){var y=m.body,c=m.documentElement,p=Ce(10)&&getComputedStyle(c);return{height:de("Height",y,c,p),width:de("Width",y,c,p)}}var Ee=function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")},sn=function(){function m(y,c){for(var p=0;p<c.length;p++){var w=c[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,c,p){return c&&m(y.prototype,c),p&&m(y,p),y}}(),wt=function(m,y,c){return y in m?Object.defineProperty(m,y,{value:c,enumerable:!0,configurable:!0,writable:!0}):m[y]=c,m},we=Object.assign||function(m){for(var y=1;y<arguments.length;y++){var c=arguments[y];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(m[p]=c[p])}return m};function ue(m){return we({},m,{right:m.left+m.width,bottom:m.top+m.height})}function Dt(m){var y={};try{if(Ce(10)){y=m.getBoundingClientRect();var c=tt(m,"top"),p=tt(m,"left");y.top+=c,y.left+=p,y.bottom+=c,y.right+=p}else y=m.getBoundingClientRect()}catch{}var w={left:y.left,top:y.top,width:y.right-y.left,height:y.bottom-y.top},E=m.nodeName==="HTML"?K(m.ownerDocument):{},S=E.width||m.clientWidth||w.width,L=E.height||m.clientHeight||w.height,V=m.offsetWidth-S,te=m.offsetHeight-L;if(V||te){var se=Ct(m);V-=_e(se,"x"),te-=_e(se,"y"),w.width-=V,w.height-=te}return ue(w)}function ur(m,y){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=Ce(10),w=y.nodeName==="HTML",E=Dt(m),S=Dt(y),L=ae(m),V=Ct(y),te=parseFloat(V.borderTopWidth),se=parseFloat(V.borderLeftWidth);c&&w&&(S.top=Math.max(S.top,0),S.left=Math.max(S.left,0));var ie=ue({top:E.top-S.top-te,left:E.left-S.left-se,width:E.width,height:E.height});if(ie.marginTop=0,ie.marginLeft=0,!p&&w){var le=parseFloat(V.marginTop),Te=parseFloat(V.marginLeft);ie.top-=te-le,ie.bottom-=te-le,ie.left-=se-Te,ie.right-=se-Te,ie.marginTop=le,ie.marginLeft=Te}return(p&&!c?y.contains(L):y===L&&L.nodeName!=="BODY")&&(ie=Me(ie,y)),ie}function Ps(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=m.ownerDocument.documentElement,p=ur(m,c),w=Math.max(c.clientWidth,window.innerWidth||0),E=Math.max(c.clientHeight,window.innerHeight||0),S=y?0:tt(c),L=y?0:tt(c,"left"),V={top:S-p.top+p.marginTop,left:L-p.left+p.marginLeft,width:w,height:E};return ue(V)}function Lu(m){var y=m.nodeName;if(y==="BODY"||y==="HTML")return!1;if(Ct(m,"position")==="fixed")return!0;var c=X(m);return!!c&&Lu(c)}function Vu(m){if(!m||!m.parentElement||Ce())return document.documentElement;for(var y=m.parentElement;y&&Ct(y,"transform")==="none";)y=y.parentElement;return y||document.documentElement}function Za(m,y,c,p){var w=arguments.length>4&&arguments[4]!==void 0&&arguments[4],E={top:0,left:0},S=w?Vu(m):Oe(m,Ae(y));if(p==="viewport")E=Ps(S,w);else{var L=void 0;p==="scrollParent"?(L=ae(X(y))).nodeName==="BODY"&&(L=m.ownerDocument.documentElement):L=p==="window"?m.ownerDocument.documentElement:p;var V=ur(L,S,w);if(L.nodeName!=="HTML"||Lu(S))E=V;else{var te=K(m.ownerDocument),se=te.height,ie=te.width;E.top+=V.top-V.marginTop,E.bottom=se+V.top,E.left+=V.left-V.marginLeft,E.right=ie+V.left}}var le=typeof(c=c||0)=="number";return E.left+=le?c:c.left||0,E.top+=le?c:c.top||0,E.right-=le?c:c.right||0,E.bottom-=le?c:c.bottom||0,E}function jv(m){return m.width*m.height}function Bu(m,y,c,p,w){var E=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(m.indexOf("auto")===-1)return m;var S=Za(c,p,E,w),L={top:{width:S.width,height:y.top-S.top},right:{width:S.right-y.right,height:S.height},bottom:{width:S.width,height:S.bottom-y.bottom},left:{width:y.left-S.left,height:S.height}},V=Object.keys(L).map(function(le){return we({key:le},L[le],{area:jv(L[le])})}).sort(function(le,Te){return Te.area-le.area}),te=V.filter(function(le){var Te=le.width,Re=le.height;return Te>=c.clientWidth&&Re>=c.clientHeight}),se=te.length>0?te[0].key:V[0].key,ie=m.split("-")[1];return se+(ie?"-"+ie:"")}function Wu(m,y,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,w=p?Vu(y):Oe(y,Ae(c));return ur(c,w,p)}function $u(m){var y=m.ownerDocument.defaultView.getComputedStyle(m),c=parseFloat(y.marginTop||0)+parseFloat(y.marginBottom||0),p=parseFloat(y.marginLeft||0)+parseFloat(y.marginRight||0);return{width:m.offsetWidth+p,height:m.offsetHeight+c}}function Cs(m){var y={left:"right",right:"left",bottom:"top",top:"bottom"};return m.replace(/left|right|bottom|top/g,function(c){return y[c]})}function Uu(m,y,c){c=c.split("-")[0];var p=$u(m),w={width:p.width,height:p.height},E=["right","left"].indexOf(c)!==-1,S=E?"top":"left",L=E?"left":"top",V=E?"height":"width",te=E?"width":"height";return w[S]=y[S]+y[V]/2-p[V]/2,w[L]=c===L?y[L]-p[te]:y[Cs(L)],w}function _i(m,y){return Array.prototype.find?m.find(y):m.filter(y)[0]}function qu(m,y,c){return(c===void 0?m:m.slice(0,function(p,w,E){if(Array.prototype.findIndex)return p.findIndex(function(L){return L.name===E});var S=_i(p,function(L){return L.name===E});return p.indexOf(S)}(m,0,c))).forEach(function(p){p.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var w=p.function||p.fn;p.enabled&&bt(w)&&(y.offsets.popper=ue(y.offsets.popper),y.offsets.reference=ue(y.offsets.reference),y=w(y,p))}),y}function Fv(){if(!this.state.isDestroyed){var m={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};m.offsets.reference=Wu(this.state,this.popper,this.reference,this.options.positionFixed),m.placement=Bu(this.options.placement,m.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),m.originalPlacement=m.placement,m.positionFixed=this.options.positionFixed,m.offsets.popper=Uu(this.popper,m.offsets.reference,m.placement),m.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",m=qu(this.modifiers,m),this.state.isCreated?this.options.onUpdate(m):(this.state.isCreated=!0,this.options.onCreate(m))}}function Hu(m,y){return m.some(function(c){var p=c.name;return c.enabled&&p===y})}function Ka(m){for(var y=[!1,"ms","Webkit","Moz","O"],c=m.charAt(0).toUpperCase()+m.slice(1),p=0;p<y.length;p++){var w=y[p],E=w?""+w+c:m;if(typeof document.body.style[E]<"u")return E}return null}function Lv(){return this.state.isDestroyed=!0,Hu(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Ka("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function zu(m){var y=m.ownerDocument;return y?y.defaultView:window}function Gu(m,y,c,p){var w=m.nodeName==="BODY",E=w?m.ownerDocument.defaultView:m;E.addEventListener(y,c,{passive:!0}),w||Gu(ae(E.parentNode),y,c,p),p.push(E)}function Vv(m,y,c,p){c.updateBound=p,zu(m).addEventListener("resize",c.updateBound,{passive:!0});var w=ae(m);return Gu(w,"scroll",c.updateBound,c.scrollParents),c.scrollElement=w,c.eventsEnabled=!0,c}function Bv(){this.state.eventsEnabled||(this.state=Vv(this.reference,this.options,this.state,this.scheduleUpdate))}function Wv(){var m,y;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(m=this.reference,y=this.state,zu(m).removeEventListener("resize",y.updateBound),y.scrollParents.forEach(function(c){c.removeEventListener("scroll",y.updateBound)}),y.updateBound=null,y.scrollParents=[],y.scrollElement=null,y.eventsEnabled=!1,y))}function Ja(m){return m!==""&&!isNaN(parseFloat(m))&&isFinite(m)}function el(m,y){Object.keys(y).forEach(function(c){var p="";["width","height","top","right","bottom","left"].indexOf(c)!==-1&&Ja(y[c])&&(p="px"),m.style[c]=y[c]+p})}var $v=et&&/Firefox/i.test(navigator.userAgent);function Yu(m,y,c){var p=_i(m,function(L){return L.name===y}),w=!!p&&m.some(function(L){return L.name===c&&L.enabled&&L.order<p.order});if(!w){var E="`"+y+"`",S="`"+c+"`";console.warn(S+" modifier is required by "+E+" modifier in order to work, be sure to include it before "+E+"!")}return w}var Xu=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],tl=Xu.slice(3);function Qu(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=tl.indexOf(m),p=tl.slice(c+1).concat(tl.slice(0,c));return y?p.reverse():p}var Uv={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(m){var y=m.placement,c=y.split("-")[0],p=y.split("-")[1];if(p){var w=m.offsets,E=w.reference,S=w.popper,L=["bottom","top"].indexOf(c)!==-1,V=L?"left":"top",te=L?"width":"height",se={start:wt({},V,E[V]),end:wt({},V,E[V]+E[te]-S[te])};m.offsets.popper=we({},S,se[p])}return m}},offset:{order:200,enabled:!0,fn:function(m,y){var c,p=y.offset,w=m.placement,E=m.offsets,S=E.popper,L=E.reference,V=w.split("-")[0];return c=Ja(+p)?[+p,0]:function(te,se,ie,le){var Te=[0,0],Re=["right","left"].indexOf(le)!==-1,ot=te.split(/(\+|\-)/).map(function(Qe){return Qe.trim()}),ut=ot.indexOf(_i(ot,function(Qe){return Qe.search(/,|\s/)!==-1}));ot[ut]&&ot[ut].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var Xt=/\s*,\s*|\s+/,ht=ut!==-1?[ot.slice(0,ut).concat([ot[ut].split(Xt)[0]]),[ot[ut].split(Xt)[1]].concat(ot.slice(ut+1))]:[ot];return ht=ht.map(function(Qe,Bt){var Qt=(Bt===1?!Re:Re)?"height":"width",mt=!1;return Qe.reduce(function(Wt,Zt){return Wt[Wt.length-1]===""&&["+","-"].indexOf(Zt)!==-1?(Wt[Wt.length-1]=Zt,mt=!0,Wt):mt?(Wt[Wt.length-1]+=Zt,mt=!1,Wt):Wt.concat(Zt)},[]).map(function(Wt){return function(Zt,dl,Ls,Vs){var Ei=Zt.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),Lr=+Ei[1],zn=Ei[2];return Lr?zn.indexOf("%")===0?ue(zn==="%p"?Ls:Vs)[dl]/100*Lr:zn==="vh"||zn==="vw"?(zn==="vh"?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*Lr:Lr:Zt}(Wt,Qt,se,ie)})}),ht.forEach(function(Qe,Bt){Qe.forEach(function(Qt,mt){Ja(Qt)&&(Te[Bt]+=Qt*(Qe[mt-1]==="-"?-1:1))})}),Te}(p,S,L,V),V==="left"?(S.top+=c[0],S.left-=c[1]):V==="right"?(S.top+=c[0],S.left+=c[1]):V==="top"?(S.left+=c[0],S.top-=c[1]):V==="bottom"&&(S.left+=c[0],S.top+=c[1]),m.popper=S,m},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(m,y){var c=y.boundariesElement||We(m.instance.popper);m.instance.reference===c&&(c=We(c));var p=Ka("transform"),w=m.instance.popper.style,E=w.top,S=w.left,L=w[p];w.top="",w.left="",w[p]="";var V=Za(m.instance.popper,m.instance.reference,y.padding,c,m.positionFixed);w.top=E,w.left=S,w[p]=L,y.boundaries=V;var te=y.priority,se=m.offsets.popper,ie={primary:function(le){var Te=se[le];return se[le]<V[le]&&!y.escapeWithReference&&(Te=Math.max(se[le],V[le])),wt({},le,Te)},secondary:function(le){var Te=le==="right"?"left":"top",Re=se[Te];return se[le]>V[le]&&!y.escapeWithReference&&(Re=Math.min(se[Te],V[le]-(le==="right"?se.width:se.height))),wt({},Te,Re)}};return te.forEach(function(le){var Te=["left","top"].indexOf(le)!==-1?"primary":"secondary";se=we({},se,ie[Te](le))}),m.offsets.popper=se,m},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(m){var y=m.offsets,c=y.popper,p=y.reference,w=m.placement.split("-")[0],E=Math.floor,S=["top","bottom"].indexOf(w)!==-1,L=S?"right":"bottom",V=S?"left":"top",te=S?"width":"height";return c[L]<E(p[V])&&(m.offsets.popper[V]=E(p[V])-c[te]),c[V]>E(p[L])&&(m.offsets.popper[V]=E(p[L])),m}},arrow:{order:500,enabled:!0,fn:function(m,y){var c;if(!Yu(m.instance.modifiers,"arrow","keepTogether"))return m;var p=y.element;if(typeof p=="string"){if(!(p=m.instance.popper.querySelector(p)))return m}else if(!m.instance.popper.contains(p))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),m;var w=m.placement.split("-")[0],E=m.offsets,S=E.popper,L=E.reference,V=["left","right"].indexOf(w)!==-1,te=V?"height":"width",se=V?"Top":"Left",ie=se.toLowerCase(),le=V?"left":"top",Te=V?"bottom":"right",Re=$u(p)[te];L[Te]-Re<S[ie]&&(m.offsets.popper[ie]-=S[ie]-(L[Te]-Re)),L[ie]+Re>S[Te]&&(m.offsets.popper[ie]+=L[ie]+Re-S[Te]),m.offsets.popper=ue(m.offsets.popper);var ot=L[ie]+L[te]/2-Re/2,ut=Ct(m.instance.popper),Xt=parseFloat(ut["margin"+se]),ht=parseFloat(ut["border"+se+"Width"]),Qe=ot-m.offsets.popper[ie]-Xt-ht;return Qe=Math.max(Math.min(S[te]-Re,Qe),0),m.arrowElement=p,m.offsets.arrow=(wt(c={},ie,Math.round(Qe)),wt(c,le,""),c),m},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(m,y){if(Hu(m.instance.modifiers,"inner")||m.flipped&&m.placement===m.originalPlacement)return m;var c=Za(m.instance.popper,m.instance.reference,y.padding,y.boundariesElement,m.positionFixed),p=m.placement.split("-")[0],w=Cs(p),E=m.placement.split("-")[1]||"",S=[];switch(y.behavior){case"flip":S=[p,w];break;case"clockwise":S=Qu(p);break;case"counterclockwise":S=Qu(p,!0);break;default:S=y.behavior}return S.forEach(function(L,V){if(p!==L||S.length===V+1)return m;p=m.placement.split("-")[0],w=Cs(p);var te=m.offsets.popper,se=m.offsets.reference,ie=Math.floor,le=p==="left"&&ie(te.right)>ie(se.left)||p==="right"&&ie(te.left)<ie(se.right)||p==="top"&&ie(te.bottom)>ie(se.top)||p==="bottom"&&ie(te.top)<ie(se.bottom),Te=ie(te.left)<ie(c.left),Re=ie(te.right)>ie(c.right),ot=ie(te.top)<ie(c.top),ut=ie(te.bottom)>ie(c.bottom),Xt=p==="left"&&Te||p==="right"&&Re||p==="top"&&ot||p==="bottom"&&ut,ht=["top","bottom"].indexOf(p)!==-1,Qe=!!y.flipVariations&&(ht&&E==="start"&&Te||ht&&E==="end"&&Re||!ht&&E==="start"&&ot||!ht&&E==="end"&&ut),Bt=!!y.flipVariationsByContent&&(ht&&E==="start"&&Re||ht&&E==="end"&&Te||!ht&&E==="start"&&ut||!ht&&E==="end"&&ot),Qt=Qe||Bt;(le||Xt||Qt)&&(m.flipped=!0,(le||Xt)&&(p=S[V+1]),Qt&&(E=function(mt){return mt==="end"?"start":mt==="start"?"end":mt}(E)),m.placement=p+(E?"-"+E:""),m.offsets.popper=we({},m.offsets.popper,Uu(m.instance.popper,m.offsets.reference,m.placement)),m=qu(m.instance.modifiers,m,"flip"))}),m},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(m){var y=m.placement,c=y.split("-")[0],p=m.offsets,w=p.popper,E=p.reference,S=["left","right"].indexOf(c)!==-1,L=["top","left"].indexOf(c)===-1;return w[S?"left":"top"]=E[c]-(L?w[S?"width":"height"]:0),m.placement=Cs(y),m.offsets.popper=ue(w),m}},hide:{order:800,enabled:!0,fn:function(m){if(!Yu(m.instance.modifiers,"hide","preventOverflow"))return m;var y=m.offsets.reference,c=_i(m.instance.modifiers,function(p){return p.name==="preventOverflow"}).boundaries;if(y.bottom<c.top||y.left>c.right||y.top>c.bottom||y.right<c.left){if(m.hide===!0)return m;m.hide=!0,m.attributes["x-out-of-boundaries"]=""}else{if(m.hide===!1)return m;m.hide=!1,m.attributes["x-out-of-boundaries"]=!1}return m}},computeStyle:{order:850,enabled:!0,fn:function(m,y){var c=y.x,p=y.y,w=m.offsets.popper,E=_i(m.instance.modifiers,function(Qe){return Qe.name==="applyStyle"}).gpuAcceleration;E!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var S,L,V=E!==void 0?E:y.gpuAcceleration,te=We(m.instance.popper),se=Dt(te),ie={position:w.position},le=function(Qe,Bt){var Qt=Qe.offsets,mt=Qt.popper,Wt=Qt.reference,Zt=Math.round,dl=Math.floor,Ls=function(gy){return gy},Vs=Zt(Wt.width),Ei=Zt(mt.width),Lr=["left","right"].indexOf(Qe.placement)!==-1,zn=Qe.placement.indexOf("-")!==-1,Ph=Bt?Lr||zn||Vs%2==Ei%2?Zt:dl:Ls,Ch=Bt?Zt:Ls;return{left:Ph(Vs%2==1&&Ei%2==1&&!zn&&Bt?mt.left-1:mt.left),top:Ch(mt.top),bottom:Ch(mt.bottom),right:Ph(mt.right)}}(m,window.devicePixelRatio<2||!$v),Te=c==="bottom"?"top":"bottom",Re=p==="right"?"left":"right",ot=Ka("transform");if(L=Te==="bottom"?te.nodeName==="HTML"?-te.clientHeight+le.bottom:-se.height+le.bottom:le.top,S=Re==="right"?te.nodeName==="HTML"?-te.clientWidth+le.right:-se.width+le.right:le.left,V&&ot)ie[ot]="translate3d("+S+"px, "+L+"px, 0)",ie[Te]=0,ie[Re]=0,ie.willChange="transform";else{var ut=Te==="bottom"?-1:1,Xt=Re==="right"?-1:1;ie[Te]=L*ut,ie[Re]=S*Xt,ie.willChange=Te+", "+Re}var ht={"x-placement":m.placement};return m.attributes=we({},ht,m.attributes),m.styles=we({},ie,m.styles),m.arrowStyles=we({},m.offsets.arrow,m.arrowStyles),m},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(m){var y,c;return el(m.instance.popper,m.styles),y=m.instance.popper,c=m.attributes,Object.keys(c).forEach(function(p){c[p]!==!1?y.setAttribute(p,c[p]):y.removeAttribute(p)}),m.arrowElement&&Object.keys(m.arrowStyles).length&&el(m.arrowElement,m.arrowStyles),m},onLoad:function(m,y,c,p,w){var E=Wu(w,y,m,c.positionFixed),S=Bu(c.placement,E,y,m,c.modifiers.flip.boundariesElement,c.modifiers.flip.padding);return y.setAttribute("x-placement",S),el(y,{position:c.positionFixed?"fixed":"absolute"}),c},gpuAcceleration:void 0}}},xs=function(){function m(y,c){var p=this,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ee(this,m),this.scheduleUpdate=function(){return requestAnimationFrame(p.update)},this.update=Pt(this.update.bind(this)),this.options=we({},m.Defaults,w),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=y&&y.jquery?y[0]:y,this.popper=c&&c.jquery?c[0]:c,this.options.modifiers={},Object.keys(we({},m.Defaults.modifiers,w.modifiers)).forEach(function(S){p.options.modifiers[S]=we({},m.Defaults.modifiers[S]||{},w.modifiers?w.modifiers[S]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(S){return we({name:S},p.options.modifiers[S])}).sort(function(S,L){return S.order-L.order}),this.modifiers.forEach(function(S){S.enabled&&bt(S.onLoad)&&S.onLoad(p.reference,p.popper,p.options,S,p.state)}),this.update();var E=this.options.eventsEnabled;E&&this.enableEventListeners(),this.state.eventsEnabled=E}return sn(m,[{key:"update",value:function(){return Fv.call(this)}},{key:"destroy",value:function(){return Lv.call(this)}},{key:"enableEventListeners",value:function(){return Bv.call(this)}},{key:"disableEventListeners",value:function(){return Wv.call(this)}}]),m}();xs.Utils=(typeof window<"u"?window:yr).PopperUtils,xs.placements=Xu,xs.Defaults=Uv;var Es=xs,jr="dropdown",Ms="bs.dropdown",qv=s.default.fn[jr],Hv=new RegExp("38|40|27"),Ss="disabled",on="show",Zu="dropdown-menu-right",Ku="hide.bs.dropdown",Ju="hidden.bs.dropdown",nl="click.bs.dropdown.data-api",eh="keydown.bs.dropdown.data-api",As='[data-toggle="dropdown"]',rl=".dropdown-menu",zv={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},Gv={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Hn=function(){function m(c,p){this._element=c,this._popper=null,this._config=this._getConfig(p),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var y=m.prototype;return y.toggle=function(){if(!this._element.disabled&&!s.default(this._element).hasClass(Ss)){var c=s.default(this._menu).hasClass(on);m._clearMenus(),c||this.show(!0)}},y.show=function(c){if(c===void 0&&(c=!1),!(this._element.disabled||s.default(this._element).hasClass(Ss)||s.default(this._menu).hasClass(on))){var p={relatedTarget:this._element},w=s.default.Event("show.bs.dropdown",p),E=m._getParentFromElement(this._element);if(s.default(E).trigger(w),!w.isDefaultPrevented()){if(!this._inNavbar&&c){if(typeof Es>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var S=this._element;this._config.reference==="parent"?S=E:d.isElement(this._config.reference)&&(S=this._config.reference,typeof this._config.reference.jquery<"u"&&(S=this._config.reference[0])),this._config.boundary!=="scrollParent"&&s.default(E).addClass("position-static"),this._popper=new Es(S,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&s.default(E).closest(".navbar-nav").length===0&&s.default(document.body).children().on("mouseover",null,s.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),s.default(this._menu).toggleClass(on),s.default(E).toggleClass(on).trigger(s.default.Event("shown.bs.dropdown",p))}}},y.hide=function(){if(!this._element.disabled&&!s.default(this._element).hasClass(Ss)&&s.default(this._menu).hasClass(on)){var c={relatedTarget:this._element},p=s.default.Event(Ku,c),w=m._getParentFromElement(this._element);s.default(w).trigger(p),p.isDefaultPrevented()||(this._popper&&this._popper.destroy(),s.default(this._menu).toggleClass(on),s.default(w).toggleClass(on).trigger(s.default.Event(Ju,c)))}},y.dispose=function(){s.default.removeData(this._element,Ms),s.default(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,this._popper!==null&&(this._popper.destroy(),this._popper=null)},y.update=function(){this._inNavbar=this._detectNavbar(),this._popper!==null&&this._popper.scheduleUpdate()},y._addEventListeners=function(){var c=this;s.default(this._element).on("click.bs.dropdown",function(p){p.preventDefault(),p.stopPropagation(),c.toggle()})},y._getConfig=function(c){return c=l({},this.constructor.Default,s.default(this._element).data(),c),d.typeCheckConfig(jr,c,this.constructor.DefaultType),c},y._getMenuElement=function(){if(!this._menu){var c=m._getParentFromElement(this._element);c&&(this._menu=c.querySelector(rl))}return this._menu},y._getPlacement=function(){var c=s.default(this._element.parentNode),p="bottom-start";return c.hasClass("dropup")?p=s.default(this._menu).hasClass(Zu)?"top-end":"top-start":c.hasClass("dropright")?p="right-start":c.hasClass("dropleft")?p="left-start":s.default(this._menu).hasClass(Zu)&&(p="bottom-end"),p},y._detectNavbar=function(){return s.default(this._element).closest(".navbar").length>0},y._getOffset=function(){var c=this,p={};return typeof this._config.offset=="function"?p.fn=function(w){return w.offsets=l({},w.offsets,c._config.offset(w.offsets,c._element)),w}:p.offset=this._config.offset,p},y._getPopperConfig=function(){var c={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return this._config.display==="static"&&(c.modifiers.applyStyle={enabled:!1}),l({},c,this._config.popperConfig)},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this).data(Ms);if(p||(p=new m(this,typeof c=="object"?c:null),s.default(this).data(Ms,p)),typeof c=="string"){if(typeof p[c]>"u")throw new TypeError('No method named "'+c+'"');p[c]()}})},m._clearMenus=function(c){if(!c||c.which!==3&&(c.type!=="keyup"||c.which===9))for(var p=[].slice.call(document.querySelectorAll(As)),w=0,E=p.length;w<E;w++){var S=m._getParentFromElement(p[w]),L=s.default(p[w]).data(Ms),V={relatedTarget:p[w]};if(c&&c.type==="click"&&(V.clickEvent=c),L){var te=L._menu;if(s.default(S).hasClass(on)&&!(c&&(c.type==="click"&&/input|textarea/i.test(c.target.tagName)||c.type==="keyup"&&c.which===9)&&s.default.contains(S,c.target))){var se=s.default.Event(Ku,V);s.default(S).trigger(se),se.isDefaultPrevented()||("ontouchstart"in document.documentElement&&s.default(document.body).children().off("mouseover",null,s.default.noop),p[w].setAttribute("aria-expanded","false"),L._popper&&L._popper.destroy(),s.default(te).removeClass(on),s.default(S).removeClass(on).trigger(s.default.Event(Ju,V)))}}}},m._getParentFromElement=function(c){var p,w=d.getSelectorFromElement(c);return w&&(p=document.querySelector(w)),p||c.parentNode},m._dataApiKeydownHandler=function(c){if(!(/input|textarea/i.test(c.target.tagName)?c.which===32||c.which!==27&&(c.which!==40&&c.which!==38||s.default(c.target).closest(rl).length):!Hv.test(c.which))&&!this.disabled&&!s.default(this).hasClass(Ss)){var p=m._getParentFromElement(this),w=s.default(p).hasClass(on);if(w||c.which!==27){if(c.preventDefault(),c.stopPropagation(),!w||c.which===27||c.which===32)return c.which===27&&s.default(p.querySelector(As)).trigger("focus"),void s.default(this).trigger("click");var E=[].slice.call(p.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(L){return s.default(L).is(":visible")});if(E.length!==0){var S=E.indexOf(c.target);c.which===38&&S>0&&S--,c.which===40&&S<E.length-1&&S++,S<0&&(S=0),E[S].focus()}}}},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return zv}},{key:"DefaultType",get:function(){return Gv}}]),m}();s.default(document).on(eh,As,Hn._dataApiKeydownHandler).on(eh,rl,Hn._dataApiKeydownHandler).on(nl+" keyup.bs.dropdown.data-api",Hn._clearMenus).on(nl,As,function(m){m.preventDefault(),m.stopPropagation(),Hn._jQueryInterface.call(s.default(this),"toggle")}).on(nl,".dropdown form",function(m){m.stopPropagation()}),s.default.fn[jr]=Hn._jQueryInterface,s.default.fn[jr].Constructor=Hn,s.default.fn[jr].noConflict=function(){return s.default.fn[jr]=qv,Hn._jQueryInterface};var Ns="bs.modal",Yv=s.default.fn.modal,th="modal-open",Fr="fade",ks="show",nh="modal-static",rh="hidden.bs.modal",ih="show.bs.modal",Os="focusin.bs.modal",sh="resize.bs.modal",il="click.dismiss.bs.modal",oh="keydown.dismiss.bs.modal",ah="mousedown.dismiss.bs.modal",lh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",sl={backdrop:!0,keyboard:!0,focus:!0,show:!0},Xv={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},bi=function(){function m(c,p){this._config=this._getConfig(p),this._element=c,this._dialog=c.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var y=m.prototype;return y.toggle=function(c){return this._isShown?this.hide():this.show(c)},y.show=function(c){var p=this;if(!this._isShown&&!this._isTransitioning){var w=s.default.Event(ih,{relatedTarget:c});s.default(this._element).trigger(w),w.isDefaultPrevented()||(this._isShown=!0,s.default(this._element).hasClass(Fr)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),s.default(this._element).on(il,'[data-dismiss="modal"]',function(E){return p.hide(E)}),s.default(this._dialog).on(ah,function(){s.default(p._element).one("mouseup.dismiss.bs.modal",function(E){s.default(E.target).is(p._element)&&(p._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return p._showElement(c)}))}},y.hide=function(c){var p=this;if(c&&c.preventDefault(),this._isShown&&!this._isTransitioning){var w=s.default.Event("hide.bs.modal");if(s.default(this._element).trigger(w),this._isShown&&!w.isDefaultPrevented()){this._isShown=!1;var E=s.default(this._element).hasClass(Fr);if(E&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),s.default(document).off(Os),s.default(this._element).removeClass(ks),s.default(this._element).off(il),s.default(this._dialog).off(ah),E){var S=d.getTransitionDurationFromElement(this._element);s.default(this._element).one(d.TRANSITION_END,function(L){return p._hideModal(L)}).emulateTransitionEnd(S)}else this._hideModal()}}},y.dispose=function(){[window,this._element,this._dialog].forEach(function(c){return s.default(c).off(".bs.modal")}),s.default(document).off(Os),s.default.removeData(this._element,Ns),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},y.handleUpdate=function(){this._adjustDialog()},y._getConfig=function(c){return c=l({},sl,c),d.typeCheckConfig("modal",c,Xv),c},y._triggerBackdropTransition=function(){var c=this,p=s.default.Event("hidePrevented.bs.modal");if(s.default(this._element).trigger(p),!p.isDefaultPrevented()){var w=this._element.scrollHeight>document.documentElement.clientHeight;w||(this._element.style.overflowY="hidden"),this._element.classList.add(nh);var E=d.getTransitionDurationFromElement(this._dialog);s.default(this._element).off(d.TRANSITION_END),s.default(this._element).one(d.TRANSITION_END,function(){c._element.classList.remove(nh),w||s.default(c._element).one(d.TRANSITION_END,function(){c._element.style.overflowY=""}).emulateTransitionEnd(c._element,E)}).emulateTransitionEnd(E),this._element.focus()}},y._showElement=function(c){var p=this,w=s.default(this._element).hasClass(Fr),E=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),s.default(this._dialog).hasClass("modal-dialog-scrollable")&&E?E.scrollTop=0:this._element.scrollTop=0,w&&d.reflow(this._element),s.default(this._element).addClass(ks),this._config.focus&&this._enforceFocus();var S=s.default.Event("shown.bs.modal",{relatedTarget:c}),L=function(){p._config.focus&&p._element.focus(),p._isTransitioning=!1,s.default(p._element).trigger(S)};if(w){var V=d.getTransitionDurationFromElement(this._dialog);s.default(this._dialog).one(d.TRANSITION_END,L).emulateTransitionEnd(V)}else L()},y._enforceFocus=function(){var c=this;s.default(document).off(Os).on(Os,function(p){document!==p.target&&c._element!==p.target&&s.default(c._element).has(p.target).length===0&&c._element.focus()})},y._setEscapeEvent=function(){var c=this;this._isShown?s.default(this._element).on(oh,function(p){c._config.keyboard&&p.which===27?(p.preventDefault(),c.hide()):c._config.keyboard||p.which!==27||c._triggerBackdropTransition()}):this._isShown||s.default(this._element).off(oh)},y._setResizeEvent=function(){var c=this;this._isShown?s.default(window).on(sh,function(p){return c.handleUpdate(p)}):s.default(window).off(sh)},y._hideModal=function(){var c=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){s.default(document.body).removeClass(th),c._resetAdjustments(),c._resetScrollbar(),s.default(c._element).trigger(rh)})},y._removeBackdrop=function(){this._backdrop&&(s.default(this._backdrop).remove(),this._backdrop=null)},y._showBackdrop=function(c){var p=this,w=s.default(this._element).hasClass(Fr)?Fr:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",w&&this._backdrop.classList.add(w),s.default(this._backdrop).appendTo(document.body),s.default(this._element).on(il,function(V){p._ignoreBackdropClick?p._ignoreBackdropClick=!1:V.target===V.currentTarget&&(p._config.backdrop==="static"?p._triggerBackdropTransition():p.hide())}),w&&d.reflow(this._backdrop),s.default(this._backdrop).addClass(ks),!c)return;if(!w)return void c();var E=d.getTransitionDurationFromElement(this._backdrop);s.default(this._backdrop).one(d.TRANSITION_END,c).emulateTransitionEnd(E)}else if(!this._isShown&&this._backdrop){s.default(this._backdrop).removeClass(ks);var S=function(){p._removeBackdrop(),c&&c()};if(s.default(this._element).hasClass(Fr)){var L=d.getTransitionDurationFromElement(this._backdrop);s.default(this._backdrop).one(d.TRANSITION_END,S).emulateTransitionEnd(L)}else S()}else c&&c()},y._adjustDialog=function(){var c=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&c&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!c&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},y._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},y._checkScrollbar=function(){var c=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(c.left+c.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},y._setScrollbar=function(){var c=this;if(this._isBodyOverflowing){var p=[].slice.call(document.querySelectorAll(lh)),w=[].slice.call(document.querySelectorAll(".sticky-top"));s.default(p).each(function(L,V){var te=V.style.paddingRight,se=s.default(V).css("padding-right");s.default(V).data("padding-right",te).css("padding-right",parseFloat(se)+c._scrollbarWidth+"px")}),s.default(w).each(function(L,V){var te=V.style.marginRight,se=s.default(V).css("margin-right");s.default(V).data("margin-right",te).css("margin-right",parseFloat(se)-c._scrollbarWidth+"px")});var E=document.body.style.paddingRight,S=s.default(document.body).css("padding-right");s.default(document.body).data("padding-right",E).css("padding-right",parseFloat(S)+this._scrollbarWidth+"px")}s.default(document.body).addClass(th)},y._resetScrollbar=function(){var c=[].slice.call(document.querySelectorAll(lh));s.default(c).each(function(E,S){var L=s.default(S).data("padding-right");s.default(S).removeData("padding-right"),S.style.paddingRight=L||""});var p=[].slice.call(document.querySelectorAll(".sticky-top"));s.default(p).each(function(E,S){var L=s.default(S).data("margin-right");typeof L<"u"&&s.default(S).css("margin-right",L).removeData("margin-right")});var w=s.default(document.body).data("padding-right");s.default(document.body).removeData("padding-right"),document.body.style.paddingRight=w||""},y._getScrollbarWidth=function(){var c=document.createElement("div");c.className="modal-scrollbar-measure",document.body.appendChild(c);var p=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),p},m._jQueryInterface=function(c,p){return this.each(function(){var w=s.default(this).data(Ns),E=l({},sl,s.default(this).data(),typeof c=="object"&&c?c:{});if(w||(w=new m(this,E),s.default(this).data(Ns,w)),typeof c=="string"){if(typeof w[c]>"u")throw new TypeError('No method named "'+c+'"');w[c](p)}else E.show&&w.show(p)})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return sl}}]),m}();s.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(m){var y,c=this,p=d.getSelectorFromElement(this);p&&(y=document.querySelector(p));var w=s.default(y).data(Ns)?"toggle":l({},s.default(y).data(),s.default(this).data());this.tagName!=="A"&&this.tagName!=="AREA"||m.preventDefault();var E=s.default(y).one(ih,function(S){S.isDefaultPrevented()||E.one(rh,function(){s.default(c).is(":visible")&&c.focus()})});bi._jQueryInterface.call(s.default(y),w,this)}),s.default.fn.modal=bi._jQueryInterface,s.default.fn.modal.Constructor=bi,s.default.fn.modal.noConflict=function(){return s.default.fn.modal=Yv,bi._jQueryInterface};var Qv=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Zv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Kv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function ch(m,y,c){if(m.length===0)return m;if(c&&typeof c=="function")return c(m);for(var p=new window.DOMParser().parseFromString(m,"text/html"),w=Object.keys(y),E=[].slice.call(p.body.querySelectorAll("*")),S=function(te,se){var ie=E[te],le=ie.nodeName.toLowerCase();if(w.indexOf(ie.nodeName.toLowerCase())===-1)return ie.parentNode.removeChild(ie),"continue";var Te=[].slice.call(ie.attributes),Re=[].concat(y["*"]||[],y[le]||[]);Te.forEach(function(ot){(function(ut,Xt){var ht=ut.nodeName.toLowerCase();if(Xt.indexOf(ht)!==-1)return Qv.indexOf(ht)===-1||!!(Zv.test(ut.nodeValue)||Kv.test(ut.nodeValue));for(var Qe=Xt.filter(function(mt){return mt instanceof RegExp}),Bt=0,Qt=Qe.length;Bt<Qt;Bt++)if(Qe[Bt].test(ht))return!0;return!1})(ot,Re)||ie.removeAttribute(ot.nodeName)})},L=0,V=E.length;L<V;L++)S(L);return p.body.innerHTML}var uh="tooltip",ol="bs.tooltip",Jv=s.default.fn.tooltip,ey=new RegExp("(^|\\s)bs-tooltip\\S+","g"),ty=["sanitize","whiteList","sanitizeFn"],Is="fade",Ds="show",wi="show",al="out",Rs="hover",hh="focus",ny={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},ry={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},iy={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},sy={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},hr=function(){function m(c,p){if(typeof Es>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=c,this.config=this._getConfig(p),this.tip=null,this._setListeners()}var y=m.prototype;return y.enable=function(){this._isEnabled=!0},y.disable=function(){this._isEnabled=!1},y.toggleEnabled=function(){this._isEnabled=!this._isEnabled},y.toggle=function(c){if(this._isEnabled)if(c){var p=this.constructor.DATA_KEY,w=s.default(c.currentTarget).data(p);w||(w=new this.constructor(c.currentTarget,this._getDelegateConfig()),s.default(c.currentTarget).data(p,w)),w._activeTrigger.click=!w._activeTrigger.click,w._isWithActiveTrigger()?w._enter(null,w):w._leave(null,w)}else{if(s.default(this.getTipElement()).hasClass(Ds))return void this._leave(null,this);this._enter(null,this)}},y.dispose=function(){clearTimeout(this._timeout),s.default.removeData(this.element,this.constructor.DATA_KEY),s.default(this.element).off(this.constructor.EVENT_KEY),s.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&s.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},y.show=function(){var c=this;if(s.default(this.element).css("display")==="none")throw new Error("Please use show on visible elements");var p=s.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){s.default(this.element).trigger(p);var w=d.findShadowRoot(this.element),E=s.default.contains(w!==null?w:this.element.ownerDocument.documentElement,this.element);if(p.isDefaultPrevented()||!E)return;var S=this.getTipElement(),L=d.getUID(this.constructor.NAME);S.setAttribute("id",L),this.element.setAttribute("aria-describedby",L),this.setContent(),this.config.animation&&s.default(S).addClass(Is);var V=typeof this.config.placement=="function"?this.config.placement.call(this,S,this.element):this.config.placement,te=this._getAttachment(V);this.addAttachmentClass(te);var se=this._getContainer();s.default(S).data(this.constructor.DATA_KEY,this),s.default.contains(this.element.ownerDocument.documentElement,this.tip)||s.default(S).appendTo(se),s.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Es(this.element,S,this._getPopperConfig(te)),s.default(S).addClass(Ds),s.default(S).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&s.default(document.body).children().on("mouseover",null,s.default.noop);var ie=function(){c.config.animation&&c._fixTransition();var Te=c._hoverState;c._hoverState=null,s.default(c.element).trigger(c.constructor.Event.SHOWN),Te===al&&c._leave(null,c)};if(s.default(this.tip).hasClass(Is)){var le=d.getTransitionDurationFromElement(this.tip);s.default(this.tip).one(d.TRANSITION_END,ie).emulateTransitionEnd(le)}else ie()}},y.hide=function(c){var p=this,w=this.getTipElement(),E=s.default.Event(this.constructor.Event.HIDE),S=function(){p._hoverState!==wi&&w.parentNode&&w.parentNode.removeChild(w),p._cleanTipClass(),p.element.removeAttribute("aria-describedby"),s.default(p.element).trigger(p.constructor.Event.HIDDEN),p._popper!==null&&p._popper.destroy(),c&&c()};if(s.default(this.element).trigger(E),!E.isDefaultPrevented()){if(s.default(w).removeClass(Ds),"ontouchstart"in document.documentElement&&s.default(document.body).children().off("mouseover",null,s.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,s.default(this.tip).hasClass(Is)){var L=d.getTransitionDurationFromElement(w);s.default(w).one(d.TRANSITION_END,S).emulateTransitionEnd(L)}else S();this._hoverState=""}},y.update=function(){this._popper!==null&&this._popper.scheduleUpdate()},y.isWithContent=function(){return!!this.getTitle()},y.addAttachmentClass=function(c){s.default(this.getTipElement()).addClass("bs-tooltip-"+c)},y.getTipElement=function(){return this.tip=this.tip||s.default(this.config.template)[0],this.tip},y.setContent=function(){var c=this.getTipElement();this.setElementContent(s.default(c.querySelectorAll(".tooltip-inner")),this.getTitle()),s.default(c).removeClass("fade show")},y.setElementContent=function(c,p){typeof p!="object"||!p.nodeType&&!p.jquery?this.config.html?(this.config.sanitize&&(p=ch(p,this.config.whiteList,this.config.sanitizeFn)),c.html(p)):c.text(p):this.config.html?s.default(p).parent().is(c)||c.empty().append(p):c.text(s.default(p).text())},y.getTitle=function(){var c=this.element.getAttribute("data-original-title");return c||(c=typeof this.config.title=="function"?this.config.title.call(this.element):this.config.title),c},y._getPopperConfig=function(c){var p=this;return l({},{placement:c,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(w){w.originalPlacement!==w.placement&&p._handlePopperPlacementChange(w)},onUpdate:function(w){return p._handlePopperPlacementChange(w)}},this.config.popperConfig)},y._getOffset=function(){var c=this,p={};return typeof this.config.offset=="function"?p.fn=function(w){return w.offsets=l({},w.offsets,c.config.offset(w.offsets,c.element)),w}:p.offset=this.config.offset,p},y._getContainer=function(){return this.config.container===!1?document.body:d.isElement(this.config.container)?s.default(this.config.container):s.default(document).find(this.config.container)},y._getAttachment=function(c){return ny[c.toUpperCase()]},y._setListeners=function(){var c=this;this.config.trigger.split(" ").forEach(function(p){if(p==="click")s.default(c.element).on(c.constructor.Event.CLICK,c.config.selector,function(S){return c.toggle(S)});else if(p!=="manual"){var w=p===Rs?c.constructor.Event.MOUSEENTER:c.constructor.Event.FOCUSIN,E=p===Rs?c.constructor.Event.MOUSELEAVE:c.constructor.Event.FOCUSOUT;s.default(c.element).on(w,c.config.selector,function(S){return c._enter(S)}).on(E,c.config.selector,function(S){return c._leave(S)})}}),this._hideModalHandler=function(){c.element&&c.hide()},s.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},y._fixTitle=function(){var c=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||c!=="string")&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},y._enter=function(c,p){var w=this.constructor.DATA_KEY;(p=p||s.default(c.currentTarget).data(w))||(p=new this.constructor(c.currentTarget,this._getDelegateConfig()),s.default(c.currentTarget).data(w,p)),c&&(p._activeTrigger[c.type==="focusin"?hh:Rs]=!0),s.default(p.getTipElement()).hasClass(Ds)||p._hoverState===wi?p._hoverState=wi:(clearTimeout(p._timeout),p._hoverState=wi,p.config.delay&&p.config.delay.show?p._timeout=setTimeout(function(){p._hoverState===wi&&p.show()},p.config.delay.show):p.show())},y._leave=function(c,p){var w=this.constructor.DATA_KEY;(p=p||s.default(c.currentTarget).data(w))||(p=new this.constructor(c.currentTarget,this._getDelegateConfig()),s.default(c.currentTarget).data(w,p)),c&&(p._activeTrigger[c.type==="focusout"?hh:Rs]=!1),p._isWithActiveTrigger()||(clearTimeout(p._timeout),p._hoverState=al,p.config.delay&&p.config.delay.hide?p._timeout=setTimeout(function(){p._hoverState===al&&p.hide()},p.config.delay.hide):p.hide())},y._isWithActiveTrigger=function(){for(var c in this._activeTrigger)if(this._activeTrigger[c])return!0;return!1},y._getConfig=function(c){var p=s.default(this.element).data();return Object.keys(p).forEach(function(w){ty.indexOf(w)!==-1&&delete p[w]}),typeof(c=l({},this.constructor.Default,p,typeof c=="object"&&c?c:{})).delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),d.typeCheckConfig(uh,c,this.constructor.DefaultType),c.sanitize&&(c.template=ch(c.template,c.whiteList,c.sanitizeFn)),c},y._getDelegateConfig=function(){var c={};if(this.config)for(var p in this.config)this.constructor.Default[p]!==this.config[p]&&(c[p]=this.config[p]);return c},y._cleanTipClass=function(){var c=s.default(this.getTipElement()),p=c.attr("class").match(ey);p!==null&&p.length&&c.removeClass(p.join(""))},y._handlePopperPlacementChange=function(c){this.tip=c.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(c.placement))},y._fixTransition=function(){var c=this.getTipElement(),p=this.config.animation;c.getAttribute("x-placement")===null&&(s.default(c).removeClass(Is),this.config.animation=!1,this.hide(),this.show(),this.config.animation=p)},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this),w=p.data(ol),E=typeof c=="object"&&c;if((w||!/dispose|hide/.test(c))&&(w||(w=new m(this,E),p.data(ol,w)),typeof c=="string")){if(typeof w[c]>"u")throw new TypeError('No method named "'+c+'"');w[c]()}})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ry}},{key:"NAME",get:function(){return uh}},{key:"DATA_KEY",get:function(){return ol}},{key:"Event",get:function(){return sy}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return iy}}]),m}();s.default.fn.tooltip=hr._jQueryInterface,s.default.fn.tooltip.Constructor=hr,s.default.fn.tooltip.noConflict=function(){return s.default.fn.tooltip=Jv,hr._jQueryInterface};var ll="bs.popover",oy=s.default.fn.popover,ay=new RegExp("(^|\\s)bs-popover\\S+","g"),ly=l({},hr.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),cy=l({},hr.DefaultType,{content:"(string|element|function)"}),uy={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},js=function(m){var y,c;function p(){return m.apply(this,arguments)||this}c=m,(y=p).prototype=Object.create(c.prototype),y.prototype.constructor=y,u(y,c);var w=p.prototype;return w.isWithContent=function(){return this.getTitle()||this._getContent()},w.addAttachmentClass=function(E){s.default(this.getTipElement()).addClass("bs-popover-"+E)},w.getTipElement=function(){return this.tip=this.tip||s.default(this.config.template)[0],this.tip},w.setContent=function(){var E=s.default(this.getTipElement());this.setElementContent(E.find(".popover-header"),this.getTitle());var S=this._getContent();typeof S=="function"&&(S=S.call(this.element)),this.setElementContent(E.find(".popover-body"),S),E.removeClass("fade show")},w._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},w._cleanTipClass=function(){var E=s.default(this.getTipElement()),S=E.attr("class").match(ay);S!==null&&S.length>0&&E.removeClass(S.join(""))},p._jQueryInterface=function(E){return this.each(function(){var S=s.default(this).data(ll),L=typeof E=="object"?E:null;if((S||!/dispose|hide/.test(E))&&(S||(S=new p(this,L),s.default(this).data(ll,S)),typeof E=="string")){if(typeof S[E]>"u")throw new TypeError('No method named "'+E+'"');S[E]()}})},a(p,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ly}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return ll}},{key:"Event",get:function(){return uy}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return cy}}]),p}(hr);s.default.fn.popover=js._jQueryInterface,s.default.fn.popover.Constructor=js,s.default.fn.popover.noConflict=function(){return s.default.fn.popover=oy,js._jQueryInterface};var dr="scrollspy",cl="bs.scrollspy",hy=s.default.fn[dr],fr="active",dh="position",fh=".nav, .list-group",ph={offset:10,method:"auto",target:""},dy={offset:"number",method:"string",target:"(string|element)"},Ti=function(){function m(c,p){var w=this;this._element=c,this._scrollElement=c.tagName==="BODY"?window:c,this._config=this._getConfig(p),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,s.default(this._scrollElement).on("scroll.bs.scrollspy",function(E){return w._process(E)}),this.refresh(),this._process()}var y=m.prototype;return y.refresh=function(){var c=this,p=this._scrollElement===this._scrollElement.window?"offset":dh,w=this._config.method==="auto"?p:this._config.method,E=w===dh?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(S){var L,V=d.getSelectorFromElement(S);if(V&&(L=document.querySelector(V)),L){var te=L.getBoundingClientRect();if(te.width||te.height)return[s.default(L)[w]().top+E,V]}return null}).filter(Boolean).sort(function(S,L){return S[0]-L[0]}).forEach(function(S){c._offsets.push(S[0]),c._targets.push(S[1])})},y.dispose=function(){s.default.removeData(this._element,cl),s.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},y._getConfig=function(c){if(typeof(c=l({},ph,typeof c=="object"&&c?c:{})).target!="string"&&d.isElement(c.target)){var p=s.default(c.target).attr("id");p||(p=d.getUID(dr),s.default(c.target).attr("id",p)),c.target="#"+p}return d.typeCheckConfig(dr,c,dy),c},y._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},y._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},y._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},y._process=function(){var c=this._getScrollTop()+this._config.offset,p=this._getScrollHeight(),w=this._config.offset+p-this._getOffsetHeight();if(this._scrollHeight!==p&&this.refresh(),c>=w){var E=this._targets[this._targets.length-1];this._activeTarget!==E&&this._activate(E)}else{if(this._activeTarget&&c<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var S=this._offsets.length;S--;)this._activeTarget!==this._targets[S]&&c>=this._offsets[S]&&(typeof this._offsets[S+1]>"u"||c<this._offsets[S+1])&&this._activate(this._targets[S])}},y._activate=function(c){this._activeTarget=c,this._clear();var p=this._selector.split(",").map(function(E){return E+'[data-target="'+c+'"],'+E+'[href="'+c+'"]'}),w=s.default([].slice.call(document.querySelectorAll(p.join(","))));w.hasClass("dropdown-item")?(w.closest(".dropdown").find(".dropdown-toggle").addClass(fr),w.addClass(fr)):(w.addClass(fr),w.parents(fh).prev(".nav-link, .list-group-item").addClass(fr),w.parents(fh).prev(".nav-item").children(".nav-link").addClass(fr)),s.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:c})},y._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(c){return c.classList.contains(fr)}).forEach(function(c){return c.classList.remove(fr)})},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this).data(cl);if(p||(p=new m(this,typeof c=="object"&&c),s.default(this).data(cl,p)),typeof c=="string"){if(typeof p[c]>"u")throw new TypeError('No method named "'+c+'"');p[c]()}})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ph}}]),m}();s.default(window).on("load.bs.scrollspy.data-api",function(){for(var m=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),y=m.length;y--;){var c=s.default(m[y]);Ti._jQueryInterface.call(c,c.data())}}),s.default.fn[dr]=Ti._jQueryInterface,s.default.fn[dr].Constructor=Ti,s.default.fn[dr].noConflict=function(){return s.default.fn[dr]=hy,Ti._jQueryInterface};var ul="bs.tab",fy=s.default.fn.tab,Pi="active",mh="fade",gh="show",vh=".active",yh="> li > .active",Ci=function(){function m(c){this._element=c}var y=m.prototype;return y.show=function(){var c=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&s.default(this._element).hasClass(Pi)||s.default(this._element).hasClass("disabled")||this._element.hasAttribute("disabled"))){var p,w,E=s.default(this._element).closest(".nav, .list-group")[0],S=d.getSelectorFromElement(this._element);if(E){var L=E.nodeName==="UL"||E.nodeName==="OL"?yh:vh;w=(w=s.default.makeArray(s.default(E).find(L)))[w.length-1]}var V=s.default.Event("hide.bs.tab",{relatedTarget:this._element}),te=s.default.Event("show.bs.tab",{relatedTarget:w});if(w&&s.default(w).trigger(V),s.default(this._element).trigger(te),!te.isDefaultPrevented()&&!V.isDefaultPrevented()){S&&(p=document.querySelector(S)),this._activate(this._element,E);var se=function(){var ie=s.default.Event("hidden.bs.tab",{relatedTarget:c._element}),le=s.default.Event("shown.bs.tab",{relatedTarget:w});s.default(w).trigger(ie),s.default(c._element).trigger(le)};p?this._activate(p,p.parentNode,se):se()}}},y.dispose=function(){s.default.removeData(this._element,ul),this._element=null},y._activate=function(c,p,w){var E=this,S=(!p||p.nodeName!=="UL"&&p.nodeName!=="OL"?s.default(p).children(vh):s.default(p).find(yh))[0],L=w&&S&&s.default(S).hasClass(mh),V=function(){return E._transitionComplete(c,S,w)};if(S&&L){var te=d.getTransitionDurationFromElement(S);s.default(S).removeClass(gh).one(d.TRANSITION_END,V).emulateTransitionEnd(te)}else V()},y._transitionComplete=function(c,p,w){if(p){s.default(p).removeClass(Pi);var E=s.default(p.parentNode).find("> .dropdown-menu .active")[0];E&&s.default(E).removeClass(Pi),p.getAttribute("role")==="tab"&&p.setAttribute("aria-selected",!1)}s.default(c).addClass(Pi),c.getAttribute("role")==="tab"&&c.setAttribute("aria-selected",!0),d.reflow(c),c.classList.contains(mh)&&c.classList.add(gh);var S=c.parentNode;if(S&&S.nodeName==="LI"&&(S=S.parentNode),S&&s.default(S).hasClass("dropdown-menu")){var L=s.default(c).closest(".dropdown")[0];if(L){var V=[].slice.call(L.querySelectorAll(".dropdown-toggle"));s.default(V).addClass(Pi)}c.setAttribute("aria-expanded",!0)}w&&w()},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this),w=p.data(ul);if(w||(w=new m(this),p.data(ul,w)),typeof c=="string"){if(typeof w[c]>"u")throw new TypeError('No method named "'+c+'"');w[c]()}})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),m}();s.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(m){m.preventDefault(),Ci._jQueryInterface.call(s.default(this),"show")}),s.default.fn.tab=Ci._jQueryInterface,s.default.fn.tab.Constructor=Ci,s.default.fn.tab.noConflict=function(){return s.default.fn.tab=fy,Ci._jQueryInterface};var hl="bs.toast",py=s.default.fn.toast,_h="hide",xi="show",bh="showing",wh="click.dismiss.bs.toast",Th={animation:!0,autohide:!0,delay:500},my={animation:"boolean",autohide:"boolean",delay:"number"},Fs=function(){function m(c,p){this._element=c,this._config=this._getConfig(p),this._timeout=null,this._setListeners()}var y=m.prototype;return y.show=function(){var c=this,p=s.default.Event("show.bs.toast");if(s.default(this._element).trigger(p),!p.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var w=function(){c._element.classList.remove(bh),c._element.classList.add(xi),s.default(c._element).trigger("shown.bs.toast"),c._config.autohide&&(c._timeout=setTimeout(function(){c.hide()},c._config.delay))};if(this._element.classList.remove(_h),d.reflow(this._element),this._element.classList.add(bh),this._config.animation){var E=d.getTransitionDurationFromElement(this._element);s.default(this._element).one(d.TRANSITION_END,w).emulateTransitionEnd(E)}else w()}},y.hide=function(){if(this._element.classList.contains(xi)){var c=s.default.Event("hide.bs.toast");s.default(this._element).trigger(c),c.isDefaultPrevented()||this._close()}},y.dispose=function(){this._clearTimeout(),this._element.classList.contains(xi)&&this._element.classList.remove(xi),s.default(this._element).off(wh),s.default.removeData(this._element,hl),this._element=null,this._config=null},y._getConfig=function(c){return c=l({},Th,s.default(this._element).data(),typeof c=="object"&&c?c:{}),d.typeCheckConfig("toast",c,this.constructor.DefaultType),c},y._setListeners=function(){var c=this;s.default(this._element).on(wh,'[data-dismiss="toast"]',function(){return c.hide()})},y._close=function(){var c=this,p=function(){c._element.classList.add(_h),s.default(c._element).trigger("hidden.bs.toast")};if(this._element.classList.remove(xi),this._config.animation){var w=d.getTransitionDurationFromElement(this._element);s.default(this._element).one(d.TRANSITION_END,p).emulateTransitionEnd(w)}else p()},y._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this),w=p.data(hl);if(w||(w=new m(this,typeof c=="object"&&c),p.data(hl,w)),typeof c=="string"){if(typeof w[c]>"u")throw new TypeError('No method named "'+c+'"');w[c](this)}})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"DefaultType",get:function(){return my}},{key:"Default",get:function(){return Th}}]),m}();s.default.fn.toast=Fs._jQueryInterface,s.default.fn.toast.Constructor=Fs,s.default.fn.toast.noConflict=function(){return s.default.fn.toast=py,Fs._jQueryInterface},n.Alert=g,n.Button=T,n.Carousel=G,n.Collapse=De,n.Dropdown=Hn,n.Modal=bi,n.Popover=js,n.Scrollspy=Ti,n.Tab=Ci,n.Toast=Fs,n.Tooltip=hr,n.Util=d,Object.defineProperty(n,"__esModule",{value:!0})})})(mf,mf.exports);_f(document.getElementById("root")).render(O.jsx(z2,{}));
