import{r as z,a as ff,g as fc,R as D,c as gr,b as xi,d as dy}from"./vendor-COduhCvX.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var pf={exports:{}},Ko={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy=z,py=Symbol.for("react.element"),my=Symbol.for("react.fragment"),gy=Object.prototype.hasOwnProperty,vy=fy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yy={key:!0,ref:!0,__self:!0,__source:!0};function mf(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gy.call(e,r)&&!yy.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:py,type:t,key:s,ref:o,props:i,_owner:vy.current}}Ko.Fragment=my;Ko.jsx=mf;Ko.jsxs=mf;pf.exports=Ko;var I=pf.exports,gf,Th=ff;gf=Th.createRoot,Th.hydrateRoot;function Il(t,e){return Il=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Il(t,e)}function nn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Il(t,e)}var vf={exports:{}},_y="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",by=_y,wy=by;function yf(){}function _f(){}_f.resetWarningCache=yf;var Ty=function(){function t(r,i,s,o,a,l){if(l!==wy){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_f,resetWarningCache:yf};return n.PropTypes=n,n};vf.exports=Ty();var Qi=vf.exports;const te=fc(Qi);function he(){return he=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},he.apply(null,arguments)}function Ls(t){return t.charAt(0)==="/"}function ul(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function Py(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&Ls(t),s=e&&Ls(e),o=i||s;if(t&&Ls(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var l=r[r.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var u=0,h=r.length;h>=0;h--){var d=r[h];d==="."?ul(r,h):d===".."?(ul(r,h),u++):u&&(ul(r,h),u--)}if(!o)for(;u--;u)r.unshift("..");o&&r[0]!==""&&(!r[0]||!Ls(r[0]))&&r.unshift("");var f=r.join("/");return a&&f.substr(-1)!=="/"&&(f+="/"),f}var Cy="Invariant failed";function Mr(t,e){throw new Error(Cy)}function Si(t){return t.charAt(0)==="/"?t:"/"+t}function Ph(t){return t.charAt(0)==="/"?t.substr(1):t}function xy(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function bf(t,e){return xy(t,e)?t.substr(e.length):t}function wf(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function Ey(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function Dt(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Wt(t,e,n,r){var i;typeof t=="string"?(i=Ey(t),i.state=e):(i=he({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=Py(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function pc(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,l,u){if(t!=null){var h=typeof t=="function"?t(o,a):t;typeof h=="string"?typeof l=="function"?l(h,u):u(!0):u(h!==!1)}else u(!0)}var r=[];function i(o){var a=!0;function l(){a&&o.apply(void 0,arguments)}return r.push(l),function(){a=!1,r=r.filter(function(u){return u!==l})}}function s(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r.forEach(function(u){return u.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}var Tf=!!(typeof window<"u"&&window.document&&window.document.createElement);function Pf(t,e){e(window.confirm(t))}function My(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Sy(){return window.navigator.userAgent.indexOf("Trident")===-1}function Ay(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Ny(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Ch="popstate",xh="hashchange";function Eh(){try{return window.history.state||{}}catch{return{}}}function ky(t){t===void 0&&(t={}),Tf||Mr();var e=window.history,n=My(),r=!Sy(),i=t,s=i.forceRefresh,o=s===void 0?!1:s,a=i.getUserConfirmation,l=a===void 0?Pf:a,u=i.keyLength,h=u===void 0?6:u,d=t.basename?wf(Si(t.basename)):"";function f(B){var W=B||{},q=W.key,Q=W.state,ce=window.location,pe=ce.pathname,J=ce.search,fe=ce.hash,me=pe+J+fe;return d&&(me=bf(me,d)),Wt(me,Q,q)}function v(){return Math.random().toString(36).substr(2,h)}var g=pc();function _(B){he(ne,B),ne.length=e.length,g.notifyListeners(ne.location,ne.action)}function b(B){Ny(B)||N(f(B.state))}function C(){N(f(Eh()))}var k=!1;function N(B){if(k)k=!1,_();else{var W="POP";g.confirmTransitionTo(B,W,l,function(q){q?_({action:W,location:B}):E(B)})}}function E(B){var W=ne.location,q=P.indexOf(W.key);q===-1&&(q=0);var Q=P.indexOf(B.key);Q===-1&&(Q=0);var ce=q-Q;ce&&(k=!0,R(ce))}var T=f(Eh()),P=[T.key];function M(B){return d+Dt(B)}function A(B,W){var q="PUSH",Q=Wt(B,W,v(),ne.location);g.confirmTransitionTo(Q,q,l,function(ce){if(ce){var pe=M(Q),J=Q.key,fe=Q.state;if(n)if(e.pushState({key:J,state:fe},null,pe),o)window.location.href=pe;else{var me=P.indexOf(ne.location.key),re=P.slice(0,me+1);re.push(Q.key),P=re,_({action:q,location:Q})}else window.location.href=pe}})}function O(B,W){var q="REPLACE",Q=Wt(B,W,v(),ne.location);g.confirmTransitionTo(Q,q,l,function(ce){if(ce){var pe=M(Q),J=Q.key,fe=Q.state;if(n)if(e.replaceState({key:J,state:fe},null,pe),o)window.location.replace(pe);else{var me=P.indexOf(ne.location.key);me!==-1&&(P[me]=Q.key),_({action:q,location:Q})}else window.location.replace(pe)}})}function R(B){e.go(B)}function j(){R(-1)}function F(){R(1)}var U=0;function $(B){U+=B,U===1&&B===1?(window.addEventListener(Ch,b),r&&window.addEventListener(xh,C)):U===0&&(window.removeEventListener(Ch,b),r&&window.removeEventListener(xh,C))}var X=!1;function G(B){B===void 0&&(B=!1);var W=g.setPrompt(B);return X||($(1),X=!0),function(){return X&&(X=!1,$(-1)),W()}}function Y(B){var W=g.appendListener(B);return $(1),function(){$(-1),W()}}var ne={length:e.length,action:"POP",location:T,createHref:M,push:A,replace:O,go:R,goBack:j,goForward:F,block:G,listen:Y};return ne}var Mh="hashchange",Oy={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+Ph(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:Ph,decodePath:Si},slash:{encodePath:Si,decodePath:Si}};function Cf(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Ci(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function Iy(t){window.location.hash=t}function hl(t){window.location.replace(Cf(window.location.href)+"#"+t)}function Dy(t){t===void 0&&(t={}),Tf||Mr();var e=window.history;Ay();var n=t,r=n.getUserConfirmation,i=r===void 0?Pf:r,s=n.hashType,o=s===void 0?"slash":s,a=t.basename?wf(Si(t.basename)):"",l=Oy[o],u=l.encodePath,h=l.decodePath;function d(){var W=h(Ci());return a&&(W=bf(W,a)),Wt(W)}var f=pc();function v(W){he(B,W),B.length=e.length,f.notifyListeners(B.location,B.action)}var g=!1,_=null;function b(W,q){return W.pathname===q.pathname&&W.search===q.search&&W.hash===q.hash}function C(){var W=Ci(),q=u(W);if(W!==q)hl(q);else{var Q=d(),ce=B.location;if(!g&&b(ce,Q)||_===Dt(Q))return;_=null,k(Q)}}function k(W){if(g)g=!1,v();else{var q="POP";f.confirmTransitionTo(W,q,i,function(Q){Q?v({action:q,location:W}):N(W)})}}function N(W){var q=B.location,Q=M.lastIndexOf(Dt(q));Q===-1&&(Q=0);var ce=M.lastIndexOf(Dt(W));ce===-1&&(ce=0);var pe=Q-ce;pe&&(g=!0,j(pe))}var E=Ci(),T=u(E);E!==T&&hl(T);var P=d(),M=[Dt(P)];function A(W){var q=document.querySelector("base"),Q="";return q&&q.getAttribute("href")&&(Q=Cf(window.location.href)),Q+"#"+u(a+Dt(W))}function O(W,q){var Q="PUSH",ce=Wt(W,void 0,void 0,B.location);f.confirmTransitionTo(ce,Q,i,function(pe){if(pe){var J=Dt(ce),fe=u(a+J),me=Ci()!==fe;if(me){_=J,Iy(fe);var re=M.lastIndexOf(Dt(B.location)),De=M.slice(0,re+1);De.push(J),M=De,v({action:Q,location:ce})}else v()}})}function R(W,q){var Q="REPLACE",ce=Wt(W,void 0,void 0,B.location);f.confirmTransitionTo(ce,Q,i,function(pe){if(pe){var J=Dt(ce),fe=u(a+J),me=Ci()!==fe;me&&(_=J,hl(fe));var re=M.indexOf(Dt(B.location));re!==-1&&(M[re]=J),v({action:Q,location:ce})}})}function j(W){e.go(W)}function F(){j(-1)}function U(){j(1)}var $=0;function X(W){$+=W,$===1&&W===1?window.addEventListener(Mh,C):$===0&&window.removeEventListener(Mh,C)}var G=!1;function Y(W){W===void 0&&(W=!1);var q=f.setPrompt(W);return G||(X(1),G=!0),function(){return G&&(G=!1,X(-1)),q()}}function ne(W){var q=f.appendListener(W);return X(1),function(){X(-1),q()}}var B={length:e.length,action:"POP",location:P,createHref:A,push:O,replace:R,go:j,goBack:F,goForward:U,block:Y,listen:ne};return B}function Sh(t,e,n){return Math.min(Math.max(t,e),n)}function Ry(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,l=a===void 0?6:a,u=pc();function h(A){he(M,A),M.length=M.entries.length,u.notifyListeners(M.location,M.action)}function d(){return Math.random().toString(36).substr(2,l)}var f=Sh(o,0,i.length-1),v=i.map(function(A){return typeof A=="string"?Wt(A,void 0,d()):Wt(A,void 0,A.key||d())}),g=Dt;function _(A,O){var R="PUSH",j=Wt(A,O,d(),M.location);u.confirmTransitionTo(j,R,n,function(F){if(F){var U=M.index,$=U+1,X=M.entries.slice(0);X.length>$?X.splice($,X.length-$,j):X.push(j),h({action:R,location:j,index:$,entries:X})}})}function b(A,O){var R="REPLACE",j=Wt(A,O,d(),M.location);u.confirmTransitionTo(j,R,n,function(F){F&&(M.entries[M.index]=j,h({action:R,location:j}))})}function C(A){var O=Sh(M.index+A,0,M.entries.length-1),R="POP",j=M.entries[O];u.confirmTransitionTo(j,R,n,function(F){F?h({action:R,location:j,index:O}):h()})}function k(){C(-1)}function N(){C(1)}function E(A){var O=M.index+A;return O>=0&&O<M.entries.length}function T(A){return A===void 0&&(A=!1),u.setPrompt(A)}function P(A){return u.appendListener(A)}var M={length:v.length,action:"POP",location:v[f],index:f,entries:v,createHref:g,push:_,replace:b,go:C,goBack:k,goForward:N,canGo:E,block:T,listen:P};return M}var li={exports:{}},Fy=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},so=Fy;li.exports=Mf;li.exports.parse=mc;li.exports.compile=Vy;li.exports.tokensToFunction=xf;li.exports.tokensToRegExp=Ef;var jy=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function mc(t,e){for(var n=[],r=0,i=0,s="",o=e&&e.delimiter||"/",a;(a=jy.exec(t))!=null;){var l=a[0],u=a[1],h=a.index;if(s+=t.slice(i,h),i=h+l.length,u){s+=u[1];continue}var d=t[i],f=a[2],v=a[3],g=a[4],_=a[5],b=a[6],C=a[7];s&&(n.push(s),s="");var k=f!=null&&d!=null&&d!==f,N=b==="+"||b==="*",E=b==="?"||b==="*",T=f||o,P=g||_,M=f||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:v||r++,prefix:f||"",delimiter:T,optional:E,repeat:N,partial:k,asterisk:!!C,pattern:P?$y(P):C?".*":Ly(T,M)})}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function Ly(t,e){return!e||e.indexOf(t)>-1?"[^"+vr(t)+"]+?":vr(e)+"|(?:(?!"+vr(e)+")[^"+vr(t)+"])+?"}function Vy(t,e){return xf(mc(t,e),e)}function By(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Wy(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function xf(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",vc(e)));return function(i,s){for(var o="",a=i||{},l=s||{},u=l.pretty?By:encodeURIComponent,h=0;h<t.length;h++){var d=t[h];if(typeof d=="string"){o+=d;continue}var f=a[d.name],v;if(f==null)if(d.optional){d.partial&&(o+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(so(f)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(f.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var g=0;g<f.length;g++){if(v=u(f[g]),!n[h].test(v))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(v)+"`");o+=(g===0?d.prefix:d.delimiter)+v}continue}if(v=d.asterisk?Wy(f):u(f),!n[h].test(v))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+v+'"');o+=d.prefix+v}return o}}function vr(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function $y(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function gc(t,e){return t.keys=e,t}function vc(t){return t&&t.sensitive?"":"i"}function Uy(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return gc(t,e)}function qy(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(Mf(t[i],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",vc(n));return gc(s,e)}function Hy(t,e,n){return Ef(mc(t,n),e,n)}function Ef(t,e,n){so(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=vr(a);else{var l=vr(a.prefix),u="(?:"+a.pattern+")";e.push(a),a.repeat&&(u+="(?:"+l+u+")*"),a.optional?a.partial?u=l+"("+u+")?":u="(?:"+l+"("+u+"))?":u=l+"("+u+")",s+=u}}var h=vr(n.delimiter||"/"),d=s.slice(-h.length)===h;return r||(s=(d?s.slice(0,-h.length):s)+"(?:"+h+"(?=$))?"),i?s+="$":s+=r&&d?"":"(?="+h+"|$)",gc(new RegExp("^"+s,vc(n)),e)}function Mf(t,e,n){return so(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Uy(t,e):so(t)?qy(t,e,n):Hy(t,e,n)}var zy=li.exports;const Gy=fc(zy);var Ve={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=typeof Symbol=="function"&&Symbol.for,yc=yt?Symbol.for("react.element"):60103,_c=yt?Symbol.for("react.portal"):60106,Qo=yt?Symbol.for("react.fragment"):60107,Zo=yt?Symbol.for("react.strict_mode"):60108,Jo=yt?Symbol.for("react.profiler"):60114,ea=yt?Symbol.for("react.provider"):60109,ta=yt?Symbol.for("react.context"):60110,bc=yt?Symbol.for("react.async_mode"):60111,na=yt?Symbol.for("react.concurrent_mode"):60111,ra=yt?Symbol.for("react.forward_ref"):60112,ia=yt?Symbol.for("react.suspense"):60113,Yy=yt?Symbol.for("react.suspense_list"):60120,sa=yt?Symbol.for("react.memo"):60115,oa=yt?Symbol.for("react.lazy"):60116,Xy=yt?Symbol.for("react.block"):60121,Ky=yt?Symbol.for("react.fundamental"):60117,Qy=yt?Symbol.for("react.responder"):60118,Zy=yt?Symbol.for("react.scope"):60119;function zt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yc:switch(t=t.type,t){case bc:case na:case Qo:case Jo:case Zo:case ia:return t;default:switch(t=t&&t.$$typeof,t){case ta:case ra:case oa:case sa:case ea:return t;default:return e}}case _c:return e}}}function Sf(t){return zt(t)===na}Ve.AsyncMode=bc;Ve.ConcurrentMode=na;Ve.ContextConsumer=ta;Ve.ContextProvider=ea;Ve.Element=yc;Ve.ForwardRef=ra;Ve.Fragment=Qo;Ve.Lazy=oa;Ve.Memo=sa;Ve.Portal=_c;Ve.Profiler=Jo;Ve.StrictMode=Zo;Ve.Suspense=ia;Ve.isAsyncMode=function(t){return Sf(t)||zt(t)===bc};Ve.isConcurrentMode=Sf;Ve.isContextConsumer=function(t){return zt(t)===ta};Ve.isContextProvider=function(t){return zt(t)===ea};Ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yc};Ve.isForwardRef=function(t){return zt(t)===ra};Ve.isFragment=function(t){return zt(t)===Qo};Ve.isLazy=function(t){return zt(t)===oa};Ve.isMemo=function(t){return zt(t)===sa};Ve.isPortal=function(t){return zt(t)===_c};Ve.isProfiler=function(t){return zt(t)===Jo};Ve.isStrictMode=function(t){return zt(t)===Zo};Ve.isSuspense=function(t){return zt(t)===ia};Ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qo||t===na||t===Jo||t===Zo||t===ia||t===Yy||typeof t=="object"&&t!==null&&(t.$$typeof===oa||t.$$typeof===sa||t.$$typeof===ea||t.$$typeof===ta||t.$$typeof===ra||t.$$typeof===Ky||t.$$typeof===Qy||t.$$typeof===Zy||t.$$typeof===Xy)};Ve.typeOf=zt;function Se(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var Af={exports:{}},Ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _t=typeof Symbol=="function"&&Symbol.for,wc=_t?Symbol.for("react.element"):60103,Tc=_t?Symbol.for("react.portal"):60106,aa=_t?Symbol.for("react.fragment"):60107,la=_t?Symbol.for("react.strict_mode"):60108,ca=_t?Symbol.for("react.profiler"):60114,ua=_t?Symbol.for("react.provider"):60109,ha=_t?Symbol.for("react.context"):60110,Pc=_t?Symbol.for("react.async_mode"):60111,da=_t?Symbol.for("react.concurrent_mode"):60111,fa=_t?Symbol.for("react.forward_ref"):60112,pa=_t?Symbol.for("react.suspense"):60113,Jy=_t?Symbol.for("react.suspense_list"):60120,ma=_t?Symbol.for("react.memo"):60115,ga=_t?Symbol.for("react.lazy"):60116,e_=_t?Symbol.for("react.block"):60121,t_=_t?Symbol.for("react.fundamental"):60117,n_=_t?Symbol.for("react.responder"):60118,r_=_t?Symbol.for("react.scope"):60119;function Gt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wc:switch(t=t.type,t){case Pc:case da:case aa:case ca:case la:case pa:return t;default:switch(t=t&&t.$$typeof,t){case ha:case fa:case ga:case ma:case ua:return t;default:return e}}case Tc:return e}}}function Nf(t){return Gt(t)===da}Ie.AsyncMode=Pc;Ie.ConcurrentMode=da;Ie.ContextConsumer=ha;Ie.ContextProvider=ua;Ie.Element=wc;Ie.ForwardRef=fa;Ie.Fragment=aa;Ie.Lazy=ga;Ie.Memo=ma;Ie.Portal=Tc;Ie.Profiler=ca;Ie.StrictMode=la;Ie.Suspense=pa;Ie.isAsyncMode=function(t){return Nf(t)||Gt(t)===Pc};Ie.isConcurrentMode=Nf;Ie.isContextConsumer=function(t){return Gt(t)===ha};Ie.isContextProvider=function(t){return Gt(t)===ua};Ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wc};Ie.isForwardRef=function(t){return Gt(t)===fa};Ie.isFragment=function(t){return Gt(t)===aa};Ie.isLazy=function(t){return Gt(t)===ga};Ie.isMemo=function(t){return Gt(t)===ma};Ie.isPortal=function(t){return Gt(t)===Tc};Ie.isProfiler=function(t){return Gt(t)===ca};Ie.isStrictMode=function(t){return Gt(t)===la};Ie.isSuspense=function(t){return Gt(t)===pa};Ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===aa||t===da||t===ca||t===la||t===pa||t===Jy||typeof t=="object"&&t!==null&&(t.$$typeof===ga||t.$$typeof===ma||t.$$typeof===ua||t.$$typeof===ha||t.$$typeof===fa||t.$$typeof===t_||t.$$typeof===n_||t.$$typeof===r_||t.$$typeof===e_)};Ie.typeOf=Gt;Af.exports=Ie;var i_=Af.exports,kf=i_,s_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Of={};Of[kf.ForwardRef]=s_;Of[kf.Memo]=o_;var dl=1073741823,Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function a_(){var t="__global_unique_id__";return Ah[t]=(Ah[t]||0)+1}function l_(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function c_(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(s){return s(t,i)})}}}function u_(t){return Array.isArray(t)?t[0]:t}function h_(t,e){var n,r,i="__create-react-context-"+a_()+"__",s=function(a){nn(l,a);function l(){for(var h,d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return h=a.call.apply(a,[this].concat(f))||this,h.emitter=c_(h.props.value),h}var u=l.prototype;return u.getChildContext=function(){var d;return d={},d[i]=this.emitter,d},u.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var f=this.props.value,v=d.value,g;l_(f,v)?g=0:(g=typeof e=="function"?e(f,v):dl,g|=0,g!==0&&this.emitter.set(d.value,g))}},u.render=function(){return this.props.children},l}(D.Component);s.childContextTypes=(n={},n[i]=te.object.isRequired,n);var o=function(a){nn(l,a);function l(){for(var h,d=arguments.length,f=new Array(d),v=0;v<d;v++)f[v]=arguments[v];return h=a.call.apply(a,[this].concat(f))||this,h.observedBits=void 0,h.state={value:h.getValue()},h.onUpdate=function(g,_){var b=h.observedBits|0;b&_&&h.setState({value:h.getValue()})},h}var u=l.prototype;return u.componentWillReceiveProps=function(d){var f=d.observedBits;this.observedBits=f??dl},u.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d??dl},u.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},u.getValue=function(){return this.context[i]?this.context[i].get():t},u.render=function(){return u_(this.props.children)(this.state.value)},l}(D.Component);return o.contextTypes=(r={},r[i]=te.object,r),{Provider:s,Consumer:o}}var d_=D.createContext||h_,If=function(e){var n=d_();return n.displayName=e,n},Df=If("Router-History"),Xr=If("Router"),va=function(t){nn(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(s){i._pendingLocation=s})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){i._isMounted&&i.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return D.createElement(Xr.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},D.createElement(Df.Provider,{children:this.props.children||null,value:this.props.history}))},e}(D.Component);D.Component;D.Component;var Nh={},f_=1e4,kh=0;function p_(t,e){var n=""+e.end+e.strict+e.sensitive,r=Nh[n]||(Nh[n]={});if(r[t])return r[t];var i=[],s=Gy(t,i,e),o={regexp:s,keys:i};return kh<f_&&(r[t]=o,kh++),o}function Cc(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,s=i===void 0?!1:i,o=n.strict,a=o===void 0?!1:o,l=n.sensitive,u=l===void 0?!1:l,h=[].concat(r);return h.reduce(function(d,f){if(!f&&f!=="")return null;if(d)return d;var v=p_(f,{end:s,strict:a,sensitive:u}),g=v.regexp,_=v.keys,b=g.exec(t);if(!b)return null;var C=b[0],k=b.slice(1),N=t===C;return s&&!N?null:{path:f,url:f==="/"&&C===""?"/":C,isExact:N,params:_.reduce(function(E,T,P){return E[T.name]=k[P],E},{})}},null)}function m_(t){return D.Children.count(t)===0}var g_=function(t){nn(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return D.createElement(Xr.Consumer,null,function(s){s||Mr();var o=i.props.location||s.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?Cc(o.pathname,i.props):s.match,l=he({},s,{location:o,match:a}),u=i.props,h=u.children,d=u.component,f=u.render;return Array.isArray(h)&&m_(h)&&(h=null),D.createElement(Xr.Provider,{value:l},l.match?h?typeof h=="function"?h(l):h:d?D.createElement(d,l):f?f(l):null:typeof h=="function"?h(l):null)})},e}(D.Component);function xc(t){return t.charAt(0)==="/"?t:"/"+t}function v_(t,e){return t?he({},e,{pathname:xc(t)+e.pathname}):e}function y_(t,e){if(!t)return e;var n=xc(t);return e.pathname.indexOf(n)!==0?e:he({},e,{pathname:e.pathname.substr(n.length)})}function Oh(t){return typeof t=="string"?t:Dt(t)}function fl(t){return function(){Mr()}}function Ih(){}D.Component;var __=function(t){nn(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return D.createElement(Xr.Consumer,null,function(s){s||Mr();var o=i.props.location||s.location,a,l;return D.Children.forEach(i.props.children,function(u){if(l==null&&D.isValidElement(u)){a=u;var h=u.props.path||u.props.from;l=h?Cc(o.pathname,he({},u.props,{path:h})):s.match}}),l?D.cloneElement(a,{location:o,computedMatch:l}):null})},e}(D.Component),b_=D.useContext;function w_(){return b_(Df)}var T_=function(t){nn(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.history=ky(r.props),r}var n=e.prototype;return n.render=function(){return D.createElement(va,{history:this.history,children:this.props.children})},e}(D.Component);D.Component;var Dl=function(e,n){return typeof e=="function"?e(n):e},Rl=function(e,n){return typeof e=="string"?Wt(e,null,null,n):e},Ec=function(e){return e},Kr=D.forwardRef;typeof Kr>"u"&&(Kr=Ec);function P_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var C_=Kr(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,s=Se(t,["innerRef","navigate","onClick"]),o=s.target,a=he({},s,{onClick:function(u){try{i&&i(u)}catch(h){throw u.preventDefault(),h}!u.defaultPrevented&&u.button===0&&(!o||o==="_self")&&!P_(u)&&(u.preventDefault(),r())}});return Ec!==Kr?a.ref=e||n:a.ref=n,D.createElement("a",a)}),x_=Kr(function(t,e){var n=t.component,r=n===void 0?C_:n,i=t.replace,s=t.to,o=t.innerRef,a=Se(t,["component","replace","to","innerRef"]);return D.createElement(Xr.Consumer,null,function(l){l||Mr();var u=l.history,h=Rl(Dl(s,l.location),l.location),d=h?u.createHref(h):"",f=he({},a,{href:d,navigate:function(){var g=Dl(s,l.location),_=Dt(l.location)===Dt(Rl(g)),b=i||_?u.replace:u.push;b(g)}});return Ec!==Kr?f.ref=e||o:f.innerRef=o,D.createElement(r,f)})}),Rf=function(e){return e},oo=D.forwardRef;typeof oo>"u"&&(oo=Rf);function E_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r}).join(" ")}oo(function(t,e){var n=t["aria-current"],r=n===void 0?"page":n,i=t.activeClassName,s=i===void 0?"active":i,o=t.activeStyle,a=t.className,l=t.exact,u=t.isActive,h=t.location,d=t.sensitive,f=t.strict,v=t.style,g=t.to,_=t.innerRef,b=Se(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return D.createElement(Xr.Consumer,null,function(C){C||Mr();var k=h||C.location,N=Rl(Dl(g,k),k),E=N.pathname,T=E&&E.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=T?Cc(k.pathname,{path:T,exact:l,sensitive:d,strict:f}):null,M=!!(u?u(P,k):P),A=typeof a=="function"?a(M):a,O=typeof v=="function"?v(M):v;M&&(A=E_(A,s),O=he({},O,o));var R=he({"aria-current":M&&r||null,className:A,style:O,to:N},b);return Rf!==oo?R.ref=e||_:R.innerRef=_,D.createElement(x_,R)})});const ya={1:"C",2:"C#",3:"D",4:"D#",5:"E",6:"F",7:"F#",8:"G",9:"G#",10:"A",11:"A#",12:"B"},M_=t=>Object.keys(_a).includes(t),Ri={1:"C",2:"Db",3:"D",4:"Eb",5:"E",6:"F",7:"Gb",8:"G",9:"Ab",10:"A",11:"Bb",12:"B"},_a={C:1,"C#":2,Db:2,D:3,"D#":4,Eb:4,E:5,"E#":6,F:6,"F#":7,Gb:7,G:8,"G#":9,Ab:9,A:10,"A#":11,Bb:11,B:12,"B#":1,Cb:12,"C##":3,Dbb:1,"D##":5,Ebb:3,"E##":7,Fb:5,"F##":8,Gbb:6,"G##":10,Abb:8,"A##":12,Bbb:10};function S_(t){let e=_a[t];return ya[e]}function A_(t){let e=_a[t];return Ri[e]}function N_(t){switch(t=Mc(t),t){case"C":case"C#":case"D":case"E":case"F#":case"G":case"A":case"B":return ya;case"G#":case"Ab":case"A#":case"Bb":case"Cb":case"Db":case"D#":case"Eb":case"F":case"Gb":return Ri;default:return Ri}}function Mc(t){var e,n;return t.charAt(0).toUpperCase()+((e=t.charAt(1))==null?void 0:e.toLowerCase())+((n=t.charAt(2))==null?void 0:n.toLowerCase())}function Tr(t){if(t)return t=Mc(t),_a[t]}function Sc(t,e){var n=k_(e),r=N_(t),i=r[n];return Mc(i)}function k_(t){for(;t>12;)t=t-12;for(;t<1;)t=t+12;return t}function Ff(t,e){for(;t>12;)t=t-12,e<2&&e++;for(;t<1;)t=t+12,e!==0&&e--;return{noteNumber:t,octave:e}}function Ac(t){return t!==null&&typeof t=="object"&&"name"in t&&typeof t.name=="string"}function Nc(t){return t!==null&&typeof t=="object"&&"step"in t&&typeof t.step=="number"&&"alt"in t&&typeof t.alt=="number"&&!isNaN(t.step)&&!isNaN(t.alt)}var jf=[0,2,4,-1,1,3,5],Lf=jf.map(t=>Math.floor(t*7/12));function Vf(t){const{step:e,alt:n,oct:r,dir:i=1}=t,s=jf[e]+7*n;if(r===void 0)return[i*s];const o=r-Lf[e]-4*n;return[i*s,i*o]}var O_=[3,0,4,1,5,2,6];function I_(t){const[e,n,r]=t,i=O_[D_(e)],s=Math.floor((e+1)/7);if(n===void 0)return{step:i,alt:s,dir:r};const o=n+4*s+Lf[i];return{step:i,alt:s,oct:o,dir:r}}function D_(t){const e=(t+1)%7;return e<0?7+e:e}var Dh=(t,e)=>Array(Math.abs(e)+1).join(t),Bf=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),Rh=new Map,R_=t=>"CDEFGAB".charAt(t),Wf=t=>t<0?Dh("b",-t):Dh("#",t),$f=t=>t[0]==="b"?-t.length:t.length;function Qr(t){const e=JSON.stringify(t),n=Rh.get(e);if(n)return n;const r=typeof t=="string"?L_(t):Nc(t)?Qr(V_(t)):Ac(t)?Qr(t.name):Bf;return Rh.set(e,r),r}var F_=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function kc(t){const e=F_.exec(t);return e?[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]:["","","",""]}var j_=(t,e)=>(t%e+e)%e,pl=[0,2,4,5,7,9,11];function L_(t){const e=kc(t);if(e[0]===""||e[3]!=="")return Bf;const n=e[0],r=e[1],i=e[2],s=(n.charCodeAt(0)+3)%7,o=$f(r),a=i.length?+i:void 0,l=Vf({step:s,alt:o,oct:a}),u=n+r+i,h=n+r,d=(pl[s]+o+120)%12,f=a===void 0?j_(pl[s]+o,12)-12*99:pl[s]+o+12*(a+1),v=f>=0&&f<=127?f:null,g=a===void 0?null:Math.pow(2,(f-69)/12)*440;return{empty:!1,acc:r,alt:o,chroma:d,coord:l,freq:g,height:f,letter:n,midi:v,name:u,oct:a,pc:h,step:s}}function V_(t){const{step:e,alt:n,oct:r}=t,i=R_(e);if(!i)return"";const s=i+Wf(n);return r||r===0?s+r:s}var Fh=(t,e)=>Array(Math.abs(e)+1).join(t),Fl=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),B_="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",W_="(AA|A|P|M|m|d|dd)([-+]?\\d+)",$_=new RegExp("^"+B_+"|"+W_+"$");function U_(t){const e=$_.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var jh={};function Zr(t){return typeof t=="string"?jh[t]||(jh[t]=q_(t)):Nc(t)?Zr(G_(t)):Ac(t)?Zr(t.name):Fl}var Lh=[0,2,4,5,7,9,11],Uf="PMMPPMM";function q_(t){const e=U_(t);if(e[0]==="")return Fl;const n=+e[0],r=e[1],i=(Math.abs(n)-1)%7,s=Uf[i];if(s==="M"&&r==="P")return Fl;const o=s==="M"?"majorable":"perfectable",a=""+n+r,l=n<0?-1:1,u=n===8||n===-8?n:l*(i+1),h=z_(o,r),d=Math.floor((Math.abs(n)-1)/7),f=l*(Lh[i]+h+12*d),v=(l*(Lh[i]+h)%12+12)%12,g=Vf({step:i,alt:h,oct:d,dir:l});return{empty:!1,name:a,num:n,q:r,step:i,alt:h,dir:l,type:o,simple:u,semitones:f,chroma:v,coord:g,oct:d}}function H_(t,e){const[n,r=0]=t,i=n*7+r*12<0,s=e||i?[-n,-r,-1]:[n,r,1];return Zr(I_(s))}function z_(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function G_(t){const{step:e,alt:n,oct:r=0,dir:i}=t;if(!i)return"";const s=e+1+7*r,o=s===0?e+1:s,a=i<0?"-":"",l=Uf[e]==="M"?"majorable":"perfectable";return a+o+Y_(l,n)}function Y_(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?Fh("A",e):Fh("d",t==="perfectable"?e:e+1)}function X_(t,e){const n=Qr(t),r=Qr(e);if(n.empty||r.empty)return"";const i=n.coord,s=r.coord,o=s[0]-i[0],a=i.length===2&&s.length===2?s[1]-i[1]:-Math.floor(o*7/12),l=r.height===n.height&&r.midi!==null&&n.oct===r.oct&&n.step>r.step;return H_([o,a],l).name}var K_=Qr,Vh=t=>K_(t).chroma,Bh="C C# Db D D# Eb E F F# Gb G G# Ab A A# Bb B".split(" "),qf=function(t){return typeof t!="string"?Bh.slice():Bh.filter(function(e){var n=e[1]||" ";return t.indexOf(n)!==-1})};qf(" #");qf(" b");var Q_=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Z_(t){typeof t!="string"&&(t="");var e=Q_.exec(t);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}var J_=Object.freeze({pc:null,name:null,step:null,alt:null,oct:null,octStr:null,chroma:null,midi:null,freq:null}),Wh=[0,2,4,5,7,9,11],eb=function(t){var e=Z_(t);if(e[0]===""||e[3]!=="")return J_;var n=e[0],r=e[1],i=e[2],s={letter:n,acc:r,octStr:i,pc:n+r,name:n+r+i,step:(n.charCodeAt(0)+3)%7,alt:r[0]==="b"?-r.length:r.length,oct:i.length?+i:null,chroma:0,midi:null,freq:null};return s.chroma=(Wh[s.step]+s.alt+120)%12,s.midi=s.oct!==null?Wh[s.step]+s.alt+12*(s.oct+1):null,s.freq=nb(s.midi),Object.freeze(s)},tb=function(t,e){return e===void 0&&(e={}),function(n){return e[n]||(e[n]=t(n))}},ba=tb(eb),$h=function(t){return ba(t).name},nb=function(t,e){return e===void 0&&(e=440),typeof t=="number"?Math.pow(2,(t-69)/12)*e:null},rb=function(t){return ba(t).chroma},ib="CDEFGAB",sb=function(t){return ib[t]},Uh=function(t,e){return Array(e+1).join(t)},ob=function(t,e){return typeof t!="number"?"":e(t)},ab=function(t){return ob(t,function(e){return e<0?Uh("b",-e):Uh("#",e)})},lb=function(t,e){t===void 0&&(t={}),e===void 0&&(e=null);var n=e?Object.assign({},ba(e),t):t,r=n.step,i=n.alt,s=n.oct;if(typeof r!="number")return null;var o=sb(r);if(!o)return null;var a=o+ab(i);return s||s===0?a+s:a},cb=lb,ub="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",hb="(AA|A|P|M|m|d|dd)([-+]?\\d+)",db=new RegExp("^"+ub+"|"+hb+"$"),qh=[0,2,4,5,7,9,11],fb="PMMPPMM",pb=function(t){var e=db.exec(""+t);return e===null?null:e[1]?[e[1],e[2]]:[e[4],e[3]]},jl=Object.freeze({name:null,num:null,q:null,step:null,alt:null,dir:null,type:null,simple:null,semitones:null,chroma:null,oct:null}),mb=function(t,e){return e==="M"&&t==="M"||e==="P"&&t==="P"?0:e==="m"&&t==="M"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?t==="P"?-e.length:-e.length-1:null},gb=function(t){return(Math.abs(t)-1)%7},vb=function(t){var e=pb(t);if(e===null)return jl;var n={num:0,q:"d",name:"",type:"M",step:0,dir:-1,simple:1,alt:0,oct:0,semitones:0,chroma:0,ic:0};return n.num=+e[0],n.q=e[1],n.step=gb(n.num),n.type=fb[n.step],n.type==="M"&&n.q==="P"?jl:(n.name=""+n.num+n.q,n.dir=n.num<0?-1:1,n.simple=n.num===8||n.num===-8?n.num:n.dir*(n.step+1),n.alt=mb(n.type,n.q),n.oct=Math.floor((Math.abs(n.num)-1)/7),n.semitones=n.dir*(qh[n.step]+n.alt+12*n.oct),n.chroma=(n.dir*(qh[n.step]+n.alt)%12+12)%12,Object.freeze(n))},Hh={};function Hf(t){return typeof t!="string"?jl:Hh[t]||(Hh[t]=vb(t))}var yb=function(t){return Hf(t).chroma},_b=function(t){return rb(t)||yb(t)||0};function zf(t){if(wb(t))return t;if(!Array.isArray(t))return"";var e=[0,0,0,0,0,0,0,0,0,0,0,0];return t.map(_b).forEach(function(n){e[n]=1}),e.join("")}var bb=/^[01]{12}$/;function wb(t){return bb.test(t)}var Gf=[0,2,4,-1,1,3,5],Tb=function(t){return Math.floor(t*7/12)},Yf=Gf.map(Tb),Pb=function(t){var e=t.step,n=t.alt,r=t.oct,i=t.dir;i===void 0&&(i=1);var s=Gf[e]+7*n;if(r===null)return[i*s];var o=r-Yf[e]-4*n;return[i*s,i*o]},Cb=[3,0,4,1,5,2,6];function xb(t){var e=(t+1)%7;return e<0?7+e:e}var Eb=function(t,e,n){var r=Cb[xb(t)],i=Math.floor((t+1)/7);if(e===void 0)return{step:r,alt:i,dir:n};var s=e+4*i+Yf[r];return{step:r,alt:i,oct:s,dir:n}},Mb=function(t,e){return e===void 0&&(e={}),function(n){return e[n]||(e[n]=t(n))}},Xf=function(t){return Mb(function(e){var n=t(e);return n.name===null?null:Pb(n)})},Sb=Xf(ba),Ab=Xf(Hf);function Kf(t,e){if(arguments.length===1)return function(s){return Kf(t,s)};var n=Sb(t),r=Ab(e);if(n===null||r===null)return null;var i=n.length===1?[n[0]+r[0]]:[n[0]+r[0],n[1]+r[1]];return cb(Eb(i[0],i[1]))}const Nb=["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],kb=["1P 2M 3M 4A 5P 6M 7M"],Ob=["1P 2M 3M 4P 5P 6M 7M",["ionian"]],Ib=["1P 2M 3M 4P 5P 6M 7m",["dominant"]],Db=["1P 2M 3m 4P 5P 6M 7m"],Rb=["1P 2M 3m 4P 5P 6m 7m",["minor"]],Fb=["1P 2m 3m 4P 5P 6m 7m"],jb=["1P 2m 3m 4P 5d 6m 7m"],Lb=["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],Vb=["1P 2M 3m 4P 5d 6m 6M 7M",["whole-half diminished"]],Bb=["1P 2m 4P 5d 7m"],Wb=["1P 2M 3m 5P 6m"],$b=["1P 2m 4P 5P 6m"],Ub=["1P 2m 3m 5P 6m"],qb=["1P 2M 3M 4A 6M 7m"],Hb=["1P 2M 4P 5P 6M"],zb=["1P 2m 3M 5P 6M"],Gb=["1P 2M 4P 5P 6M 7m"],Yb=["1P 2A 3M 5P 5A 7M"],Xb=["1P 2m 3m 4P 5P 6m 7M"],Kb=["1P 2M 4P 5P 7m"],Qb=["1P 2m 3M 4P 5d 6M 7m"],Zb=["1P 2m 3m 3M 4A 5P 7m"],Jb=["1P 2m 3m 4P 5P 6m 7M"],e1=["1P 2m 3M 4P 5d 6m 7M"],t1=["1P 2M 3M 4P 5P 6M 7m 7M"],n1=["1P 2m 3M 5d 6m 7m 7M"],r1=["1P 2M 3M 4P 5d 5P 6M 7M"],i1={chromatic:Nb,lydian:kb,major:Ob,mixolydian:Ib,dorian:Db,aeolian:Rb,phrygian:Fb,locrian:jb,"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m",["half-diminished"]],altered:Lb,"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"phrygian dominant":["1P 2m 3M 4P 5P 6m 7m",["spanish","phrygian major"]],"half-whole diminished":["1P 2m 3m 3M 4A 5P 6M 7m",["dominant diminished"]],diminished:Vb,"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],iwato:Bb,hirajoshi:Wb,kumoijoshi:$b,pelog:Ub,"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],prometheus:qb,"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],ritusen:Hb,scriabin:zb,piongio:Gb,"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],augmented:Yb,"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],neopolitan:Xb,"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],egyptian:Kb,"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],oriental:Qb,"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],flamenco:Zb,balinese:Jb,"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],persian:e1,bebop:t1,"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],enigmatic:n1,"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],ichikosucho:r1,"six tone symmetric":["1P 2m 3M 4P 5A 6M"]},s1=["1P 3M 5P",["Major",""]],o1=["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],a1=["1P 3M 5P 13M",["6"]],l1=["1P 3M 5P 6M 9M",["69"]],c1=["1P 3M 5P 6M 7M 9M"],u1=["1P 3M 5d 7M"],h1=["1P 3M 6m 7M"],d1=["1P 3M 5P 7M 9m"],f1=["1P 4P 5P 7M"],p1=["1P 3M 5P 7M 9M",["maj9","Maj9"]],m1=["1P 3M 5d 7M 9M"],g1=["1P 4P 5P 7M 9M"],v1=["1P 3M 5P 9M",["2","add9","add2"]],y1=["1P 3M 5P 7M",["maj7","M7"]],_1=["1P 3M 5d"],b1=["1P 3M 13m"],w1=["1P 2M 5P",["add9no3","sus2"]],T1=["1P 4P 5P",["sus","sus4"]],P1=["1P 3M 5P 9m"],C1=["1P 3m 5P"],x1=["1P 3m 5P 7m 9M 11P",["_11"]],E1=["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],M1=["1P 3m 5P 7m 9M 11P 13M",["_13"]],S1=["1P 3m 4P 5P 13M",["_6"]],A1=["1P 3m 5P 6M 9M",["_69"]],N1=["1P 3m 5P 7m",["minor7","_","_7"]],k1=["1P 3m 5P 7m 11P",["m7add4"]],O1=["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],I1=["1P 3m 5P 7m 9M",["_9"]],D1=["1P 3m 7m 12d 2M",["h9","-9b5"]],R1=["1P 3m 5P 7M",["mM7","_M7"]],F1=["1P 3m 5P 6m 7M",["mM7b6"]],j1=["1P 3m 5P 7M 9M",["mMaj9","-M9"]],L1=["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],V1=["1P 3m 6m 7M"],B1=["1P 3m 6m 9m"],W1=["1P 3m 5d",["mb5","dim"]],$1=["1P 3m 5d 13M",["diminished","m6b5","dim7"]],U1=["1P 3m 5d 6M 7M"],q1=["1P 3m 5d 7M"],H1=["1P 2M 4P 5P",["sus4add9"]],z1=["1P 3m 4P 5P"],G1=["1P 3m 5P 9M"],Y1={4:["1P 4P 7m 10m",["quartal"]],5:["1P 5P"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],64:["5P 8P 10M"],M:s1,"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],M13:o1,"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],M6:a1,"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],M69:l1,"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],M7add13:c1,M7b5:u1,M7b6:h1,M7b9:d1,M7sus4:f1,M9:p1,"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],M9b5:m1,M9sus4:g1,Madd9:v1,Maj7:y1,Mb5:_1,Mb6:b1,Msus2:w1,Msus4:T1,Maddb9:P1,"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],m:C1,"m#5":["1P 3m 5A",["m+","mb6"]],m11:x1,"m11A 5":["1P 3m 6m 7m 9M 11P"],m11b5:E1,m13:M1,m6:S1,m69:A1,m7:N1,"m7#5":["1P 3m 6m 7m"],m7add11:k1,m7b5:O1,m9:I1,"m9#5":["1P 3m 6m 7m 9M"],m9b5:D1,mMaj7:R1,mMaj7b6:F1,mM9:j1,mM9b6:L1,mb6M7:V1,mb6b9:B1,o:W1,o7:$1,o7M7:U1,oM7:q1,sus24:H1,"+add#9":["1P 3M 5A 9A"],madd4:z1,madd9:G1};var Qf=function(t){var e=Object.keys(t).sort(),n=[],r=[],i=function(a,l,u){n[a]=l,r[u]=r[u]||[],r[u].push(a)};e.forEach(function(a){var l=t[a][0].split(" "),u=t[a][1],h=zf(l);i(a,l,h),u&&u.forEach(function(d){return i(d,l,h)})});var s=Object.keys(n).sort(),o=function(a){return n[a]};return o.names=function(a){return typeof a=="string"?(r[a]||[]).slice():(a===!0?s:e).slice()},o},Ll=Qf(i1);Qf(Y1);var X1=Object.freeze({name:null,intervals:[],names:[],chroma:null,setnum:null}),K1=function(t){var e=Ll(t);if(!e)return X1;var n={intervals:e,name:t};return n.chroma=zf(e),n.setnum=parseInt(n.chroma,2),n.names=Ll.names(n.chroma),Object.freeze(n)},Q1=function(t,e){return function(n){return e[n]||(e[n]=t(n))}},Z1=Q1(K1,{});Ll.names;var J1=function(t){var e=Jf(t);return Z1(e[1]).intervals};function Zf(t,e){var n=Jf(t);return e=e||n[1],J1(e).map(Kf(n[0]))}function Jf(t){if(typeof t!="string")return["",""];var e=t.indexOf(" "),n=$h(t.substring(0,e))||$h(t)||"",r=n!==""?t.substring(n.length+1):t;return[n,r.length?r:""]}const zh=[{note:"C",color:"white"},{note:"C#",color:"black"},{note:"D",color:"white"},{note:"D#",color:"black"},{note:"E",color:"white"},{note:"F",color:"white"},{note:"F#",color:"black"},{note:"G",color:"white"},{note:"G#",color:"black"},{note:"A",color:"white"},{note:"A#",color:"black"},{note:"B",color:"white"}],ep=()=>{let t=[],e=3;for(let s=0;s<e;s++){var n=[];for(let o=0;o<zh.length;o++){var r={},i=zh[o];r.note=i.note,r.color=i.color,r.selected=!1,r.noteNumber=o+1,r.octave=s,n.push(r)}t.push(n)}return t};function ew(t){for(let r=0;r<t.length;r++){var e=t[r];for(let i=0;i<e.length;i++){var n=e[i];n.selected=!1}}}function Ai(t){return tp(t,t.selectedChord,!0)}function tw(t){return tp(t,t.selectedChord,!1)}function tp(t,e,n){if(lw(t))return;const r=np(e,n);nw(r,t)}function nw(t,e){ew(e.piano),t.notes.forEach(n=>{const r=Ff(n,t.octave);cw(e,r.octave,r.noteNumber)}),e.rendered=!0}function np(t,e){const n=t.noteLetter,r=t.type,i=t.octave,s=t.slashNote,o=!i||i===null?0:i,a=Tr(n),l=Tr(s),u=rS(a,r);return rw(o,a,u,l,e)}function rw(t,e,n,r,i){let s={rooteNoteNumber:e,notes:[],octave:t,octaveAllowance:2-t};if(!r)s.notes=n;else{s=iw(s,n,r,i);const o=ow(s);s.octave-=o}return s}function iw(t,e,n,r){return e=aw(e,n),t.notes.push(n),e.every(s=>s>n)?e.forEach(s=>{s-12>n&&(s-=12),t.notes.push(s)}):sw(n,e,t)&&t.octave>0&&r&&(t.octave-=1,t.octaveAllowance+=1),t}function sw(t,e,n){let r=!1;return e.forEach(i=>{t>i&&(n.rooteNoteNumber===i&&(r=!0),i+=12),n.notes.push(i)}),r}function ow(t){let e=0;return t.notes.forEach(n=>{const r=Math.ceil(n/12)-1;if(r>=t.octaveAllowance){const i=r-t.octaveAllowance;i>e&&(e=i)}}),e}function aw(t,e){return t.filter(n=>(n-e)%12!==0)}function lw(t){return rp(t.piano)&&t.rendered===!0}function cw(t,e,n){const r=t.piano;if(uw(r,e,n)){console.log("skipped invalid note: "+e+" : "+n);return}const i=r[e][n-1];if(!i||i.selected){console.log("SKIPPED INVALID NOTE: "+e+" : "+n);return}i.selected=!0,i.isStopping=null}function uw(t,e,n){return!t||!t[e]||!n}function rp(t){for(let e=0;e<t.length;e++){const n=t[e];for(let r=0;r<n.length;r++)if(n[r].selected)return!0}return!1}function hw(t,e){var r;const n=NM(e);if(n!==void 0)return{id:t,piano:ep(),selectedKey:{noteLetter:n.noteLetter,octave:n.octave??0},showFlats:((r=n.noteLetter)==null?void 0:r.includes("b"))||n.slashNote!=null&&n.slashNote.includes("b"),isProgKey:n.isKey,selectedChord:{noteLetter:n.noteLetter,type:n.type,octave:n.octave,slash:n.slash,slashNote:n.slashNote}}}function dw(t,e,n,r){const i=fg(n,r),s=eS(n,r);if(s!==0&&(e!=null&&e.length))for(let o=0;o<(e==null?void 0:e.length);o++){const a=e[o],l=Gh(a.selectedChord,!1);let u=nS(a.selectedChord.slashNote,i);if(a.selectedChord.slashNote=_n(r,u),a.id===t)continue;let h=tS(a,i);h.noteLetter=_n(r,h.noteLetter),fw(a,h);const d=Gh(a.selectedChord,!0);pw(d,l,s,a),tw(a)}}function fw(t,e){t.selectedKey=e,t.selectedChord.noteLetter=e.noteLetter,t.selectedChord.octave=e.octave,t.rendered=!1}function pw(t,e,n,r){var o,a;const s=t-e-n;return Math.abs(s)>6&&(s>0?r.selectedKey.octave>0&&(r.selectedKey.octave--,(o=r.selectedChord)!=null&&o.octave&&r.selectedChord.octave--,r.rendered=!1):r.selectedKey.octave<2&&(r.selectedKey.octave++,(a=r.selectedChord)!=null&&a.octave&&r.selectedChord.octave++,r.rendered=!1)),r}function Gh(t,e){const n=np(t,!e);return n.notes[0]+n.octave*12}const ip="14.9.17",Yh=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),Xh=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Vl=(t,e)=>({startTime:e,type:"setValue",value:t}),sp=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),op=(t,e,{startTime:n,target:r,timeConstant:i})=>r+(e-r)*Math.exp((n-t)/i),Wr=t=>t.type==="exponentialRampToValue",ao=t=>t.type==="linearRampToValue",Xn=t=>Wr(t)||ao(t),Oc=t=>t.type==="setValue",Sn=t=>t.type==="setValueCurve",lo=(t,e,n,r)=>{const i=t[e];return i===void 0?r:Xn(i)||Oc(i)?i.value:Sn(i)?i.values[i.values.length-1]:op(n,lo(t,e-1,i.startTime,r),i)},Kh=(t,e,n,r,i)=>n===void 0?[r.insertTime,i]:Xn(n)?[n.endTime,n.value]:Oc(n)?[n.startTime,n.value]:Sn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,lo(t,e-1,n.startTime,i)],Bl=t=>t.type==="cancelAndHold",Wl=t=>t.type==="cancelScheduledValues",Hn=t=>Bl(t)||Wl(t)?t.cancelTime:Wr(t)||ao(t)?t.endTime:t.startTime,Qh=(t,e,n,{endTime:r,value:i})=>n===i?i:0<n&&0<i||n<0&&i<0?n*(i/n)**((t-e)/(r-e)):0,Zh=(t,e,n,{endTime:r,value:i})=>n+(t-e)/(r-e)*(i-n),mw=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},gw=(t,{duration:e,startTime:n,values:r})=>{const i=(t-n)/e*(r.length-1);return mw(r,i)},Vs=t=>t.type==="setTarget";class vw{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Hn(e);if(Bl(e)||Wl(e)){const r=this._automationEvents.findIndex(s=>Wl(e)&&Sn(s)?s.startTime+s.duration>=n:Hn(s)>=n),i=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Bl(e)){const s=this._automationEvents[this._automationEvents.length-1];if(i!==void 0&&Xn(i)){if(s!==void 0&&Vs(s))throw new Error("The internal list is malformed.");const o=s===void 0?i.insertTime:Sn(s)?s.startTime+s.duration:Hn(s),a=s===void 0?this._defaultValue:Sn(s)?s.values[s.values.length-1]:s.value,l=Wr(i)?Qh(n,o,a,i):Zh(n,o,a,i),u=Wr(i)?Yh(l,n,this._currenTime):Xh(l,n,this._currenTime);this._automationEvents.push(u)}if(s!==void 0&&Vs(s)&&this._automationEvents.push(Vl(this.getValue(n),n)),s!==void 0&&Sn(s)&&s.startTime+s.duration>n){const o=n-s.startTime,a=(s.values.length-1)/s.duration,l=Math.max(2,1+Math.ceil(o*a)),u=o/(l-1)*a,h=s.values.slice(0,l);if(u<1)for(let d=1;d<l;d+=1){const f=u*d%1;h[d]=s.values[d-1]*(1-f)+s.values[d]*f}this._automationEvents[this._automationEvents.length-1]=sp(h,s.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>Hn(o)>n),i=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(i!==void 0&&Sn(i)&&Hn(i)+i.duration>n)return!1;const s=Wr(e)?Yh(e.value,e.endTime,this._currenTime):ao(e)?Xh(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(s);else{if(Sn(e)&&n+e.duration>Hn(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,s)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Hn(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),i=r[0];Vs(i)&&r.unshift(Vl(lo(this._automationEvents,n-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>Hn(o)>e),r=this._automationEvents[n],i=(n===-1?this._automationEvents.length:n)-1,s=this._automationEvents[i];if(s!==void 0&&Vs(s)&&(r===void 0||!Xn(r)||r.insertTime>e))return op(e,lo(this._automationEvents,i-1,s.startTime,this._defaultValue),s);if(s!==void 0&&Oc(s)&&(r===void 0||!Xn(r)))return s.value;if(s!==void 0&&Sn(s)&&(r===void 0||!Xn(r)||s.startTime+s.duration>e))return e<s.startTime+s.duration?gw(e,s):s.values[s.values.length-1];if(s!==void 0&&Xn(s)&&(r===void 0||!Xn(r)))return s.value;if(r!==void 0&&Wr(r)){const[o,a]=Kh(this._automationEvents,i,s,r,this._defaultValue);return Qh(e,o,a,r)}if(r!==void 0&&ao(r)){const[o,a]=Kh(this._automationEvents,i,s,r,this._defaultValue);return Zh(e,o,a,r)}return this._defaultValue}}const yw=t=>({cancelTime:t,type:"cancelAndHold"}),_w=t=>({cancelTime:t,type:"cancelScheduledValues"}),bw=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),ww=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),Tw=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Pw=()=>new DOMException("","AbortError"),Cw=t=>(e,n,[r,i,s],o)=>{t(e[i],[n,r,s],a=>a[0]===n&&a[1]===r,o)},xw=t=>(e,n,r)=>{const i=[];for(let s=0;s<r.numberOfInputs;s+=1)i.push(new Set);t.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},Ew=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Jr=new WeakSet,ap=new WeakMap,Ic=new WeakMap,lp=new WeakMap,Dc=new WeakMap,wa=new WeakMap,cp=new WeakMap,$l=new WeakMap,Ul=new WeakMap,ql=new WeakMap,up={construct(){return up}},Mw=t=>{try{const e=new Proxy(t,up);new e}catch{return!1}return!0},Jh=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,ed=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),i=r.match(Jh);for(;i!==null;){const s=i[1].slice(1,-1),o=i[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,e).toString());n.push(o),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(Jh)}return[n.join(";"),r]},td=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},nd=t=>{if(!Mw(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Sw=(t,e,n,r,i,s,o,a,l,u,h,d,f)=>{let v=0;return(g,_,b={credentials:"omit"})=>{const C=h.get(g);if(C!==void 0&&C.has(_))return Promise.resolve();const k=u.get(g);if(k!==void 0){const T=k.get(_);if(T!==void 0)return T}const N=s(g),E=N.audioWorklet===void 0?i(_).then(([T,P])=>{const[M,A]=ed(T,P),O=`${M};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${A}
})})(window,'_AWGS')`;return n(O)}).then(()=>{const T=f._AWGS.pop();if(T===void 0)throw new SyntaxError;r(N.currentTime,N.sampleRate,()=>T(class{},void 0,(P,M)=>{if(P.trim()==="")throw e();const A=Ul.get(N);if(A!==void 0){if(A.has(P))throw e();nd(M),td(M.parameterDescriptors),A.set(P,M)}else nd(M),td(M.parameterDescriptors),Ul.set(N,new Map([[P,M]]))},N.sampleRate,void 0,void 0))}):Promise.all([i(_),Promise.resolve(t(d,d))]).then(([[T,P],M])=>{const A=v+1;v=A;const[O,R]=ed(T,P),$=`${O};((AudioWorkletProcessor,registerProcessor)=>{${R}
})(${M?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${M?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${M?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${A}',class extends AudioWorkletProcessor{process(){return !1}})`,X=new Blob([$],{type:"application/javascript; charset=utf-8"}),G=URL.createObjectURL(X);return N.audioWorklet.addModule(G,b).then(()=>{if(a(N))return N;const Y=o(N);return Y.audioWorklet.addModule(G,b).then(()=>Y)}).then(Y=>{if(l===null)throw new SyntaxError;try{new l(Y,`__sac${A}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(G))});return k===void 0?u.set(g,new Map([[_,E]])):k.set(_,E),E.then(()=>{const T=h.get(g);T===void 0?h.set(g,new Set([_])):T.add(_)}).finally(()=>{const T=u.get(g);T!==void 0&&T.delete(_)}),E}},hn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Ta=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},hp=(t,e,n,r)=>{const i=hn(t,e),s=Ta(i,o=>o[0]===n&&o[1]===r);return i.size===0&&t.delete(e),s},Zi=t=>hn(cp,t),ei=t=>{if(Jr.has(t))throw new Error("The AudioNode is already stored.");Jr.add(t),Zi(t).forEach(e=>e(!0))},dp=t=>"port"in t,Ji=t=>{if(!Jr.has(t))throw new Error("The AudioNode is not stored.");Jr.delete(t),Zi(t).forEach(e=>e(!1))},Hl=(t,e)=>{!dp(t)&&e.every(n=>n.size===0)&&Ji(t)},Aw=(t,e,n,r,i,s,o,a,l,u,h,d,f)=>{const v=new WeakMap;return(g,_,b,C,k)=>{const{activeInputs:N,passiveInputs:E}=s(_),{outputs:T}=s(g),P=a(g),M=A=>{const O=l(_),R=l(g);if(A){const j=hp(E,g,b,C);t(N,g,j,!1),!k&&!d(g)&&n(R,O,b,C),f(_)&&ei(_)}else{const j=r(N,g,b,C);e(E,C,j,!1),!k&&!d(g)&&i(R,O,b,C);const F=o(_);if(F===0)h(_)&&Hl(_,N);else{const U=v.get(_);U!==void 0&&clearTimeout(U),v.set(_,setTimeout(()=>{h(_)&&Hl(_,N)},F*1e3))}}};return u(T,[_,b,C],A=>A[0]===_&&A[1]===b&&A[2]===C,!0)?(P.add(M),h(g)?t(N,g,[b,C,M],!0):e(E,C,[g,b,M],!0),!0):!1}},Nw=t=>(e,n,[r,i,s],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[i,n,s]])):t(a,[i,n,s],l=>l[0]===i&&l[1]===n,o)},kw=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()};n.addEventListener("ended",i)},Ow=t=>(e,n)=>{t(e).add(n)},Iw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Dw=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=i(a),h={...Iw,...l},d=r(u,h),f=s(u)?e():null;super(a,!1,d,f),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Mt=(t,e)=>t.context===e,Rw=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!Mt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return r.set(o,a),await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},co=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Pn=()=>new DOMException("","IndexSizeError"),Rc=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?Pn():r}})(t.getChannelData)},Fw={numberOfChannels:1},jw=(t,e,n,r,i,s,o,a)=>{let l=null;return class fp{constructor(h){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:f,sampleRate:v}={...Fw,...h};l===null&&(l=new i(1,1,44100));const g=r!==null&&e(s,s)?new r({length:d,numberOfChannels:f,sampleRate:v}):l.createBuffer(f,d,v);if(g.numberOfChannels===0)throw n();return typeof g.copyFromChannel!="function"?(o(g),Rc(g)):e(co,()=>co(g))||a(g),t.add(g),g}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===fp.prototype||t.has(h)}}},Rt=-34028234663852886e22,At=-Rt,kn=t=>Jr.has(t),Lw={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Vw=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,h){const d=s(u),f={...Lw,...h},v=i(d,f),g=o(d),_=g?e():null;super(u,!1,v,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=f.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=n(this,g,v.playbackRate,At,Rt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const h=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=h;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===h?u:d}get playbackRate(){return this._playbackRate}start(u=0,h=0,d){if(this._nativeAudioBufferSourceNode.start(u,h,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[u,h]:[u,h,d]),this.context.state!=="closed"){ei(this);const f=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",f),kn(this)&&Ji(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",f)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},Bw=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;const l=async(u,h)=>{let d=n(u);const f=Mt(d,h);if(!f){const v={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(h,v),o!==null&&d.start(...o),a!==null&&d.stop(a)}return s.set(h,d),f?await t(h,u.playbackRate,d.playbackRate):await r(h,u.playbackRate,d.playbackRate),await i(u,h,d),d};return{set start(u){o=u},set stop(u){a=u},render(u,h){const d=s.get(h);return d!==void 0?Promise.resolve(d):l(u,h)}}},Ww=t=>"playbackRate"in t,$w=t=>"frequency"in t&&"gain"in t,Uw=t=>"offset"in t,qw=t=>!("frequency"in t)&&"gain"in t,Hw=t=>"detune"in t&&"frequency"in t&&!("gain"in t),zw=t=>"pan"in t,Nt=t=>hn(ap,t),es=t=>hn(lp,t),zl=(t,e)=>{const{activeInputs:n}=Nt(t);n.forEach(i=>i.forEach(([s])=>{e.includes(t)||zl(s,[...e,t])}));const r=Ww(t)?[t.playbackRate]:dp(t)?Array.from(t.parameters.values()):$w(t)?[t.Q,t.detune,t.frequency,t.gain]:Uw(t)?[t.offset]:qw(t)?[t.gain]:Hw(t)?[t.detune,t.frequency]:zw(t)?[t.pan]:[];for(const i of r){const s=es(i);s!==void 0&&s.activeInputs.forEach(([o])=>zl(o,e))}kn(t)&&Ji(t)},pp=t=>{zl(t.destination,[])},Gw=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),Yw=(t,e,n,r,i,s,o,a,l)=>class extends t{constructor(h={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new l(h)}catch(g){throw g.code===12&&g.message==="sampleRate is not in range"?n():g}if(d===null)throw r();if(!Gw(h.latencyHint))throw new TypeError(`The provided value '${h.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(h.sampleRate!==void 0&&d.sampleRate!==h.sampleRate)throw n();super(d,2);const{latencyHint:f}=h,{sampleRate:v}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:f==="balanced"?512/v:f==="interactive"||f===void 0?256/v:f==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(f*v/128)))*128/v,this._nativeAudioContext=d,l.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const g=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",g)};d.addEventListener("statechange",g)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),pp(this)}))}createMediaElementSource(h){return new i(this,{mediaElement:h})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(h){return new o(this,{mediaStream:h})}createMediaStreamTrackSource(h){return new a(this,{mediaStreamTrack:h})}resume(){return this._state==="suspended"?new Promise((h,d)=>{const f=()=>{this._nativeAudioContext.removeEventListener("statechange",f),this._nativeAudioContext.state==="running"?h():this.resume().then(h,d)};this._nativeAudioContext.addEventListener("statechange",f)}):this._nativeAudioContext.resume().catch(h=>{throw h===void 0||h.code===15?e():h})}suspend(){return this._nativeAudioContext.suspend().catch(h=>{throw h===void 0?e():h})}},Xw=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,h){const d=s(u),f=o(d),v=i(d,h,f),g=f?e(a):null;super(u,!1,v,g),this._isNodeOfNativeOfflineAudioContext=f,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Kw=t=>{const e=new WeakMap,n=async(r,i)=>{const s=i.destination;return e.set(i,s),await t(r,i,s),s};return{render(r,i){const s=e.get(i);return s!==void 0?Promise.resolve(s):n(r,i)}}},Qw=(t,e,n,r,i,s,o,a)=>(l,u)=>{const h=u.listener,d=()=>{const T=new Float32Array(1),P=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),M=o(u);let A=!1,O=[0,0,-1,0,1,0],R=[0,0,0];const j=()=>{if(A)return;A=!0;const X=r(u,256,9,0);X.onaudioprocess=({inputBuffer:G})=>{const Y=[s(G,T,0),s(G,T,1),s(G,T,2),s(G,T,3),s(G,T,4),s(G,T,5)];Y.some((B,W)=>B!==O[W])&&(h.setOrientation(...Y),O=Y);const ne=[s(G,T,6),s(G,T,7),s(G,T,8)];ne.some((B,W)=>B!==R[W])&&(h.setPosition(...ne),R=ne)},P.connect(X)},F=X=>G=>{G!==O[X]&&(O[X]=G,h.setOrientation(...O))},U=X=>G=>{G!==R[X]&&(R[X]=G,h.setPosition(...R))},$=(X,G,Y)=>{const ne=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:G});ne.connect(P,0,X),ne.start(),Object.defineProperty(ne.offset,"defaultValue",{get(){return G}});const B=t({context:l},M,ne.offset,At,Rt);return a(B,"value",W=>()=>W.call(B),W=>q=>{try{W.call(B,q)}catch(Q){if(Q.code!==9)throw Q}j(),M&&Y(q)}),B.cancelAndHoldAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Q=W.apply(B,q);return j(),Q})(B.cancelAndHoldAtTime),B.cancelScheduledValues=(W=>M?()=>{throw i()}:(...q)=>{const Q=W.apply(B,q);return j(),Q})(B.cancelScheduledValues),B.exponentialRampToValueAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Q=W.apply(B,q);return j(),Q})(B.exponentialRampToValueAtTime),B.linearRampToValueAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Q=W.apply(B,q);return j(),Q})(B.linearRampToValueAtTime),B.setTargetAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Q=W.apply(B,q);return j(),Q})(B.setTargetAtTime),B.setValueAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Q=W.apply(B,q);return j(),Q})(B.setValueAtTime),B.setValueCurveAtTime=(W=>M?()=>{throw i()}:(...q)=>{const Q=W.apply(B,q);return j(),Q})(B.setValueCurveAtTime),B};return{forwardX:$(0,0,F(0)),forwardY:$(1,0,F(1)),forwardZ:$(2,-1,F(2)),positionX:$(6,0,U(0)),positionY:$(7,0,U(1)),positionZ:$(8,0,U(2)),upX:$(3,0,F(3)),upY:$(4,1,F(4)),upZ:$(5,0,F(5))}},{forwardX:f,forwardY:v,forwardZ:g,positionX:_,positionY:b,positionZ:C,upX:k,upY:N,upZ:E}=h.forwardX===void 0?d():h;return{get forwardX(){return f},get forwardY(){return v},get forwardZ(){return g},get positionX(){return _},get positionY(){return b},get positionZ(){return C},get upX(){return k},get upY(){return N},get upZ(){return E}}},uo=t=>"context"in t,ts=t=>uo(t[0]),Sr=(t,e,n,r)=>{for(const i of t)if(n(i)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},rd=(t,e,[n,r],i)=>{Sr(t,[e,n,r],s=>s[0]===e&&s[1]===n,i)},id=(t,[e,n,r],i)=>{const s=t.get(e);s===void 0?t.set(e,new Set([[n,r]])):Sr(s,[n,r],o=>o[0]===n,i)},ci=t=>"inputs"in t,ho=(t,e,n,r)=>{if(ci(e)){const i=e.inputs[r];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,r),[e,n,r]},mp=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},Zw=(t,e,n)=>Ta(t,r=>r[0]===e&&r[1]===n),gp=(t,e)=>{if(!Zi(t).delete(e))throw new Error("Missing the expected event listener.")},vp=(t,e,n)=>{const r=hn(t,e),i=Ta(r,s=>s[0]===n);return r.size===0&&t.delete(e),i},fo=(t,e,n,r)=>{ci(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},ze=t=>hn(Ic,t),Fi=t=>hn(Dc,t),Pr=t=>$l.has(t),Js=t=>!Jr.has(t),sd=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),i=t.createGain(),s=t.createBuffer(1,2,44100),o=s.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=s,a.loop=!0,a.connect(r).connect(t.destination),a.connect(i),a.disconnect(i),r.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,h=>h===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),ml=(t,e)=>{const n=new Map;for(const r of t)for(const i of r){const s=n.get(i);n.set(i,s===void 0?1:s+1)}n.forEach((r,i)=>e(i,r))},po=t=>"context"in t,Jw=t=>{const e=new Map;t.connect=(n=>(r,i=0,s=0)=>{const o=po(r)?n(r,i,s):n(r,i),a=e.get(r);return a===void 0?e.set(r,[{input:s,output:i}]):a.every(l=>l.input!==s||l.output!==i)&&a.push({input:s,output:i}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,i,s)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(i===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==i&&(l.input!==s||s===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{po(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},e0=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=es(e),{outputs:o}=Nt(t),a=Zi(t),l=u=>{const h=ze(t),d=Fi(e);if(u){const f=vp(s,t,n);rd(i,t,f,!1),!r&&!Pr(t)&&h.connect(d,n)}else{const f=Zw(i,t,n);id(s,f,!1),!r&&!Pr(t)&&h.disconnect(d,n)}};return Sr(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),kn(t)?rd(i,t,[n,l],!0):id(s,[t,n,l],!0),!0):!1},t0=(t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=Nt(e),o=mp(i[r],t,n);return o===null?[hp(s,t,n,r)[2],!1]:[o[2],!0]},n0=(t,e,n)=>{const{activeInputs:r,passiveInputs:i}=es(e),s=mp(r,t,n);return s===null?[vp(i,t,n)[1],!1]:[s[2],!0]},Fc=(t,e,n,r,i)=>{const[s,o]=t0(t,n,r,i);if(s!==null&&(gp(t,s),o&&!e&&!Pr(t)&&fo(ze(t),ze(n),r,i)),kn(n)){const{activeInputs:a}=Nt(n);Hl(n,a)}},jc=(t,e,n,r)=>{const[i,s]=n0(t,n,r);i!==null&&(gp(t,i),s&&!e&&!Pr(t)&&ze(t).disconnect(Fi(n),r))},r0=(t,e)=>{const n=Nt(t),r=[];for(const i of n.outputs)ts(i)?Fc(t,e,...i):jc(t,e,...i),r.push(i[0]);return n.outputs.clear(),r},i0=(t,e,n)=>{const r=Nt(t),i=[];for(const s of r.outputs)s[1]===n&&(ts(s)?Fc(t,e,...s):jc(t,e,...s),i.push(s[0]),r.outputs.delete(s));return i},s0=(t,e,n,r,i)=>{const s=Nt(t);return Array.from(s.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(i===void 0||o[2]===i)).map(o=>(ts(o)?Fc(t,e,...o):jc(t,e,...o),s.outputs.delete(o),o[0]))},o0=(t,e,n,r,i,s,o,a,l,u,h,d,f,v,g,_)=>class extends u{constructor(C,k,N,E){super(N),this._context=C,this._nativeAudioNode=N;const T=h(C);d(T)&&n(sd,()=>sd(T,_))!==!0&&Jw(N),Ic.set(this,N),cp.set(this,new Set),C.state!=="closed"&&k&&ei(this),t(this,E,N)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,k=0,N=0){if(k<0||k>=this._nativeAudioNode.numberOfOutputs)throw i();const E=h(this._context),T=g(E);if(f(C)||v(C))throw s();if(uo(C)){const A=ze(C);try{const R=ho(this._nativeAudioNode,A,k,N),j=Js(this);(T||j)&&this._nativeAudioNode.disconnect(...R),this.context.state!=="closed"&&!j&&Js(C)&&ei(C)}catch(R){throw R.code===12?s():R}if(e(this,C,k,N,T)){const R=l([this],C);ml(R,r(T))}return C}const P=Fi(C);if(P.name==="playbackRate"&&P.maxValue===1024)throw o();try{this._nativeAudioNode.connect(P,k),(T||Js(this))&&this._nativeAudioNode.disconnect(P,k)}catch(A){throw A.code===12?s():A}if(e0(this,C,k,T)){const A=l([this],C);ml(A,r(T))}}disconnect(C,k,N){let E;const T=h(this._context),P=g(T);if(C===void 0)E=r0(this,P);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw i();E=i0(this,P,C)}else{if(k!==void 0&&(k<0||k>=this.numberOfOutputs)||uo(C)&&N!==void 0&&(N<0||N>=C.numberOfInputs))throw i();if(E=s0(this,P,C,k,N),E.length===0)throw s()}for(const M of E){const A=l([this],M);ml(A,a)}}},a0=(t,e,n,r,i,s,o,a,l,u,h,d,f)=>(v,g,_,b=null,C=null)=>{const k=_.value,N=new vw(k),E=g?r(N):null,T={get defaultValue(){return k},get maxValue(){return b===null?_.maxValue:b},get minValue(){return C===null?_.minValue:C},get value(){return _.value},set value(P){_.value=P,T.setValueAtTime(P,v.context.currentTime)},cancelAndHoldAtTime(P){if(typeof _.cancelAndHoldAtTime=="function")E===null&&N.flush(v.context.currentTime),N.add(i(P)),_.cancelAndHoldAtTime(P);else{const M=Array.from(N).pop();E===null&&N.flush(v.context.currentTime),N.add(i(P));const A=Array.from(N).pop();_.cancelScheduledValues(P),M!==A&&A!==void 0&&(A.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(A.value,A.endTime):A.type==="linearRampToValue"?_.linearRampToValueAtTime(A.value,A.endTime):A.type==="setValue"?_.setValueAtTime(A.value,A.startTime):A.type==="setValueCurve"&&_.setValueCurveAtTime(A.values,A.startTime,A.duration))}return T},cancelScheduledValues(P){return E===null&&N.flush(v.context.currentTime),N.add(s(P)),_.cancelScheduledValues(P),T},exponentialRampToValueAtTime(P,M){if(P===0)throw new RangeError;if(!Number.isFinite(M)||M<0)throw new RangeError;const A=v.context.currentTime;return E===null&&N.flush(A),Array.from(N).length===0&&(N.add(u(k,A)),_.setValueAtTime(k,A)),N.add(o(P,M)),_.exponentialRampToValueAtTime(P,M),T},linearRampToValueAtTime(P,M){const A=v.context.currentTime;return E===null&&N.flush(A),Array.from(N).length===0&&(N.add(u(k,A)),_.setValueAtTime(k,A)),N.add(a(P,M)),_.linearRampToValueAtTime(P,M),T},setTargetAtTime(P,M,A){return E===null&&N.flush(v.context.currentTime),N.add(l(P,M,A)),_.setTargetAtTime(P,M,A),T},setValueAtTime(P,M){return E===null&&N.flush(v.context.currentTime),N.add(u(P,M)),_.setValueAtTime(P,M),T},setValueCurveAtTime(P,M,A){const O=P instanceof Float32Array?P:new Float32Array(P);if(d!==null&&d.name==="webkitAudioContext"){const R=M+A,j=v.context.sampleRate,F=Math.ceil(M*j),U=Math.floor(R*j),$=U-F,X=new Float32Array($);for(let Y=0;Y<$;Y+=1){const ne=(O.length-1)/A*((F+Y)/j-M),B=Math.floor(ne),W=Math.ceil(ne);X[Y]=B===W?O[B]:(1-(ne-B))*O[B]+(1-(W-ne))*O[W]}E===null&&N.flush(v.context.currentTime),N.add(h(X,M,A)),_.setValueCurveAtTime(X,M,A);const G=U/j;G<R&&f(T,X[X.length-1],G),f(T,O[O.length-1],R)}else E===null&&N.flush(v.context.currentTime),N.add(h(O,M,A)),_.setValueCurveAtTime(O,M,A);return T}};return n.set(T,_),e.set(T,v),t(T,E),T},l0=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:i}=n;e.exponentialRampToValueAtTime(i,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:i}=n;e.linearRampToValueAtTime(i,r)}else if(n.type==="setTarget"){const{startTime:r,target:i,timeConstant:s}=n;e.setTargetAtTime(i,r,s)}else if(n.type==="setValue"){const{startTime:r,value:i}=n;e.setValueAtTime(i,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:i,values:s}=n;e.setValueCurveAtTime(s,i,r)}else throw new Error("Can't apply an unknown automation.")}});class yp{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,i)=>e.call(n,r,i,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const c0={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},u0=(t,e,n,r,i,s,o,a,l,u,h,d,f,v)=>class extends e{constructor(_,b,C){var k;const N=a(_),E=l(N),T=h({...c0,...C});f(T);const P=Ul.get(N),M=P==null?void 0:P.get(b),A=E||N.state!=="closed"?N:(k=o(N))!==null&&k!==void 0?k:N,O=i(A,E?null:_.baseLatency,u,b,M,T),R=E?r(b,T,M):null;super(_,!0,O,R);const j=[];O.parameters.forEach((U,$)=>{const X=n(this,E,U);j.push([$,X])}),this._nativeAudioWorkletNode=O,this._onprocessorerror=null,this._parameters=new yp(j),E&&t(N,this);const{activeInputs:F}=s(this);d(O,F)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(_){const b=typeof _=="function"?v(this,_):null;this._nativeAudioWorkletNode.onprocessorerror=b;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===b?_:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function mo(t,e,n,r,i){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,i);else{const s=t.getChannelData(r);if(e[n].byteLength===0)e[n]=s.slice(i,i+128);else{const o=new Float32Array(s.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const _p=(t,e,n,r,i)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,i):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],i)},go=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const i=[],s=typeof e=="number"?e:e[r];for(let o=0;o<s;o+=1)i.push(new Float32Array(128));n.push(i)}return n},h0=(t,e)=>{const n=hn(ql,t),r=ze(e);return hn(n,r)},d0=async(t,e,n,r,i,s,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,u=i.reduce((b,C)=>b+C,0),h=u===0?null:n.createBuffer(u,a,n.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const d=Nt(t),f=await h0(n,t),v=go(r.numberOfInputs,r.channelCount),g=go(r.numberOfOutputs,i),_=Array.from(t.parameters.keys()).reduce((b,C)=>({...b,[C]:new Float32Array(128)}),{});for(let b=0;b<a;b+=128){if(r.numberOfInputs>0&&e!==null)for(let C=0;C<r.numberOfInputs;C+=1)for(let k=0;k<r.channelCount;k+=1)mo(e,v[C],k,k,b);s.parameterDescriptors!==void 0&&e!==null&&s.parameterDescriptors.forEach(({name:C},k)=>{mo(e,_,C,l+k,b)});for(let C=0;C<r.numberOfInputs;C+=1)for(let k=0;k<i[C];k+=1)g[C][k].byteLength===0&&(g[C][k]=new Float32Array(128));try{const C=v.map((N,E)=>d.activeInputs[E].size===0?[]:N),k=o(b/n.sampleRate,n.sampleRate,()=>f.process(C,g,_));if(h!==null)for(let N=0,E=0;N<r.numberOfOutputs;N+=1){for(let T=0;T<i[N];T+=1)_p(h,g[N],T,E+T,b);E+=i[N]}if(!k)break}catch(C){t.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return h},f0=(t,e,n,r,i,s,o,a,l,u,h,d,f,v,g,_)=>(b,C,k)=>{const N=new WeakMap;let E=null;const T=async(P,M)=>{let A=h(P),O=null;const R=Mt(A,M),j=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(d===null){const F=j.reduce((G,Y)=>G+Y,0),U=i(M,{channelCount:Math.max(1,F),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,F)}),$=[];for(let G=0;G<P.numberOfOutputs;G+=1)$.push(r(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:j[G]}));const X=o(M,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});X.connect=e.bind(null,$),X.disconnect=l.bind(null,$),O=[U,$,X]}else R||(A=new d(M,b));if(N.set(M,O===null?A:O[2]),O!==null){if(E===null){if(k===void 0)throw new Error("Missing the processor constructor.");if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Y=P.channelCount*P.numberOfInputs,ne=k.parameterDescriptors===void 0?0:k.parameterDescriptors.length,B=Y+ne;E=d0(P,B===0?null:await(async()=>{const q=new f(B,Math.ceil(P.context.length/128)*128,M.sampleRate),Q=[],ce=[];for(let fe=0;fe<C.numberOfInputs;fe+=1)Q.push(o(q,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),ce.push(i(q,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const pe=await Promise.all(Array.from(P.parameters.values()).map(async fe=>{const me=s(q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:fe.value});return await v(q,fe,me.offset),me})),J=r(q,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Y+ne)});for(let fe=0;fe<C.numberOfInputs;fe+=1){Q[fe].connect(ce[fe]);for(let me=0;me<C.channelCount;me+=1)ce[fe].connect(J,me,fe*C.channelCount+me)}for(const[fe,me]of pe.entries())me.connect(J,0,Y+fe),me.start(0);return J.connect(q.destination),await Promise.all(Q.map(fe=>g(P,q,fe))),_(q)})(),M,C,j,k,u)}const F=await E,U=n(M,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,X,G]=O;F!==null&&(U.buffer=F,U.start(0)),U.connect($);for(let Y=0,ne=0;Y<P.numberOfOutputs;Y+=1){const B=X[Y];for(let W=0;W<j[Y];W+=1)$.connect(B,ne+W,W);ne+=j[Y]}return G}if(R)for(const[F,U]of P.parameters.entries())await t(M,U,A.parameters.get(F));else for(const[F,U]of P.parameters.entries())await v(M,U,A.parameters.get(F));return await g(P,M,A),A};return{render(P,M){a(M,P);const A=N.get(M);return A!==void 0?Promise.resolve(A):T(P,M)}}},p0=(t,e,n,r,i,s,o,a,l,u,h,d,f,v,g,_,b,C,k,N)=>class extends g{constructor(T,P){super(T,P),this._nativeContext=T,this._audioWorklet=t===void 0?void 0:{addModule:(M,A)=>t(this,M,A)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(T,P,M){return new n({length:P,numberOfChannels:T,sampleRate:M})}createBufferSource(){return new r(this)}createChannelMerger(T=6){return new s(this,{numberOfInputs:T})}createChannelSplitter(T=6){return new o(this,{numberOfOutputs:T})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(T=1){return new h(this,{maxDelayTime:T})}createDynamicsCompressor(){return new d(this)}createGain(){return new f(this)}createIIRFilter(T,P){return new v(this,{feedback:P,feedforward:T})}createOscillator(){return new _(this)}createPanner(){return new b(this)}createPeriodicWave(T,P,M={disableNormalization:!1}){return new C(this,{...M,imag:P,real:T})}createStereoPanner(){return new k(this)}createWaveShaper(){return new N(this)}decodeAudioData(T,P,M){return u(this._nativeContext,T).then(A=>(typeof P=="function"&&P(A),A),A=>{throw typeof M=="function"&&M(A),A})}},m0={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},g0=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,h){const d=s(u),f={...m0,...h},v=i(d,f),g=o(d),_=g?n():null;super(u,!1,v,_),this._Q=e(this,g,v.Q,At,Rt),this._detune=e(this,g,v.detune,1200*Math.log2(At),-1200*Math.log2(At)),this._frequency=e(this,g,v.frequency,u.sampleRate/2,0),this._gain=e(this,g,v.gain,40*Math.log10(At),Rt),this._nativeBiquadFilterNode=v,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,h,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,h,d)}catch(f){throw f.code===11?r():f}if(u.length!==h.length||h.length!==d.length)throw r()}},v0=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const h=Mt(u,l);if(!h){const d={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,d)}return s.set(l,u),h?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await r(l,a.Q,u.Q),await r(l,a.detune,u.detune),await r(l,a.frequency,u.frequency),await r(l,a.gain,u.gain)),await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},y0=(t,e)=>(n,r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t.get(n);if(s!==void 0)return s;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},_0={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},b0=(t,e,n,r,i)=>class extends t{constructor(o,a){const l=r(o),u={..._0,...a},h=n(l,u),d=i(l)?e():null;super(o,!1,h,d)}},w0=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!Mt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return r.set(o,a),await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},T0={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},P0=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=r(a),h=s({...T0,...l}),d=n(u,h),f=i(u)?e():null;super(a,!1,d,f)}},C0=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!Mt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return r.set(o,a),await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},x0=t=>(e,n,r)=>t(n,e,r),E0=t=>(e,n,r=0,i=0)=>{const s=e[r];if(s===void 0)throw t();return po(n)?s.connect(n,0,i):s.connect(n,0)},M0=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return r.buffer=i,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},S0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},A0=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const h=i(l),d={...S0,...u},f=r(h,d),v=s(h),g=v?n():null;super(l,!1,f,g),this._constantSourceNodeRenderer=g,this._nativeConstantSourceNode=f,this._offset=e(this,v,f.offset,At,Rt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const h=this._nativeConstantSourceNode.onended;this._onended=h!==null&&h===u?l:h}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){ei(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),kn(this)&&Ji(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},N0=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;const l=async(u,h)=>{let d=n(u);const f=Mt(d,h);if(!f){const v={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(h,v),o!==null&&d.start(o),a!==null&&d.stop(a)}return s.set(h,d),f?await t(h,u.offset,d.offset):await r(h,u.offset,d.offset),await i(u,h,d),d};return{set start(u){o=u},set stop(u){a=u},render(u,h){const d=s.get(h);return d!==void 0?Promise.resolve(d):l(u,h)}}},k0=t=>e=>(t[0]=e,t[0]),O0={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},I0=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=r(a),h={...O0,...l},d=n(u,h),v=i(u)?e():null;super(a,!1,d,v),this._isBufferNullified=!1,this._nativeConvolverNode=d,h.buffer!==null&&s(this,h.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},D0=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!Mt(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return r.set(o,a),ci(a)?await n(s,o,a.inputs[0]):await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},R0=(t,e)=>(n,r,i)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,i)}catch(s){throw s.name==="SyntaxError"?t():s}},F0=()=>new DOMException("","DataCloneError"),od=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const i=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>i();try{e.postMessage(t,[t])}catch{}finally{i()}})},j0=(t,e,n,r,i,s,o,a,l,u,h)=>(d,f)=>{const v=o(d)?d:s(d);if(i.has(f)){const g=n();return Promise.reject(g)}try{i.add(f)}catch{}return e(l,()=>l(v))?v.decodeAudioData(f).then(g=>(od(f).catch(()=>{}),e(a,()=>a(g))||h(g),t.add(g),g)):new Promise((g,_)=>{const b=async()=>{try{await od(f)}catch{}},C=k=>{_(k),b()};try{v.decodeAudioData(f,k=>{typeof k.copyFromChannel!="function"&&(u(k),Rc(k)),t.add(k),b().then(()=>g(k))},k=>{C(k===null?r():k)})}catch(k){C(k)}})},L0=(t,e,n,r,i,s,o,a)=>(l,u)=>{const h=e.get(l);if(h===void 0)throw new Error("Missing the expected cycle count.");const d=s(l.context),f=a(d);if(h===u){if(e.delete(l),!f&&o(l)){const v=r(l),{outputs:g}=n(l);for(const _ of g)if(ts(_)){const b=r(_[0]);t(v,b,_[1],_[2])}else{const b=i(_[0]);v.connect(b,_[1])}}}else e.set(l,h-u)},V0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},B0=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const h=i(l),d={...V0,...u},f=r(h,d),v=s(h),g=v?n(d.maxDelayTime):null;super(l,!1,f,g),this._delayTime=e(this,v,f.delayTime),o(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},W0=(t,e,n,r,i)=>s=>{const o=new WeakMap,a=async(l,u)=>{let h=n(l);const d=Mt(h,u);if(!d){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:s};h=e(u,f)}return o.set(u,h),d?await t(u,l.delayTime,h.delayTime):await r(u,l.delayTime,h.delayTime),await i(l,u,h),h};return{render(l,u){const h=o.get(u);return h!==void 0?Promise.resolve(h):a(l,u)}}},$0=t=>(e,n,r,i)=>t(e[i],s=>s[0]===n&&s[1]===r),U0=t=>(e,n)=>{t(e).delete(n)},q0=t=>"delayTime"in t,H0=(t,e,n)=>function r(i,s){const o=uo(s)?s:n(t,s);if(q0(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...i,o],l[0])).reduce((l,u)=>l.concat(u),[])},Bs=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},z0=t=>(e,n=void 0,r=void 0,i=0)=>n===void 0?e.forEach(s=>s.disconnect()):typeof n=="number"?Bs(t,e,n).disconnect():po(n)?r===void 0?e.forEach(s=>s.disconnect(n)):i===void 0?Bs(t,e,r).disconnect(n,0):Bs(t,e,r).disconnect(n,0,i):r===void 0?e.forEach(s=>s.disconnect(n)):Bs(t,e,r).disconnect(n,0),G0={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Y0=(t,e,n,r,i,s,o,a)=>class extends t{constructor(u,h){const d=s(u),f={...G0,...h},v=r(d,f),g=o(d),_=g?n():null;super(u,!1,v,_),this._attack=e(this,g,v.attack),this._knee=e(this,g,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=e(this,g,v.ratio),this._release=e(this,g,v.release),this._threshold=e(this,g,v.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const h=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=h,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const h=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=h,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},X0=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const h=Mt(u,l);if(!h){const d={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,d)}return s.set(l,u),h?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await r(l,a.attack,u.attack),await r(l,a.knee,u.knee),await r(l,a.ratio,u.ratio),await r(l,a.release,u.release),await r(l,a.threshold,u.threshold)),await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},K0=()=>new DOMException("","EncodingError"),Q0=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const i=t.document.head;if(i===null)r(new SyntaxError);else{const s=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(h,d,f,v,g)=>{if(d===a||d===t.location.href&&f===1&&v===1)return u(),r(g),!1;if(l!==null)return l(h,d,f,v,g)},s.onerror=()=>{u(),r(new SyntaxError)},s.onload=()=>{u(),n()},s.src=a,s.type="module",i.appendChild(s)}}),Z0=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,i){if(r!==null){let s=this._listeners.get(r);s===void 0&&(s=t(this,r),typeof r=="function"&&this._listeners.set(r,s)),this._nativeEventTarget.addEventListener(n,s,i)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,i){const s=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,s===void 0?null:s,i)}},J0=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},eT=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},tT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},nT=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=i(a),h={...tT,...l},d=r(u,h),f=s(u),v=f?n():null;super(a,!1,d,v),this._gain=e(this,f,d.gain,At,Rt)}get gain(){return this._gain}},rT=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const h=Mt(u,l);if(!h){const d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,d)}return s.set(l,u),h?await t(l,a.gain,u.gain):await r(l,a.gain,u.gain),await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},iT=(t,e)=>n=>e(t,n),sT=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},oT=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},aT=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},lT=t=>e=>t.get(e),gt=()=>new DOMException("","InvalidStateError"),cT=t=>e=>{const n=t.get(e);if(n===void 0)throw gt();return n},uT=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},hT=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Pa=()=>new DOMException("","InvalidAccessError"),dT=t=>{t.getFrequencyResponse=(e=>(n,r,i)=>{if(n.length!==r.length||r.length!==i.length)throw Pa();return e.call(t,n,r,i)})(t.getFrequencyResponse)},fT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},pT=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=r(a),h=i(u),d={...fT,...l},f=e(u,h?null:a.baseLatency,d),v=h?n(d.feedback,d.feedforward):null;super(a,!1,f,v),dT(f),this._nativeIIRFilterNode=f,s(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},bp=(t,e,n,r,i,s,o,a,l,u,h)=>{const d=u.length;let f=a;for(let v=0;v<d;v+=1){let g=n[0]*u[v];for(let _=1;_<i;_+=1){const b=f-_&l-1;g+=n[_]*s[b],g-=t[_]*o[b]}for(let _=i;_<r;_+=1)g+=n[_]*s[f-_&l-1];for(let _=i;_<e;_+=1)g-=t[_]*o[f-_&l-1];s[f]=u[v],o[f]=g,f=f+1&l-1,h[v]=g}return f},mT=(t,e,n,r)=>{const i=n instanceof Float64Array?n:new Float64Array(n),s=r instanceof Float64Array?r:new Float64Array(r),o=i.length,a=s.length,l=Math.min(o,a);if(i[0]!==1){for(let g=0;g<o;g+=1)s[g]/=i[0];for(let g=1;g<a;g+=1)i[g]/=i[0]}const u=32,h=new Float32Array(u),d=new Float32Array(u),f=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),v=t.numberOfChannels;for(let g=0;g<v;g+=1){const _=t.getChannelData(g),b=f.getChannelData(g);h.fill(0),d.fill(0),bp(i,o,s,a,l,h,d,0,u,_,b)}return f},gT=(t,e,n,r,i)=>(s,o)=>{const a=new WeakMap;let l=null;const u=async(h,d)=>{let f=null,v=e(h);const g=Mt(v,d);if(d.createIIRFilter===void 0?f=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(v=d.createIIRFilter(o,s)),a.set(d,f===null?v:f),f!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new n(h.context.destination.channelCount,h.context.length,d.sampleRate);l=(async()=>{await r(h,b,b.destination);const C=await i(b);return mT(C,d,s,o)})()}const _=await l;return f.buffer=_,f.start(0),f}return await r(h,d,v),v};return{render(h,d){const f=a.get(d);return f!==void 0?Promise.resolve(f):u(h,d)}}},vT=(t,e,n,r,i,s)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&s(a)){const h=r(a),{outputs:d}=n(a);for(const f of d)if(ts(f)){const v=r(f[0]);e(h,v,f[1],f[2])}else{const v=i(f[0]);h.disconnect(v,f[1])}}t.set(a,l)}else t.set(a,u+l)},yT=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},_T=(t,e)=>n=>t.has(n)||e(n),bT=(t,e)=>n=>t.has(n)||e(n),wT=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},TT=t=>e=>t!==null&&e instanceof t,PT=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,CT=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,xT=(t,e)=>n=>t(n)||e(n),ET=t=>e=>t!==null&&e instanceof t,MT=t=>t!==null&&t.isSecureContext,ST=(t,e,n,r)=>class extends t{constructor(s,o){const a=n(s),l=e(a,o);if(r(a))throw TypeError();super(s,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},AT={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},NT=(t,e,n,r)=>class extends t{constructor(s,o){const a=n(s);if(r(a))throw new TypeError;const l={...AT,...o},u=e(a,l);super(s,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},kT=(t,e,n,r)=>class extends t{constructor(s,o){const a=n(s),l=e(a,o);if(r(a))throw new TypeError;super(s,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},OT=(t,e,n)=>class extends t{constructor(i,s){const o=n(i),a=e(o,s);super(i,!0,a,null)}},IT=(t,e,n,r,i,s)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,wa.set(this,a),r(a)&&i.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?s(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},ji=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},DT=(t,e)=>(n,r,i)=>{const s=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const h=s.size===0;if(e(a))return o.call(n,a,l,u),t(s,[a,l,u],d=>d[0]===a&&d[1]===l&&d[2]===u,!0),h&&r(),a;o.call(n,a,l),t(s,[a,l],d=>d[0]===a&&d[1]===l,!0),h&&r()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const h=s.size>0;if(a===void 0)o.apply(n),s.clear();else if(typeof a=="number"){o.call(n,a);for(const f of s)f[1]===a&&s.delete(f)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const f of s)f[0]===a&&(l===void 0||f[1]===l)&&(u===void 0||f[2]===u)&&s.delete(f)}const d=s.size===0;h&&d&&i()})(n.disconnect),n},Ye=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},pt=(t,e)=>{Ye(t,e,"channelCount"),Ye(t,e,"channelCountMode"),Ye(t,e,"channelInterpretation")},ad=t=>typeof t.getFloatTimeDomainData=="function",RT=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let i=0;i<r;i+=1)e[i]=(n[i]-128)*.0078125;return e}},FT=(t,e)=>(n,r)=>{const i=n.createAnalyser();if(pt(i,r),!(r.maxDecibels>r.minDecibels))throw e();return Ye(i,r,"fftSize"),Ye(i,r,"maxDecibels"),Ye(i,r,"minDecibels"),Ye(i,r,"smoothingTimeConstant"),t(ad,()=>ad(i))||RT(i),i},jT=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,it=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},LT=t=>{t.start=(e=>{let n=!1;return(r=0,i=0,s)=>{if(n)throw gt();e.call(t,r,i,s),n=!0}})(t.start)},Lc=t=>{t.start=(e=>(n=0,r=0,i)=>{if(typeof i=="number"&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,i)})(t.start)},Vc=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},VT=(t,e,n,r,i,s,o,a,l,u,h)=>(d,f)=>{const v=d.createBufferSource();return pt(v,f),it(v,f,"playbackRate"),Ye(v,f,"buffer"),Ye(v,f,"loop"),Ye(v,f,"loopEnd"),Ye(v,f,"loopStart"),e(n,()=>n(d))||LT(v),e(r,()=>r(d))||l(v),e(i,()=>i(d))||u(v,d),e(s,()=>s(d))||Lc(v),e(o,()=>o(d))||h(v,d),e(a,()=>a(d))||Vc(v),t(d,v),v},BT=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,WT=(t,e)=>(n,r,i)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}i&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{s.channelCount=l}catch(u){if(l>s.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),s.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),s.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>s.maxChannelCount}),o.connect(s),o},$T=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,UT=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},qT=(t,e,n,r,i)=>(s,o,a,l,u,h)=>{if(a!==null)try{const d=new a(s,l,h),f=new Map;let v=null;if(Object.defineProperties(d,{channelCount:{get:()=>h.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>v,set:g=>{typeof v=="function"&&d.removeEventListener("processorerror",v),v=typeof g=="function"?g:null,typeof v=="function"&&d.addEventListener("processorerror",v)}}}),d.addEventListener=(g=>(..._)=>{if(_[0]==="processorerror"){const b=typeof _[1]=="function"?_[1]:typeof _[1]=="object"&&_[1]!==null&&typeof _[1].handleEvent=="function"?_[1].handleEvent:null;if(b!==null){const C=f.get(_[1]);C!==void 0?_[1]=C:(_[1]=k=>{k.type==="error"?(Object.defineProperties(k,{type:{value:"processorerror"}}),b(k)):b(new ErrorEvent(_[0],{...k}))},f.set(b,_[1]))}}return g.call(d,"error",_[1],_[2]),g.call(d,..._)})(d.addEventListener),d.removeEventListener=(g=>(..._)=>{if(_[0]==="processorerror"){const b=f.get(_[1]);b!==void 0&&(f.delete(_[1]),_[1]=b)}return g.call(d,"error",_[1],_[2]),g.call(d,_[0],_[1],_[2])})(d.removeEventListener),h.numberOfOutputs!==0){const g=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(g).connect(s.destination),i(d,()=>g.disconnect(),()=>g.connect(s.destination))}return d}catch(d){throw d.code===11?r():d}if(u===void 0)throw r();return UT(h),e(s,o,u,h)},wp=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),HT=t=>new Promise((e,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=({data:s})=>{r.close(),i.close(),e(s)},r.onmessageerror=({data:s})=>{r.close(),i.close(),n(s)},i.postMessage(t)}),zT=async(t,e)=>{const n=await HT(e);return new t(n)},GT=(t,e,n,r)=>{let i=ql.get(t);i===void 0&&(i=new WeakMap,ql.set(t,i));const s=zT(n,r);return i.set(e,s),s},YT=(t,e,n,r,i,s,o,a,l,u,h,d,f)=>(v,g,_,b)=>{if(b.numberOfInputs===0&&b.numberOfOutputs===0)throw l();const C=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(C.some(K=>K<1))throw l();if(C.length!==b.numberOfOutputs)throw e();if(b.channelCountMode!=="explicit")throw l();const k=b.channelCount*b.numberOfInputs,N=C.reduce((K,ae)=>K+ae,0),E=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length;if(k+E>6||N>6)throw l();const T=new MessageChannel,P=[],M=[];for(let K=0;K<b.numberOfInputs;K+=1)P.push(o(v,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),M.push(i(v,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const A=[];if(_.parameterDescriptors!==void 0)for(const{defaultValue:K,maxValue:ae,minValue:Ae,name:Pe}of _.parameterDescriptors){const be=s(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:b.parameterData[Pe]!==void 0?b.parameterData[Pe]:K===void 0?0:K});Object.defineProperties(be.offset,{defaultValue:{get:()=>K===void 0?0:K},maxValue:{get:()=>ae===void 0?At:ae},minValue:{get:()=>Ae===void 0?Rt:Ae}}),A.push(be)}const O=r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,k+E)}),R=wp(g,v.sampleRate),j=a(v,R,k+E,Math.max(1,N)),F=i(v,{channelCount:Math.max(1,N),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,N)}),U=[];for(let K=0;K<b.numberOfOutputs;K+=1)U.push(r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[K]}));for(let K=0;K<b.numberOfInputs;K+=1){P[K].connect(M[K]);for(let ae=0;ae<b.channelCount;ae+=1)M[K].connect(O,ae,K*b.channelCount+ae)}const $=new yp(_.parameterDescriptors===void 0?[]:_.parameterDescriptors.map(({name:K},ae)=>{const Ae=A[ae];return Ae.connect(O,0,k+ae),Ae.start(0),[K,Ae.offset]}));O.connect(j);let X=b.channelInterpretation,G=null;const Y=b.numberOfOutputs===0?[j]:U,ne={get bufferSize(){return R},get channelCount(){return b.channelCount},set channelCount(K){throw n()},get channelCountMode(){return b.channelCountMode},set channelCountMode(K){throw n()},get channelInterpretation(){return X},set channelInterpretation(K){for(const ae of P)ae.channelInterpretation=K;X=K},get context(){return j.context},get inputs(){return P},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get onprocessorerror(){return G},set onprocessorerror(K){typeof G=="function"&&ne.removeEventListener("processorerror",G),G=typeof K=="function"?K:null,typeof G=="function"&&ne.addEventListener("processorerror",G)},get parameters(){return $},get port(){return T.port2},addEventListener(...K){return j.addEventListener(K[0],K[1],K[2])},connect:t.bind(null,Y),disconnect:u.bind(null,Y),dispatchEvent(...K){return j.dispatchEvent(K[0])},removeEventListener(...K){return j.removeEventListener(K[0],K[1],K[2])}},B=new Map;T.port1.addEventListener=(K=>(...ae)=>{if(ae[0]==="message"){const Ae=typeof ae[1]=="function"?ae[1]:typeof ae[1]=="object"&&ae[1]!==null&&typeof ae[1].handleEvent=="function"?ae[1].handleEvent:null;if(Ae!==null){const Pe=B.get(ae[1]);Pe!==void 0?ae[1]=Pe:(ae[1]=be=>{h(v.currentTime,v.sampleRate,()=>Ae(be))},B.set(Ae,ae[1]))}}return K.call(T.port1,ae[0],ae[1],ae[2])})(T.port1.addEventListener),T.port1.removeEventListener=(K=>(...ae)=>{if(ae[0]==="message"){const Ae=B.get(ae[1]);Ae!==void 0&&(B.delete(ae[1]),ae[1]=Ae)}return K.call(T.port1,ae[0],ae[1],ae[2])})(T.port1.removeEventListener);let W=null;Object.defineProperty(T.port1,"onmessage",{get:()=>W,set:K=>{typeof W=="function"&&T.port1.removeEventListener("message",W),W=typeof K=="function"?K:null,typeof W=="function"&&(T.port1.addEventListener("message",W),T.port1.start())}}),_.prototype.port=T.port1;let q=null;GT(v,ne,_,b).then(K=>q=K);const ce=go(b.numberOfInputs,b.channelCount),pe=go(b.numberOfOutputs,C),J=_.parameterDescriptors===void 0?[]:_.parameterDescriptors.reduce((K,{name:ae})=>({...K,[ae]:new Float32Array(128)}),{});let fe=!0;const me=()=>{b.numberOfOutputs>0&&j.disconnect(F);for(let K=0,ae=0;K<b.numberOfOutputs;K+=1){const Ae=U[K];for(let Pe=0;Pe<C[K];Pe+=1)F.disconnect(Ae,ae+Pe,Pe);ae+=C[K]}},re=new Map;j.onaudioprocess=({inputBuffer:K,outputBuffer:ae})=>{if(q!==null){const Ae=d(ne);for(let Pe=0;Pe<R;Pe+=128){for(let be=0;be<b.numberOfInputs;be+=1)for(let Ce=0;Ce<b.channelCount;Ce+=1)mo(K,ce[be],Ce,Ce,Pe);_.parameterDescriptors!==void 0&&_.parameterDescriptors.forEach(({name:be},Ce)=>{mo(K,J,be,k+Ce,Pe)});for(let be=0;be<b.numberOfInputs;be+=1)for(let Ce=0;Ce<C[be];Ce+=1)pe[be][Ce].byteLength===0&&(pe[be][Ce]=new Float32Array(128));try{const be=ce.map((Be,st)=>{if(Ae[st].size>0)return re.set(st,R/128),Be;const tt=re.get(st);return tt===void 0?[]:(Be.every(Me=>Me.every(ye=>ye===0))&&(tt===1?re.delete(st):re.set(st,tt-1)),Be)});fe=h(v.currentTime+Pe/v.sampleRate,v.sampleRate,()=>q.process(be,pe,J));for(let Be=0,st=0;Be<b.numberOfOutputs;Be+=1){for(let Oe=0;Oe<C[Be];Oe+=1)_p(ae,pe[Be],Oe,st+Oe,Pe);st+=C[Be]}}catch(be){fe=!1,ne.dispatchEvent(new ErrorEvent("processorerror",{colno:be.colno,filename:be.filename,lineno:be.lineno,message:be.message}))}if(!fe){for(let be=0;be<b.numberOfInputs;be+=1){P[be].disconnect(M[be]);for(let Ce=0;Ce<b.channelCount;Ce+=1)M[Pe].disconnect(O,Ce,be*b.channelCount+Ce)}if(_.parameterDescriptors!==void 0){const be=_.parameterDescriptors.length;for(let Ce=0;Ce<be;Ce+=1){const Be=A[Ce];Be.disconnect(O,0,k+Ce),Be.stop()}}O.disconnect(j),j.onaudioprocess=null,De?me():Pt();break}}}};let De=!1;const et=o(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ft=()=>j.connect(et).connect(v.destination),Pt=()=>{j.disconnect(et),et.disconnect()},bt=()=>{if(fe){Pt(),b.numberOfOutputs>0&&j.connect(F);for(let K=0,ae=0;K<b.numberOfOutputs;K+=1){const Ae=U[K];for(let Pe=0;Pe<C[K];Pe+=1)F.connect(Ae,ae+Pe,Pe);ae+=C[K]}}De=!0},Ct=()=>{fe&&(ft(),me()),De=!1};return ft(),f(ne,bt,Ct)},Tp=(t,e)=>{const n=t.createBiquadFilter();return pt(n,e),it(n,e,"Q"),it(n,e,"detune"),it(n,e,"frequency"),it(n,e,"gain"),Ye(n,e,"type"),n},XT=(t,e)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,i),pt(i,r),i},KT=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw gt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw gt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw gt()}})},ns=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return pt(n,e),KT(n),n},QT=(t,e,n,r,i)=>(s,o)=>{if(s.createConstantSource===void 0)return n(s,o);const a=s.createConstantSource();return pt(a,o),it(a,o,"offset"),e(r,()=>r(s))||Lc(a),e(i,()=>i(s))||Vc(a),t(s,a),a},ui=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),ZT=(t,e,n,r)=>(i,{offset:s,...o})=>{const a=i.createBuffer(1,2,44100),l=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(i,{...o,gain:s}),h=a.getChannelData(0);h[0]=1,h[1]=1,l.buffer=a,l.loop=!0;const d={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(g){u.channelCount=g},get channelCountMode(){return u.channelCountMode},set channelCountMode(g){u.channelCountMode=g},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(g){u.channelInterpretation=g},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(g){l.onended=g},addEventListener(...g){return l.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return l.dispatchEvent(g[0])},removeEventListener(...g){return l.removeEventListener(g[0],g[1],g[2])},start(g=0){l.start.call(l,g)},stop(g=0){l.stop.call(l,g)}},f=()=>l.connect(u),v=()=>l.disconnect(u);return t(i,l),r(ui(d,u),f,v)},JT=(t,e)=>(n,r)=>{const i=n.createConvolver();if(pt(i,r),r.disableNormalization===i.normalize&&(i.normalize=!r.disableNormalization),Ye(i,r,"buffer"),r.channelCount>2||(e(i,"channelCount",s=>()=>s.call(i),s=>o=>{if(o>2)throw t();return s.call(i,o)}),r.channelCountMode==="max"))throw t();return e(i,"channelCountMode",s=>()=>s.call(i),s=>o=>{if(o==="max")throw t();return s.call(i,o)}),i},Pp=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return pt(n,e),it(n,e,"delayTime"),n},eP=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(pt(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return it(r,n,"attack"),it(r,n,"knee"),it(r,n,"ratio"),it(r,n,"release"),it(r,n,"threshold"),r},jt=(t,e)=>{const n=t.createGain();return pt(n,e),it(n,e,"gain"),n},tP=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const i=e.createIIRFilter(r.feedforward,r.feedback);return pt(i,r),i};function nP(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function rP(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function ld(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=rP(n,e),n[0]+=t[r];return n}const iP=(t,e,n,r)=>(i,s,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:h})=>{const d=wp(s,i.sampleRate),f=u instanceof Float64Array?u:new Float64Array(u),v=h instanceof Float64Array?h:new Float64Array(h),g=f.length,_=v.length,b=Math.min(g,_);if(g===0||g>20)throw r();if(f[0]===0)throw e();if(_===0||_>20)throw r();if(v[0]===0)throw e();if(f[0]!==1){for(let A=0;A<_;A+=1)v[A]/=f[0];for(let A=1;A<g;A+=1)f[A]/=f[0]}const C=n(i,d,o,o);C.channelCount=o,C.channelCountMode=a,C.channelInterpretation=l;const k=32,N=[],E=[],T=[];for(let A=0;A<o;A+=1){N.push(0);const O=new Float32Array(k),R=new Float32Array(k);O.fill(0),R.fill(0),E.push(O),T.push(R)}C.onaudioprocess=A=>{const O=A.inputBuffer,R=A.outputBuffer,j=O.numberOfChannels;for(let F=0;F<j;F+=1){const U=O.getChannelData(F),$=R.getChannelData(F);N[F]=bp(f,g,v,_,b,E[F],T[F],N[F],k,U,$)}};const P=i.sampleRate/2;return ui({get bufferSize(){return d},get channelCount(){return C.channelCount},set channelCount(A){C.channelCount=A},get channelCountMode(){return C.channelCountMode},set channelCountMode(A){C.channelCountMode=A},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(A){C.channelInterpretation=A},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...A){return C.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return C.dispatchEvent(A[0])},getFrequencyResponse(A,O,R){if(A.length!==O.length||O.length!==R.length)throw t();const j=A.length;for(let F=0;F<j;F+=1){const U=-Math.PI*(A[F]/P),$=[Math.cos(U),Math.sin(U)],X=ld(v,$),G=ld(f,$),Y=nP(X,G);O[F]=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),R[F]=Math.atan2(Y[1],Y[0])}},removeEventListener(...A){return C.removeEventListener(A[0],A[1],A[2])}},C)},sP=(t,e)=>t.createMediaElementSource(e.mediaElement),oP=(t,e)=>{const n=t.createMediaStreamDestination();return pt(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},aP=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((s,o)=>s.id<o.id?-1:s.id>o.id?1:0);const r=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(i,"mediaStream",{value:e}),i},lP=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const i=new MediaStream([r]),s=n.createMediaStreamSource(i);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return s},cP=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,uP=(t,e,n,r,i,s)=>(o,a)=>{const l=o.createOscillator();return pt(l,a),it(l,a,"detune"),it(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):Ye(l,a,"type"),e(n,()=>n(o))||Lc(l),e(r,()=>r(o))||s(l,o),e(i,()=>i(o))||Vc(l),t(o,l),l},hP=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(pt(r,n),it(r,n,"orientationX"),it(r,n,"orientationY"),it(r,n,"orientationZ"),it(r,n,"positionX"),it(r,n,"positionY"),it(r,n,"positionZ"),Ye(r,n,"coneInnerAngle"),Ye(r,n,"coneOuterAngle"),Ye(r,n,"coneOuterGain"),Ye(r,n,"distanceModel"),Ye(r,n,"maxDistance"),Ye(r,n,"panningModel"),Ye(r,n,"refDistance"),Ye(r,n,"rolloffFactor"),r)},dP=(t,e,n,r,i,s,o,a,l,u)=>(h,{coneInnerAngle:d,coneOuterAngle:f,coneOuterGain:v,distanceModel:g,maxDistance:_,orientationX:b,orientationY:C,orientationZ:k,panningModel:N,positionX:E,positionY:T,positionZ:P,refDistance:M,rolloffFactor:A,...O})=>{const R=h.createPanner();if(O.channelCount>2||O.channelCountMode==="max")throw o();pt(R,O);const j={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},F=n(h,{...j,channelInterpretation:"speakers",numberOfInputs:6}),U=r(h,{...O,gain:1}),$=r(h,{...j,gain:1}),X=r(h,{...j,gain:0}),G=r(h,{...j,gain:0}),Y=r(h,{...j,gain:0}),ne=r(h,{...j,gain:0}),B=r(h,{...j,gain:0}),W=i(h,256,6,1),q=s(h,{...j,curve:new Float32Array([1,1]),oversample:"none"});let Q=[b,C,k],ce=[E,T,P];const pe=new Float32Array(1);W.onaudioprocess=({inputBuffer:re})=>{const De=[l(re,pe,0),l(re,pe,1),l(re,pe,2)];De.some((ft,Pt)=>ft!==Q[Pt])&&(R.setOrientation(...De),Q=De);const et=[l(re,pe,3),l(re,pe,4),l(re,pe,5)];et.some((ft,Pt)=>ft!==ce[Pt])&&(R.setPosition(...et),ce=et)},Object.defineProperty(X.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ne.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0});const J={get bufferSize(){},get channelCount(){return R.channelCount},set channelCount(re){if(re>2)throw o();U.channelCount=re,R.channelCount=re},get channelCountMode(){return R.channelCountMode},set channelCountMode(re){if(re==="max")throw o();U.channelCountMode=re,R.channelCountMode=re},get channelInterpretation(){return R.channelInterpretation},set channelInterpretation(re){U.channelInterpretation=re,R.channelInterpretation=re},get coneInnerAngle(){return R.coneInnerAngle},set coneInnerAngle(re){R.coneInnerAngle=re},get coneOuterAngle(){return R.coneOuterAngle},set coneOuterAngle(re){R.coneOuterAngle=re},get coneOuterGain(){return R.coneOuterGain},set coneOuterGain(re){if(re<0||re>1)throw e();R.coneOuterGain=re},get context(){return R.context},get distanceModel(){return R.distanceModel},set distanceModel(re){R.distanceModel=re},get inputs(){return[U]},get maxDistance(){return R.maxDistance},set maxDistance(re){if(re<0)throw new RangeError;R.maxDistance=re},get numberOfInputs(){return R.numberOfInputs},get numberOfOutputs(){return R.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return X.gain},get orientationZ(){return G.gain},get panningModel(){return R.panningModel},set panningModel(re){R.panningModel=re},get positionX(){return Y.gain},get positionY(){return ne.gain},get positionZ(){return B.gain},get refDistance(){return R.refDistance},set refDistance(re){if(re<0)throw new RangeError;R.refDistance=re},get rolloffFactor(){return R.rolloffFactor},set rolloffFactor(re){if(re<0)throw new RangeError;R.rolloffFactor=re},addEventListener(...re){return U.addEventListener(re[0],re[1],re[2])},dispatchEvent(...re){return U.dispatchEvent(re[0])},removeEventListener(...re){return U.removeEventListener(re[0],re[1],re[2])}};d!==J.coneInnerAngle&&(J.coneInnerAngle=d),f!==J.coneOuterAngle&&(J.coneOuterAngle=f),v!==J.coneOuterGain&&(J.coneOuterGain=v),g!==J.distanceModel&&(J.distanceModel=g),_!==J.maxDistance&&(J.maxDistance=_),b!==J.orientationX.value&&(J.orientationX.value=b),C!==J.orientationY.value&&(J.orientationY.value=C),k!==J.orientationZ.value&&(J.orientationZ.value=k),N!==J.panningModel&&(J.panningModel=N),E!==J.positionX.value&&(J.positionX.value=E),T!==J.positionY.value&&(J.positionY.value=T),P!==J.positionZ.value&&(J.positionZ.value=P),M!==J.refDistance&&(J.refDistance=M),A!==J.rolloffFactor&&(J.rolloffFactor=A),(Q[0]!==1||Q[1]!==0||Q[2]!==0)&&R.setOrientation(...Q),(ce[0]!==0||ce[1]!==0||ce[2]!==0)&&R.setPosition(...ce);const fe=()=>{U.connect(R),t(U,q,0,0),q.connect($).connect(F,0,0),q.connect(X).connect(F,0,1),q.connect(G).connect(F,0,2),q.connect(Y).connect(F,0,3),q.connect(ne).connect(F,0,4),q.connect(B).connect(F,0,5),F.connect(W).connect(h.destination)},me=()=>{U.disconnect(R),a(U,q,0,0),q.disconnect($),$.disconnect(F),q.disconnect(X),X.disconnect(F),q.disconnect(G),G.disconnect(F),q.disconnect(Y),Y.disconnect(F),q.disconnect(ne),ne.disconnect(F),q.disconnect(B),B.disconnect(F),F.disconnect(W),W.disconnect(h.destination)};return u(ui(J,R),fe,me)},fP=t=>(e,{disableNormalization:n,imag:r,real:i})=>{const s=r instanceof Float32Array?r:new Float32Array(r),o=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(o,s,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},rs=(t,e,n,r)=>t.createScriptProcessor(e,n,r),pP=(t,e)=>(n,r)=>{const i=r.channelCountMode;if(i==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const s=n.createStereoPanner();return pt(s,r),it(s,r,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>i,set:o=>{if(o!==i)throw e()}}),s},mP=(t,e,n,r,i,s)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},h={...u,oversample:"none"},d=(g,_,b,C)=>{const k=new Float32Array(16385),N=new Float32Array(16385);for(let O=0;O<16385;O+=1){const R=O/16384*l;k[O]=Math.cos(R),N[O]=Math.sin(R)}const E=n(g,{...u,gain:0}),T=r(g,{...h,curve:k}),P=r(g,{...h,curve:a}),M=n(g,{...u,gain:0}),A=r(g,{...h,curve:N});return{connectGraph(){_.connect(E),_.connect(P.inputs===void 0?P:P.inputs[0]),_.connect(M),P.connect(b),b.connect(T.inputs===void 0?T:T.inputs[0]),b.connect(A.inputs===void 0?A:A.inputs[0]),T.connect(E.gain),A.connect(M.gain),E.connect(C,0,0),M.connect(C,0,1)},disconnectGraph(){_.disconnect(E),_.disconnect(P.inputs===void 0?P:P.inputs[0]),_.disconnect(M),P.disconnect(b),b.disconnect(T.inputs===void 0?T:T.inputs[0]),b.disconnect(A.inputs===void 0?A:A.inputs[0]),T.disconnect(E.gain),A.disconnect(M.gain),E.disconnect(C,0,0),M.disconnect(C,0,1)}}},f=(g,_,b,C)=>{const k=new Float32Array(16385),N=new Float32Array(16385),E=new Float32Array(16385),T=new Float32Array(16385),P=Math.floor(16385/2);for(let Y=0;Y<16385;Y+=1)if(Y>P){const ne=(Y-P)/(16384-P)*l;k[Y]=Math.cos(ne),N[Y]=Math.sin(ne),E[Y]=0,T[Y]=1}else{const ne=Y/(16384-P)*l;k[Y]=1,N[Y]=0,E[Y]=Math.cos(ne),T[Y]=Math.sin(ne)}const M=e(g,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),A=n(g,{...u,gain:0}),O=r(g,{...h,curve:k}),R=n(g,{...u,gain:0}),j=r(g,{...h,curve:N}),F=r(g,{...h,curve:a}),U=n(g,{...u,gain:0}),$=r(g,{...h,curve:E}),X=n(g,{...u,gain:0}),G=r(g,{...h,curve:T});return{connectGraph(){_.connect(M),_.connect(F.inputs===void 0?F:F.inputs[0]),M.connect(A,0),M.connect(R,0),M.connect(U,1),M.connect(X,1),F.connect(b),b.connect(O.inputs===void 0?O:O.inputs[0]),b.connect(j.inputs===void 0?j:j.inputs[0]),b.connect($.inputs===void 0?$:$.inputs[0]),b.connect(G.inputs===void 0?G:G.inputs[0]),O.connect(A.gain),j.connect(R.gain),$.connect(U.gain),G.connect(X.gain),A.connect(C,0,0),U.connect(C,0,0),R.connect(C,0,1),X.connect(C,0,1)},disconnectGraph(){_.disconnect(M),_.disconnect(F.inputs===void 0?F:F.inputs[0]),M.disconnect(A,0),M.disconnect(R,0),M.disconnect(U,1),M.disconnect(X,1),F.disconnect(b),b.disconnect(O.inputs===void 0?O:O.inputs[0]),b.disconnect(j.inputs===void 0?j:j.inputs[0]),b.disconnect($.inputs===void 0?$:$.inputs[0]),b.disconnect(G.inputs===void 0?G:G.inputs[0]),O.disconnect(A.gain),j.disconnect(R.gain),$.disconnect(U.gain),G.disconnect(X.gain),A.disconnect(C,0,0),U.disconnect(C,0,0),R.disconnect(C,0,1),X.disconnect(C,0,1)}}},v=(g,_,b,C,k)=>{if(_===1)return d(g,b,C,k);if(_===2)return f(g,b,C,k);throw i()};return(g,{channelCount:_,channelCountMode:b,pan:C,...k})=>{if(b==="max")throw i();const N=t(g,{...k,channelCount:1,channelCountMode:b,numberOfInputs:2}),E=n(g,{...k,channelCount:_,channelCountMode:b,gain:1}),T=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:P,disconnectGraph:M}=v(g,_,E,T,N);Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(T.gain,"maxValue",{get:()=>1}),Object.defineProperty(T.gain,"minValue",{get:()=>-1});const A={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(F){E.channelCount!==F&&(O&&M(),{connectGraph:P,disconnectGraph:M}=v(g,F,E,T,N),O&&P()),E.channelCount=F},get channelCountMode(){return E.channelCountMode},set channelCountMode(F){if(F==="clamped-max"||F==="max")throw i();E.channelCountMode=F},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(F){E.channelInterpretation=F},get context(){return E.context},get inputs(){return[E]},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get pan(){return T.gain},addEventListener(...F){return E.addEventListener(F[0],F[1],F[2])},dispatchEvent(...F){return E.dispatchEvent(F[0])},removeEventListener(...F){return E.removeEventListener(F[0],F[1],F[2])}};let O=!1;const R=()=>{P(),O=!0},j=()=>{M(),O=!1};return s(ui(A,N),R,j)}},gP=(t,e,n,r,i,s,o)=>(a,l)=>{const u=a.createWaveShaper();if(s!==null&&s.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);pt(u,l);const h=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(h!==null&&h.length<2)throw e();Ye(u,{curve:h},"curve"),Ye(u,l,"oversample");let d=null,f=!1;return o(u,"curve",_=>()=>_.call(u),_=>b=>(_.call(u,b),f&&(r(b)&&d===null?d=t(a,u):!r(b)&&d!==null&&(d(),d=null)),b)),i(u,()=>{f=!0,r(u.curve)&&(d=t(a,u))},()=>{f=!1,d!==null&&(d(),d=null)})},vP=(t,e,n,r,i)=>(s,{curve:o,oversample:a,...l})=>{const u=s.createWaveShaper(),h=s.createWaveShaper();pt(u,l),pt(h,l);const d=n(s,{...l,gain:1}),f=n(s,{...l,gain:-1}),v=n(s,{...l,gain:1}),g=n(s,{...l,gain:-1});let _=null,b=!1,C=null;const k={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(T){d.channelCount=T,f.channelCount=T,u.channelCount=T,v.channelCount=T,h.channelCount=T,g.channelCount=T},get channelCountMode(){return u.channelCountMode},set channelCountMode(T){d.channelCountMode=T,f.channelCountMode=T,u.channelCountMode=T,v.channelCountMode=T,h.channelCountMode=T,g.channelCountMode=T},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(T){d.channelInterpretation=T,f.channelInterpretation=T,u.channelInterpretation=T,v.channelInterpretation=T,h.channelInterpretation=T,g.channelInterpretation=T},get context(){return u.context},get curve(){return C},set curve(T){if(T!==null&&T.length<2)throw e();if(T===null)u.curve=T,h.curve=T;else{const P=T.length,M=new Float32Array(P+2-P%2),A=new Float32Array(P+2-P%2);M[0]=T[0],A[0]=-T[P-1];const O=Math.ceil((P+1)/2),R=(P+1)/2-1;for(let j=1;j<O;j+=1){const F=j/O*R,U=Math.floor(F),$=Math.ceil(F);M[j]=U===$?T[U]:(1-(F-U))*T[U]+(1-($-F))*T[$],A[j]=U===$?-T[P-1-U]:-((1-(F-U))*T[P-1-U])-(1-($-F))*T[P-1-$]}M[O]=P%2===1?T[O-1]:(T[O-2]+T[O-1])/2,u.curve=M,h.curve=A}C=T,b&&(r(C)&&_===null?_=t(s,d):_!==null&&(_(),_=null))},get inputs(){return[d]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(T){u.oversample=T,h.oversample=T},addEventListener(...T){return d.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return d.dispatchEvent(T[0])},removeEventListener(...T){return d.removeEventListener(T[0],T[1],T[2])}};o!==null&&(k.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==k.oversample&&(k.oversample=a);const N=()=>{d.connect(u).connect(v),d.connect(f).connect(h).connect(g).connect(v),b=!0,r(C)&&(_=t(s,d))},E=()=>{d.disconnect(u),u.disconnect(v),d.disconnect(f),f.disconnect(h),h.disconnect(g),g.disconnect(v),b=!1,_!==null&&(_(),_=null)};return i(ui(k,v),N,E)},Ot=()=>new DOMException("","NotSupportedError"),yP={numberOfChannels:1},_P=(t,e,n,r,i)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:h,numberOfChannels:d,sampleRate:f}={...yP,...u},v=r(d,h,f);e(ji,()=>ji(v))||v.addEventListener("statechange",(()=>{let g=0;const _=b=>{this._state==="running"&&(g>0?(v.removeEventListener("statechange",_),b.stopImmediatePropagation(),this._waitForThePromiseToSettle(b)):g+=1)};return _})()),super(v,d),this._length=h,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,pp(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},bP={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},wP=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const h=i(l),d={...bP,...u},f=n(h,d),v=s(h),g=v?r():null,_=l.sampleRate/2;super(l,!1,f,g),this._detune=e(this,v,f.detune,153600,-153600),this._frequency=e(this,v,f.frequency,_,-_),this._nativeOscillatorNode=f,this._onended=null,this._oscillatorNodeRenderer=g,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const h=this._nativeOscillatorNode.onended;this._onended=h!==null&&h===u?l:h}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){ei(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),kn(this)&&Ji(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},TP=(t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null,l=null;const u=async(h,d)=>{let f=n(h);const v=Mt(f,d);if(!v){const g={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:o===null?void 0:o,type:f.type};f=e(d,g),a!==null&&f.start(a),l!==null&&f.stop(l)}return s.set(d,f),v?(await t(d,h.detune,f.detune),await t(d,h.frequency,f.frequency)):(await r(d,h.detune,f.detune),await r(d,h.frequency,f.frequency)),await i(h,d,f),f};return{set periodicWave(h){o=h},set start(h){a=h},set stop(h){l=h},render(h,d){const f=s.get(d);return f!==void 0?Promise.resolve(f):u(h,d)}}},PP={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},CP=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const h=i(l),d={...PP,...u},f=n(h,d),v=s(h),g=v?r():null;super(l,!1,f,g),this._nativePannerNode=f,this._orientationX=e(this,v,f.orientationX,At,Rt),this._orientationY=e(this,v,f.orientationY,At,Rt),this._orientationZ=e(this,v,f.orientationZ,At,Rt),this._positionX=e(this,v,f.positionX,At,Rt),this._positionY=e(this,v,f.positionY,At,Rt),this._positionZ=e(this,v,f.positionZ,At,Rt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},xP=(t,e,n,r,i,s,o,a,l,u)=>()=>{const h=new WeakMap;let d=null;const f=async(v,g)=>{let _=null,b=s(v);const C={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation},k={...C,coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,panningModel:b.panningModel,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor},N=Mt(b,g);if("bufferSize"in b)_=r(g,{...C,gain:1});else if(!N){const E={...k,orientationX:b.orientationX.value,orientationY:b.orientationY.value,orientationZ:b.orientationZ.value,positionX:b.positionX.value,positionY:b.positionY.value,positionZ:b.positionZ.value};b=i(g,E)}if(h.set(g,_===null?b:_),_!==null){if(d===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=new o(6,v.context.length,g.sampleRate),F=e(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});F.connect(j.destination),d=(async()=>{const U=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async($,X)=>{const G=n(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:X===0?1:0});return await a(j,$,G.offset),G}));for(let $=0;$<6;$+=1)U[$].connect(F,0,$),U[$].start(0);return u(j)})()}const E=await d,T=r(g,{...C,gain:1});await l(v,g,T);const P=[];for(let j=0;j<E.numberOfChannels;j+=1)P.push(E.getChannelData(j));let M=[P[0][0],P[1][0],P[2][0]],A=[P[3][0],P[4][0],P[5][0]],O=r(g,{...C,gain:1}),R=i(g,{...k,orientationX:M[0],orientationY:M[1],orientationZ:M[2],positionX:A[0],positionY:A[1],positionZ:A[2]});T.connect(O).connect(R.inputs[0]),R.connect(_);for(let j=128;j<E.length;j+=128){const F=[P[0][j],P[1][j],P[2][j]],U=[P[3][j],P[4][j],P[5][j]];if(F.some(($,X)=>$!==M[X])||U.some(($,X)=>$!==A[X])){M=F,A=U;const $=j/g.sampleRate;O.gain.setValueAtTime(0,$),O=r(g,{...C,gain:0}),R=i(g,{...k,orientationX:M[0],orientationY:M[1],orientationZ:M[2],positionX:A[0],positionY:A[1],positionZ:A[2]}),O.gain.setValueAtTime(1,$),T.connect(O).connect(R.inputs[0]),R.connect(_)}}return _}return N?(await t(g,v.orientationX,b.orientationX),await t(g,v.orientationY,b.orientationY),await t(g,v.orientationZ,b.orientationZ),await t(g,v.positionX,b.positionX),await t(g,v.positionY,b.positionY),await t(g,v.positionZ,b.positionZ)):(await a(g,v.orientationX,b.orientationX),await a(g,v.orientationY,b.orientationY),await a(g,v.orientationZ,b.orientationZ),await a(g,v.positionX,b.positionX),await a(g,v.positionY,b.positionY),await a(g,v.positionZ,b.positionZ)),ci(b)?await l(v,g,b.inputs[0]):await l(v,g,b),b};return{render(v,g){const _=h.get(g);return _!==void 0?Promise.resolve(_):f(v,g)}}},EP={disableNormalization:!1},MP=(t,e,n,r)=>class Cp{constructor(s,o){const a=e(s),l=r({...EP,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](s){return s!==null&&typeof s=="object"&&Object.getPrototypeOf(s)===Cp.prototype||n.has(s)}},SP=(t,e)=>(n,r,i)=>(t(r).replay(i),e(r,n,i)),AP=(t,e,n)=>async(r,i,s)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,h])=>{const f=await e(u).render(u,i),v=r.context.destination;!n(u)&&(r!==v||!n(r))&&f.connect(s,h,l)})).reduce((a,l)=>[...a,...l],[]))},NP=(t,e,n)=>async(r,i,s)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const h=await t(a).render(a,i);n(a)||h.connect(s,l)}))},kP=(t,e,n,r)=>i=>t(ji,()=>ji(i))?Promise.resolve(t(r,r)).then(s=>{if(!s){const o=n(i,512,0,1);i.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>i.currentTime,o.connect(i.destination)}return i.startRendering()}):new Promise(s=>{const o=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=a=>{o.disconnect(),s(a.renderedBuffer)},o.connect(i.destination),i.startRendering()}),OP=t=>(e,n)=>{t.set(e,n)},IP=t=>(e,n)=>t.set(e,n),DP=(t,e,n,r,i,s,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(r(u)).map(h=>n(h).render(h,u)))).then(()=>i(u)).then(h=>(typeof h.copyFromChannel!="function"?(o(h),Rc(h)):e(s,()=>s(h))||a(h),t.add(h),h)),RP={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},FP=(t,e,n,r,i,s)=>class extends t{constructor(a,l){const u=i(a),h={...RP,...l},d=n(u,h),f=s(u),v=f?r():null;super(a,!1,d,v),this._pan=e(this,f,d.pan)}get pan(){return this._pan}},jP=(t,e,n,r,i)=>()=>{const s=new WeakMap,o=async(a,l)=>{let u=n(a);const h=Mt(u,l);if(!h){const d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,d)}return s.set(l,u),h?await t(l,a.pan,u.pan):await r(l,a.pan,u.pan),ci(u)?await i(a,l,u.inputs[0]):await i(a,l,u),u};return{render(a,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},LP=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},VP=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),i=URL.createObjectURL(n);let s=!1,o=!1;try{await r.audioWorklet.addModule(i);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>s=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(i)}return s&&!o},BP=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(i=>{n.oncomplete=()=>{r.disconnect(),i(n.currentTime!==0)},n.startRendering()})},WP=()=>new DOMException("","UnknownError"),$P={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},UP=(t,e,n,r,i,s,o)=>class extends t{constructor(l,u){const h=i(l),d={...$P,...u},f=n(h,d),g=s(h)?r():null;super(l,!0,f,g),this._isCurveNullified=!1,this._nativeWaveShaperNode=f,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},qP=(t,e,n)=>()=>{const r=new WeakMap,i=async(s,o)=>{let a=e(s);if(!Mt(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return r.set(o,a),ci(a)?await n(s,o,a.inputs[0]):await n(s,o,a),a};return{render(s,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):i(s,o)}}},HP=()=>typeof window>"u"?null:window,zP=(t,e)=>n=>{n.copyFromChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),h=r.length;for(let d=o<0?-o:0;d+o<l&&d<h;d+=1)r[d]=u[d+o]},n.copyToChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),h=r.length;for(let d=o<0?-o:0;d+o<l&&d<h;d+=1)u[d+o]=r[d]}},GP=t=>e=>{e.copyFromChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},YP=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",i=>()=>{const s=i.call(e);return s===r?null:s},i=>s=>i.call(e,s===null?r:s))},XP=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)i.connect(r,0,l)},()=>i.disconnect(r))},xp=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Ep=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},is=(t,e,n,r)=>{let i=t;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:s,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(s),set:r(o)})},KP=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),QP=t=>({...t,channelCount:t.numberOfOutputs}),ZP=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Mp=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;Mp(t,e,n+1e-7)}},JP=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},eC=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},tC=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Bc=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Sp=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Wc=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},nC=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},rC=t=>{t.start=(e=>(n=0,r=0,i)=>{const s=t.buffer,o=s===null?r:Math.min(s.duration,r);s!==null&&o>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})(t.start)},Ap=(t,e)=>{const n=e.createGain();t.connect(n);const r=(i=>()=>{i.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),ui(t,n),t.stop=(i=>{let s=!1;return(o=0)=>{if(s)try{i.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else i.call(t,o),s=!0}})(t.stop)},hi=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},iC=Cw(Sr),sC=Nw(Sr),oC=$0(Ta),Np=new WeakMap,aC=oT(Np),fn=y0(new Map,new WeakMap),wn=HP(),kp=FT(fn,Pn),$c=sT(Nt),Tt=AP(Nt,$c,Pr),lC=Rw(kp,ze,Tt),Ue=cT(wa),Bn=cP(wn),je=ET(Bn),Op=new WeakMap,Ip=Z0(hi),ss=BT(wn),Uc=TT(ss),qc=PT(wn),Dp=CT(wn),Li=$T(wn),lt=o0(xw(ap),Aw(iC,sC,ho,oC,fo,Nt,aC,Zi,ze,Sr,kn,Pr,Js),fn,vT($l,fo,Nt,ze,Fi,kn),Pn,Pa,Ot,L0(ho,$l,Nt,ze,Fi,Ue,kn,je),H0(Op,Nt,hn),Ip,Ue,Uc,qc,Dp,je,Li),cC=Dw(lt,lC,Pn,kp,Ue,je),Hc=new WeakSet,cd=jT(wn),Rp=k0(new Uint32Array(1)),zc=zP(Rp,Pn),Gc=GP(Rp),Fp=jw(Hc,fn,Ot,cd,Bn,LP(cd),zc,Gc),Ca=kw(jt),jp=NP($c,es,Pr),Cn=x0(jp),di=VT(Ca,fn,JP,eC,tC,Bc,Sp,Wc,rC,YP(is),Ap),xn=SP(aT(es),jp),uC=Bw(Cn,di,ze,xn,Tt),pn=a0(Ew(lp),Op,Dc,l0,yw,_w,bw,ww,Tw,Vl,sp,ss,Mp),hC=Vw(lt,uC,pn,gt,di,Ue,je,hi),dC=Xw(lt,Kw,Pn,gt,WT(jt,is),Ue,je,Tt),fC=v0(Cn,Tp,ze,xn,Tt),Ar=IP(Np),pC=g0(lt,pn,fC,Pa,Tp,Ue,je,Ar),sr=DT(Sr,qc),mC=XP(gt,sr),or=XT(ss,mC),gC=w0(or,ze,Tt),vC=b0(lt,gC,or,Ue,je),yC=C0(ns,ze,Tt),_C=P0(lt,yC,ns,Ue,je,QP),bC=ZT(Ca,di,jt,sr),fi=QT(Ca,fn,bC,Bc,Wc),wC=N0(Cn,fi,ze,xn,Tt),TC=A0(lt,pn,wC,fi,Ue,je,hi),Lp=JT(Ot,is),PC=D0(Lp,ze,Tt),CC=I0(lt,PC,Lp,Ue,je,Ar),xC=W0(Cn,Pp,ze,xn,Tt),EC=B0(lt,pn,xC,Pp,Ue,je,Ar),Vp=eP(Ot),MC=X0(Cn,Vp,ze,xn,Tt),SC=Y0(lt,pn,MC,Vp,Ot,Ue,je,Ar),AC=rT(Cn,jt,ze,xn,Tt),NC=nT(lt,pn,AC,jt,Ue,je),kC=iP(Pa,gt,rs,Ot),xa=kP(fn,jt,rs,BP(jt,Bn)),OC=gT(di,ze,Bn,Tt,xa),IC=tP(kC),DC=pT(lt,IC,OC,Ue,je,Ar),RC=Qw(pn,or,fi,rs,Ot,xp,je,is),Bp=new WeakMap,FC=IT(dC,RC,Ip,je,Bp,hi),Wp=uP(Ca,fn,Bc,Sp,Wc,Ap),jC=TP(Cn,Wp,ze,xn,Tt),LC=wP(lt,pn,Wp,jC,Ue,je,hi),$p=M0(di),VC=vP($p,gt,jt,Ep,sr),Ea=gP($p,gt,VC,Ep,sr,ss,is),BC=dP(ho,gt,or,jt,rs,Ea,Ot,fo,xp,sr),Up=hP(BC),WC=xP(Cn,or,fi,jt,Up,ze,Bn,xn,Tt,xa),$C=CP(lt,pn,Up,WC,Ue,je,Ar),UC=fP(Pn),qC=MP(UC,Ue,new WeakSet,ZP),HC=mP(or,ns,jt,Ea,Ot,sr),qp=pP(HC,Ot),zC=jP(Cn,qp,ze,xn,Tt),GC=FP(lt,pn,qp,zC,Ue,je),YC=qP(Ea,ze,Tt),XC=UP(lt,gt,Ea,YC,Ue,je,Ar),Hp=MT(wn),Yc=J0(wn),zp=new WeakMap,KC=uT(zp,Bn),QC=Hp?Sw(fn,Ot,Q0(wn),Yc,eT(Pw),Ue,KC,je,Li,new WeakMap,new WeakMap,VP(Li,Bn),wn):void 0,ZC=xT(Uc,je),JC=j0(Hc,fn,F0,K0,new WeakSet,Ue,ZC,co,ji,zc,Gc),Gp=p0(QC,cC,Fp,hC,pC,vC,_C,TC,CC,JC,EC,SC,NC,DC,FC,LC,$C,qC,GC,XC),ex=ST(lt,sP,Ue,je),tx=NT(lt,oP,Ue,je),nx=kT(lt,aP,Ue,je),rx=lP(gt,je),ix=OT(lt,rx,Ue),sx=Yw(Gp,gt,Ot,WP,ex,tx,nx,ix,ss),Xc=hT(Bp),ox=Ow(Xc),Yp=E0(Pn),ax=U0(Xc),Xp=z0(Pn),Kp=new WeakMap,lx=iT(Kp,hn),cx=YT(Yp,Pn,gt,or,ns,fi,jt,rs,Ot,Xp,Yc,lx,sr),ux=qT(gt,cx,jt,Ot,sr),hx=f0(Cn,Yp,di,or,ns,fi,jt,ax,Xp,Yc,ze,Li,Bn,xn,Tt,xa),dx=lT(zp),fx=OP(Kp),ud=Hp?u0(ox,lt,pn,hx,ux,Nt,dx,Ue,je,Li,KP,fx,nC,hi):void 0,px=R0(Ot,Bn),mx=DP(Hc,fn,$c,Xc,xa,co,zc,Gc),gx=_P(Gp,fn,gt,px,mx),vx=yT(wa,Uc),yx=_T(Ic,qc),_x=bT(Dc,Dp),bx=wT(wa,je);function Jt(t){return t===void 0}function xe(t){return t!==void 0}function wx(t){return typeof t=="function"}function Jn(t){return typeof t=="number"}function _r(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function Tx(t){return typeof t=="boolean"}function Ut(t){return Array.isArray(t)}function In(t){return typeof t=="string"}function Ws(t){return In(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function ge(t,e){if(!t)throw new Error(e)}function er(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Qp(t){!t.isOffline&&t.state!=="running"&&Ma('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Zp=!1,hd=!1;function dd(t){Zp=t}function Px(t){Jt(t)&&Zp&&!hd&&(hd=!0,Ma("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Jp=console;function Cx(...t){Jp.log(...t)}function Ma(...t){Jp.warn(...t)}function xx(t){return new sx(t)}function Ex(t,e,n){return new gx(t,e,n)}const br=typeof self=="object"?self:null,Mx=br&&(br.hasOwnProperty("AudioContext")||br.hasOwnProperty("webkitAudioContext"));function Sx(t,e,n){return ge(xe(ud),"This node only works in a secure context (https or localhost)"),new ud(t,e,n)}function mn(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function dt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{u(r.next(h))}catch(d){o(d)}}function l(h){try{u(r.throw(h))}catch(d){o(d)}}function u(h){h.done?s(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}class Ax{constructor(e,n,r,i){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(i||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Cr(t){return _x(t)}function Zn(t){return yx(t)}function eo(t){return bx(t)}function Vr(t){return vx(t)}function Nx(t){return t instanceof Fp}function kx(t,e){return t==="value"||Cr(e)||Zn(e)||Nx(e)}function wr(t,...e){if(!e.length)return t;const n=e.shift();if(_r(t)&&_r(n))for(const r in n)kx(r,n[r])?t[r]=n[r]:_r(n[r])?(t[r]||Object.assign(t,{[r]:{}}),wr(t[r],n[r])):Object.assign(t,{[r]:n[r]});return wr(t,...e)}function Ox(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function H(t,e,n=[],r){const i={},s=Array.from(e);if(_r(s[0])&&r&&!Reflect.has(s[0],r)&&(Object.keys(s[0]).some(a=>Reflect.has(t,a))||(wr(i,{[r]:s[0]}),n.splice(n.indexOf(r),1),s.shift())),s.length===1&&_r(s[0]))wr(i,s[0]);else for(let o=0;o<n.length;o++)xe(s[o])&&(i[n[o]]=s[o]);return wr(t,i)}function Ix(t){return t.constructor.getDefaults()}function Gr(t,e){return Jt(t)?e:t}function Gl(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Wn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||br&&this.toString()===br.TONE_DEBUG_CLASS)&&Cx(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Wn.version=ip;const Kc=1e-6;function ti(t,e){return t>e+Kc}function Yl(t,e){return ti(t,e)||ln(t,e)}function vo(t,e){return t+Kc<e}function ln(t,e){return Math.abs(t-e)<Kc}function Dx(t,e,n){return Math.max(Math.min(t,n),e)}class en extends Wn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=H(en.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(ge(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];ge(Yl(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(ln(this._timeline[n].time,e)){for(let r=n;r>=0&&ln(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Yl(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const i=this._timeline.length;let s=i;if(i>0&&this._timeline[i-1][n]<=e)return i-1;for(;r<s;){let o=Math.floor(r+(s-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(ln(a[n],e)){for(let u=o;u<this._timeline.length;u++){const h=this._timeline[u];if(ln(h[n],e))o=u;else break}return o}else{if(vo(a[n],e)&&ti(l[n],e))return o;ti(a[n],e)?s=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let i=this._search(e),s=this._search(n);return i!==-1&&s!==-1?(this._timeline[i].time!==e&&(i+=1),this._timeline[s].time===n&&(s-=1),this._iterate(r,i,s)):i===-1&&this._iterate(r,0,s),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&ln(this._timeline[r].time,e)){let i=r;for(let s=r;s>=0&&ln(this._timeline[s].time,e);s--)i=s;this._iterate(s=>{n(s)},i,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const em=[];function Sa(t){em.push(t)}function Rx(t){em.forEach(e=>e(t))}const tm=[];function Aa(t){tm.push(t)}function Fx(t){tm.forEach(e=>e(t))}class os extends Wn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(i=>{Jt(this._events)&&(this._events={}),this._events.hasOwnProperty(i)||(this._events[i]=[]),this._events[i].push(n)}),this}once(e,n){const r=(...i)=>{n(...i),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(i=>{if(Jt(this._events)&&(this._events={}),this._events.hasOwnProperty(i))if(Jt(n))this._events[i]=[];else{const s=this._events[i];for(let o=s.length-1;o>=0;o--)s[o]===n&&s.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let i=0,s=r.length;i<s;i++)r[i].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(os.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class nm extends os{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class as extends nm{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new en,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=H(as.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=xx({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new Ax(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Rx(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return ge(Vr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return ge(Vr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return ge(Vr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){ge(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){ge(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){ge(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){ge(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return Sx(this.rawContext,e,n)}addAudioWorkletModule(e){return dt(this,void 0,void 0,function*(){ge(xe(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return dt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Vr(this._context)?this._context.resume():Promise.resolve()}close(){return dt(this,void 0,void 0,function*(){Vr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&Fx(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let s=0;s<r.length;s++)r[s]=e;const i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=n,i.loop=!0,i.start(0),this._constants.set(e,i),i}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,i=()=>{const s=this.now();this._timeouts.add({callback:()=>{e(),i()},id:r,time:s+n})};return i(),r}}class jx extends nm{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return dt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function We(t,e){Ut(e)?e.forEach(n=>We(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function rm(t,e){Ut(e)?e.forEach(n=>rm(t,n)):Object.defineProperty(t,e,{writable:!0})}const Fe=()=>{};class He extends Wn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Fe;const e=H(He.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,In(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Fe,onload:Fe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:cn().sampleRate}set(e){return e instanceof He?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return dt(this,void 0,void 0,function*(){const n=He.load(e).then(r=>{this.set(r),this.onload(this)});He.downloads.push(n);try{yield n}finally{const r=He.downloads.indexOf(n);He.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Ut(e)&&e[0].length>0,r=n?e.length:1,i=n?e[0].length:e.length,s=cn(),o=s.createBuffer(r,i,s.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(Jn(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let i=0;i<r;i++){const s=this.toArray(i);for(let o=0;o<s.length;o++)n[o]+=s[o]}n=n.map(i=>i/r),this.fromArray(n)}return this}toArray(e){if(Jn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){ge(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),i=Math.floor(n*this.sampleRate);ge(r<i,"The start time must be less than the end time");const s=i-r,o=cn().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,i),a);return new He(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new He().fromArray(e)}static fromUrl(e){return dt(this,void 0,void 0,function*(){return yield new He().load(e)})}static load(e){return dt(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let u=l[0];for(const h of l)if(He.supportsType(h)){u=h;break}e=e.replace(n[0],u)}const r=He.baseUrl===""||He.baseUrl.endsWith("/")?He.baseUrl:He.baseUrl+"/",i=document.createElement("a");i.href=r+e,i.pathname=(i.pathname+i.hash).split("/").map(encodeURIComponent).join("/");const s=yield fetch(i.href);if(!s.ok)throw new Error(`could not load url: ${e}`);const o=yield s.arrayBuffer();return yield cn().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return dt(this,void 0,void 0,function*(){for(yield Promise.resolve();He.downloads.length;)yield He.downloads[0]})}}He.baseUrl="";He.downloads=[];class Qc extends as{constructor(){super({clockSource:"offline",context:eo(arguments[0])?arguments[0]:Ex(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:eo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=eo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return dt(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(i=>setTimeout(i,1)))}})}render(e=!0){return dt(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new He(n)})}close(){return Promise.resolve()}}const im=new jx;let $r=im;function cn(){return $r===im&&Mx&&Lx(new as),$r}function Lx(t,e=!1){e&&$r.dispose(),Vr(t)?$r=new as(t):eo(t)?$r=new Qc(t):$r=t}if(br&&!br.TONE_SILENCE_LOGGING){const e=` * Tone.js v${ip} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function Vx(t){return Math.pow(10,t/20)}function Bx(t){return 20*(Math.log(t)/Math.LN10)}function sm(t){return Math.pow(2,t/12)}let Na=440;function Wx(){return Na}function $x(t){Na=t}function yr(t){return Math.round(om(t))}function om(t){return 69+12*Math.log2(t/Na)}function am(t){return Na*Math.pow(2,(t-69)/12)}class Zc extends Wn{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),i=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/r)*i},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let i=0;return e&&e!=="0"&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(i+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(i+=this._beatsToUnits(parseFloat(r)/4)),i},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Zc&&this.fromType(this._val),Jt(this._val))return this._noArg();if(In(this._val)&&Jt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(_r(this._val)){let e=0;for(const n in this._val)if(xe(this._val[n])){const r=this._val[n],i=new this.constructor(this.context,n).valueOf()*r;e+=i}return e}if(xe(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return In(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class un extends Zc{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new un(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),i=this.valueOf(),a=Math.round(i/r)*r-i;return i+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let s=1;s<9;s++){const o=Math.pow(2,s);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],i=new un(this.context,n[0]).toSeconds();return n.forEach(s=>{const o=new un(this.context,s).toSeconds();Math.abs(o-e)<Math.abs(i-e)&&(r=s,i=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let i=n%1*4;n=Math.floor(n)%this._getTimeSignature();const s=i.toString();return s.length>3&&(i=parseFloat(parseFloat(s).toFixed(3))),[r,n,i].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return yr(this.toFrequency())}_now(){return this.context.now()}}class $t extends un{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Wx()}static set A4(e){$x(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:$t.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const i=Ux[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?i:$t.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let i=1;return e&&e!=="0"&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(i*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(i*=this._beatsToUnits(parseFloat(r)/4)),i}}})}transpose(e){return new $t(this.context,this.valueOf()*sm(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return yr(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/$t.A4);let r=Math.round(12*n)+57;const i=Math.floor(r/12);return i<0&&(r+=-12*i),qx[r%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return am(e)}static ftom(e){return yr(e)}}const Ux={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},qx=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Ni extends un{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ft extends Wn{constructor(){super();const e=H(Ft.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:cn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return Px(e),new un(this.context,e).toSeconds()}toFrequency(e){return new $t(this.context,e).toFrequency()}toTicks(e){return new Ni(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{Jt(e[r])&&delete n[r]}),n}get(){const e=Ix(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];xe(r)&&xe(r.value)&&xe(r.setValueAtTime)?e[n]=r.value:r instanceof Ft?e[n]=r._getPartialProperties(e[n]):Ut(r)||Jn(r)||In(r)||Tx(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&xe(this[n])&&(this[n]&&xe(this[n].value)&&xe(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Ft?this[n].set(e[n]):this[n]=e[n])}),this}}class Jc extends en{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return er(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let i=r;i>=0;i--){const s=this._timeline[i];if(s.state===e)return s}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let i=r;i<this._timeline.length;i++){const s=this._timeline[i];if(s.state===e)return s}}}class ke extends Ft{constructor(){super(H(ke.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=H(ke.getDefaults(),arguments,["param","units","convert"]);for(ge(xe(e.param)&&(Cr(e.param)||e.param instanceof ke),"param must be an AudioParam");!Cr(e.param);)e.param=e.param._param;this._swappable=xe(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new en(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,xe(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ft.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return xe(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return xe(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return xe(this.maxValue)&&xe(this.minValue)&&er(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?Vx(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?Bx(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),i=this._fromType(e);return ge(isFinite(i)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(i),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),i=this._events.get(n);let s=this._initialValue;if(i===null)s=this._initialValue;else if(i.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(i.time);let a;o===null?a=this._initialValue:a=o.value,i.type==="setTargetAtTime"&&(s=this._exponentialApproach(i.time,a,i.value,i.constant,n))}else if(r===null)s=i.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=i.value;if(i.type==="setTargetAtTime"){const a=this._events.getBefore(i.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?s=this._linearInterpolate(i.time,o,r.time,r.value,n):s=this._exponentialInterpolate(i.time,o,r.time,r.value,n)}else s=i.value;return this._toType(s)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),i=this.toSeconds(n);return ge(isFinite(r)&&isFinite(i),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:i,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,i),this._param.linearRampToValueAtTime(r,i),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=ln(r,0)?this._minOutput:r,this._assertRange(r);const i=this.toSeconds(n);return ge(isFinite(r)&&isFinite(i),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:i,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,i),this._param.exponentialRampToValueAtTime(r,i),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const i=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,i),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const i=this._fromType(e);ge(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const s=this.toSeconds(n);return this._assertRange(i),ge(isFinite(i)&&isFinite(s),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:s,type:"setTargetAtTime",value:i}),this.log(this.units,"setTargetAtTime",e,s,r),this._param.setTargetAtTime(i,s,r),this}setValueCurveAtTime(e,n,r,i=1){r=this.toSeconds(r),n=this.toSeconds(n);const s=this._fromType(e[0])*i;this.setValueAtTime(this._toType(s),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*i;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return ge(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));ge(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const i=this._events.get(n),s=this._events.getAfter(n);return i&&ln(i.time,n)?s?(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):s&&(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time),s.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):s.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const i=this._events.getAfter(r.time),s=i?i.time:n+2,o=(s-n)/10;for(let a=n;a<s;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,i=>{i.type==="cancelScheduledValues"?e.cancelScheduledValues(i.time):i.type==="setTargetAtTime"?e.setTargetAtTime(i.value,i.time,i.constant):e[i.type](i.value,i.time)}),this}setParam(e){ge(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,i,s){return r+(n-r)*Math.exp(-(s-e)/i)}_linearInterpolate(e,n,r,i,s){return n+(i-n)*((s-e)/(r-e))}_exponentialInterpolate(e,n,r,i,s){return n*Math.pow(i/n,(s-e)/(r-e))}}class _e extends Ft{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return xe(this.input)?Cr(this.input)||this.input instanceof ke?1:this.input.numberOfInputs:0}get numberOfOutputs(){return xe(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return xe(e)&&(e instanceof _e||Zn(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();ge(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return Dn(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ma("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return lm(this,e,n,r),this}chain(...e){return yo(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),xe(this.input)&&(this.input instanceof _e?this.input.dispose():Zn(this.input)&&this.input.disconnect()),xe(this.output)&&(this.output instanceof _e?this.output.dispose():Zn(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function yo(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof _e?n.connect(r):Zn(n)&&Dn(n,r),r),e)}function Dn(t,e,n=0,r=0){for(ge(xe(t),"Cannot connect from undefined node"),ge(xe(e),"Cannot connect to undefined node"),(e instanceof _e||Zn(e))&&ge(e.numberOfInputs>0,"Cannot connect to node with no inputs"),ge(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof _e||e instanceof ke;)xe(e.input)&&(e=e.input);for(;t instanceof _e;)xe(t.output)&&(t=t.output);Cr(e)?t.connect(e,n):t.connect(e,n,r)}function lm(t,e,n=0,r=0){if(xe(e))for(;e instanceof _e;)e=e.input;for(;!Zn(t);)xe(t.output)&&(t=t.output);Cr(e)?t.disconnect(e,n):Zn(e)?t.disconnect(e,n,r):t.disconnect()}class $e extends _e{constructor(){super(H($e.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=H($e.getDefaults(),arguments,["gain","units"]);this.gain=new ke({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),We(this,"gain")}static getDefaults(){return Object.assign(_e.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ni extends _e{constructor(e){super(e),this.onended=Fe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new $e({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(_e.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Fe})}_startGain(e,n=1){ge(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){ge(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Fe&&(this.onended(this),this.onended=Fe,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ge(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Fe,this}}class _o extends ni{constructor(){super(H(_o.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=H(_o.getDefaults(),arguments,["offset"]);Dn(this._source,this._gainNode),this.offset=new ke({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ni.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Xe extends _e{constructor(){super(H(Xe.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=H(Xe.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new _o({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(_e.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return ka(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,i){return this._param.setValueCurveAtTime(e,n,r,i),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function ka(t,e,n,r){(e instanceof ke||Cr(e)||e instanceof Xe&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Xe&&(e.overridden=!0)),Dn(t,e,n,r)}class bo extends ke{constructor(){super(H(bo.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new en(1/0),this._multiplier=1;const e=H(bo.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ke.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const i=this._fromType(e),s=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,u=this._exponentialApproach(s.time,s.value,i,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const i=this._events.get(r),s=this._events.previousEvent(i),o=this._getTicksUntilEvent(s,r);return i.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const i=this._events.get(r),s=this._events.previousEvent(i),o=this._getTicksUntilEvent(s,r);return i.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),i=this._events.get(n),s=Math.round(Math.max((n-i.time)*10,1)),o=(n-i.time)/s;for(let a=0;a<=s;a++){const l=o*a+i.time,u=this._exponentialInterpolate(i.time,i.value,n,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Jt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let i=this._fromType(this.getValueAtTime(n));const s=this._events.get(n);return s&&s.time===n&&s.type==="setValueAtTime"&&(i=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+i)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),i=this.getTicksAtTime(n);return this.getTimeOfTick(i+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const i=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-i)/(r.time-n.time),a=Math.sqrt(Math.pow(i,2)-2*o*(n.ticks-e)),l=(-i+a)/o,u=(-i-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),i=this.toSeconds(e),s=this.getTicksAtTime(r);return this.getTicksAtTime(r+i)-s}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class wo extends Xe{constructor(){super(H(wo.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=H(wo.getDefaults(),arguments,["value"]);this.input=this._param=new bo({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Xe.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class To extends Ft{constructor(){super(H(To.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Jc,this._tickOffset=new en,this._ticksAtTime=new en,this._secondsAtTime=new en;const e=H(To.getDefaults(),arguments,["frequency"]);this.frequency=new wo({context:this.context,units:e.units,value:e.frequency}),We(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ft.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),xe(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),i=this._ticksAtTime.get(n),s={state:"paused",time:n};this._state.add(s);let o=i||r,a=i?i.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,u=>{let h=o.time;const d=this._tickOffset.get(u.time);d&&d.time>=o.time&&(a=d.ticks,h=d.time),o.state==="started"&&u.state!=="started"&&(a+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(h),u.time!==s.time&&(l={state:u.state,time:u.time,ticks:a})),o=u}),this._state.remove(s),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const i=this._secondsAtTime.get(e);let s=i||n,o=i?i.seconds:0,a=null;return this._state.forEachBetween(s.time,e+this.sampleTime,l=>{let u=s.time;const h=this._tickOffset.get(l.time);h&&h.time>=s.time&&(o=h.seconds,u=h.time),s.state==="started"&&l.state!=="started"&&(o+=l.time-u,l.time!==r.time&&(a={state:l.state,time:l.time,seconds:o})),s=l}),this._state.remove(r),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),i=this._state.get(n),s=Math.max(r.time,i.time),o=this.frequency.getTicksAtTime(s)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let i=this._state.get(e);this._state.forEachBetween(e,n,o=>{i&&i.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(i.time,e),o.time-this.sampleTime,r),i=o});let s=null;if(i&&i.state==="started"){const o=Math.max(i.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(i.time),u=a-l;let h=Math.ceil(u)-u;h=ln(h,1)?0:h;let d=this.frequency.getTimeOfTick(a+h);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(f){s=f;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(s)throw s;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Vi extends Ft{constructor(){super(H(Vi.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Fe,this._lastUpdate=0,this._state=new Jc("stopped"),this._boundLoop=this._loop.bind(this);const e=H(Vi.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new To({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,We(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ft.getDefaults(),{callback:Fe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Qp(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),i=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(i+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const i=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,i);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,i)=>{this.callback(r,i)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}os.mixin(Vi);class Po extends _e{constructor(){super(H(Po.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=H(Po.getDefaults(),arguments,["delayTime","maxDelay"]),n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new ke({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),We(this,"delayTime")}static getDefaults(){return Object.assign(_e.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class eu extends Wn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=H(eu.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Fe,onload:Fe,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return ge(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=Fe,i=Fe){return In(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new He(this.baseUrl+n,r,i))):this._buffers.set(e.toString(),new He(n,r,i)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Co extends $t{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return yr(super._frequencyToUnits(e))}_ticksToUnits(e){return yr(super._ticksToUnits(e))}_beatsToUnits(e){return yr(super._beatsToUnits(e))}_secondsToUnits(e){return yr(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return am(this.toMidi())}transpose(e){return new Co(this.context,this.toMidi()+e)}}class Ur extends Ni{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Hx extends Ft{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new en,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Sa(t=>{t.draw=new Hx({context:t})});Aa(t=>{t.draw.dispose()});class zx extends Wn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){ge(xe(e.time),"Events must have a time property"),ge(xe(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new Gx(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,i=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,i=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,i=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,i=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,i=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),i&&this._rebalance(i)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),i=e.right;i&&(e.right=i.left,i.left=e),n!==null?r?n.left=i:n.right=i:this._setRoot(i)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),i=e.left;i&&(e.left=i.right,i.right=e),n!==null?r?n.left=i:n.right=i:this._setRoot(i)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let i=1;i<n.length;i++)n[i].low>r.low&&(r=n[i]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(i=>{i.event&&n(i.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(i=>{i.event&&n(i.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class Gx{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class xr extends _e{constructor(){super(H(xr.getDefaults(),arguments,["volume"])),this.name="Volume";const e=H(xr.getDefaults(),arguments,["volume"]);this.input=this.output=new $e({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,We(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(_e.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class xo extends _e{constructor(){super(H(xo.getDefaults(),arguments)),this.name="Destination",this.input=new xr({context:this.context}),this.output=new $e({context:this.context}),this.volume=this.input.volume;const e=H(xo.getDefaults(),arguments);yo(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(_e.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),yo(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Sa(t=>{t.destination=new xo({context:t})});Aa(t=>{t.destination.dispose()});class Yx extends Wn{constructor(e){super(),this.name="TimelineValue",this._timeline=new en({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Tn extends _e{constructor(){super(Object.assign(H(Tn.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return ka(this,e,n,r),this}}class Er extends Tn{constructor(){super(Object.assign(H(Er.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=H(Er.getDefaults(),arguments,["mapping","length"]);Ut(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):wx(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Xe.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let i=0,s=n;i<s;i++){const o=i/(s-1)*2-1;r[i]=e(o,i)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));ge(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Eo extends Tn{constructor(){super(Object.assign(H(Eo.getDefaults(),arguments,["value"]))),this.name="Pow";const e=H(Eo.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Er({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Tn.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class tr{constructor(e,n){this.id=tr._eventId++,this._remainderTime=0;const r=Object.assign(tr.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Fe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}tr._eventId=0;class tu extends tr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(tu.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},tr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return vo(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Ur(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){vo(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ur(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);ti(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Bi extends Ft{constructor(){super(H(Bi.getDefaults(),arguments)),this.name="Transport",this._loop=new Yx(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new en,this._repeatedEvents=new zx,this._syncedSignals=[],this._swingAmount=0;const e=H(Bi.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new Vi({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),We(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ft.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),i=Math.sin(r*Math.PI)*this._swingAmount;e+=new Ur(this.context,this._swingTicks*2/3).toSeconds()*i}dd(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),dd(!1)}schedule(e,n){const r=new tr(this,{callback:e,time:new Ni(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,i=1/0){const s=new tu(this,{callback:e,duration:new un(this.context,i).toTicks(),interval:new un(this.context,n).toTicks(),time:new Ni(this.context,r).toTicks()});return this._addEvent(s,this._repeatedEvents)}scheduleOnce(e,n){const r=new tr(this,{callback:e,once:!0,time:new Ni(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Ur(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return xe(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Ut(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new un(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new un(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Ur(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Ur(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),i=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),s=n+i;this.emit("stop",s),this._clock.setTicksAtTime(e,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),i=e-r%e;return this._clock.nextTickTime(i,n)}}syncSignal(e,n){const r=this.now();let i=this.bpm,s=1/(60/i.getValueAtTime(r)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/s,u=new $e(l),h=new Eo(-1),d=new $e(l);i.chain(u,h,d),i=d,s=1/s,o=[u,h,d]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/s:n=0);const a=new $e(n);return i.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(i=>i.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),rm(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}os.mixin(Bi);Sa(t=>{t.transport=new Bi({context:t})});Aa(t=>{t.transport.dispose()});class Ht extends _e{constructor(e){super(e),this.input=void 0,this._state=new Jc("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Fe,this._syncedStop=Fe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new xr({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,We(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(_e.getDefaults(),{mute:!1,onstop:Fe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let i=Jt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(i=this._clampToCurrentTime(i),!this._synced&&this._state.getValueAtTime(i)==="started")ge(ti(i,this._state.get(i).time),"Start time must be strictly greater than previous start time"),this._state.cancel(i),this._state.setStateAtTime("started",i),this.log("restart",i),this.restart(i,n,r);else if(this.log("start",i),this._state.setStateAtTime("started",i),this._synced){const s=this._state.get(i);s&&(s.offset=this.toSeconds(Gr(n,0)),s.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},i);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>i&&this._syncedStart(this.now(),this.context.transport.seconds)}else Qp(this.context),this._start(i,n,r);return this}stop(e){let n=Jt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||xe(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(ti(n,0)){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const i=n-this.toSeconds(r.time);let s;r.duration&&(s=this.toSeconds(r.duration)-i),this._start(e,this.toSeconds(r.offset)+i,s)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Fe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Wi extends ni{constructor(){super(H(Wi.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=H(Wi.getDefaults(),arguments,["url","onload"]);Dn(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ke({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new He(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ni.getDefaults(),{url:new He,loop:!1,loopEnd:0,loopStart:0,onload:Fe,onerror:Fe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,i=1){ge(this.buffer.loaded,"buffer is either not set or not loaded");const s=this.toSeconds(e);this._startGain(s,i),this.loop?n=Gr(n,this.loopStart):n=Gr(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;Yl(o,a)&&(o=(o-l)%u+l),ln(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,vo(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(s,o)),xe(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(s+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Nr(t,e){return dt(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new Qc(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Mo extends ni{constructor(){super(H(Mo.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=H(Mo.getDefaults(),arguments,["frequency","type"]);Dn(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new ke({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new ke({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),We(this,["frequency","detune"])}static getDefaults(){return Object.assign(ni.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Je extends Ht{constructor(){super(H(Je.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=H(Je.getDefaults(),arguments,["frequency","type"]);this.frequency=new Xe({context:this.context,units:"frequency",value:e.frequency}),We(this,"frequency"),this.detune=new Xe({context:this.context,units:"cents",value:e.detune}),We(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Ht.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Mo({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Je._periodicWaveCache.find(n=>n.phase===this._phase&&Ox(n.partials,this._partials));{const e=Je._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(xe(r)){const{partials:i,wave:s}=r;this._wave=s,this._partials=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[i,s]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(i,s);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Je._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),Je._periodicWaveCache.length>100&&Je._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){er(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const i=new Float32Array(e);this._partials.forEach((s,o)=>i[o]=s),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(e,n){let i=2048;const s=new Float32Array(i),o=new Float32Array(i);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,i=a,this._partials.length===0)return[s,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),i=a):this._partialCount=0,this._partials=[]}for(let l=1;l<i;++l){const u=2/(l*Math.PI);let h;switch(e){case"sine":h=l<=a?1:0,this._partials[l-1]=h;break;case"square":h=l&1?2*u:0,this._partials[l-1]=h;break;case"sawtooth":h=u*(l&1?1:-1),this._partials[l-1]=h;break;case"triangle":l&1?h=2*(u*u)*(l-1>>1&1?-1:1):h=0,this._partials[l-1]=h;break;case"custom":h=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}h!==0?(s[l]=-h*Math.sin(n*l),o[l]=h*Math.cos(n*l)):(s[l]=0,o[l]=0)}return[s,o]}_inverseFFT(e,n,r){let i=0;const s=e.length;for(let o=0;o<s;o++)i+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return i}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const i=Math.PI*2,s=32;for(let o=0;o<s;o++)r=Math.max(this._inverseFFT(e,n,o/s*i),r);return Dx(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Nr(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Je._periodicWaveCache=[];class cm extends Tn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Er({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class nr extends Xe{constructor(){super(Object.assign(H(nr.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=H(nr.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new $e({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Xe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class $i extends Ht{constructor(){super(H($i.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new cm({context:this.context}),this._modulationNode=new $e({context:this.context});const e=H($i.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Je({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Je({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new nr({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),We(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Je.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Nr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Ui extends Ht{constructor(){super(H(Ui.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new $e({context:this.context,gain:0});const e=H(Ui.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Je({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Xe({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Je({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new nr({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new nr({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),We(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Je.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Nr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ri extends Ht{constructor(){super(H(ri.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new $e({context:this.context,gain:0}),this._thresh=new Er({context:this.context,mapping:n=>n<=0?-1:1});const e=H(ri.getDefaults(),arguments,["frequency","width"]);this.width=new Xe({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Je({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),We(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ht.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Nr(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class qi extends Ht{constructor(){super(H(qi.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=H(qi.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Xe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Xe({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,We(this,["frequency","detune"])}static getDefaults(){return Object.assign(Je.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((i,s)=>i.detune.value=n+r*s)}}get count(){return this._oscillators.length}set count(e){if(er(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new Je({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Fe});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Nr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Hi extends Ht{constructor(){super(H(Hi.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new nr({context:this.context,value:2});const e=H(Hi.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new ri({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Je({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),We(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ht.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Nr(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const fd={am:$i,fat:qi,fm:Ui,oscillator:Je,pulse:ri,pwm:Hi};class zi extends Ht{constructor(){super(H(zi.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=H(zi.getDefaults(),arguments,["frequency","type"]);this.frequency=new Xe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Xe({context:this.context,units:"cents",value:e.detune}),We(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Je.getDefaults(),Ui.getDefaults(),$i.getDefaults(),qi.getDefaults(),ri.getDefaults(),Hi.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=fd[e],r=this.now();if(this._oscillator){const i=this._oscillator;i.stop(r),this.context.setTimeout(()=>i.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof fd[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Jn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Jn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&In(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return dt(this,void 0,void 0,function*(){return Nr(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class nu extends Xe{constructor(){super(Object.assign(H(nu.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new $e({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,yo(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Xe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class So extends Tn{constructor(){super(Object.assign(H(So.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=H(So.getDefaults(),arguments,["min","max"]);this._mult=this.input=new nr({context:this.context,value:e.max-e.min}),this._add=this.output=new nu({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Tn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class ru extends Tn{constructor(){super(Object.assign(H(ru.getDefaults(),arguments))),this.name="Zero",this._gain=new $e({context:this.context}),this.output=this._gain,this.input=void 0,Dn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),lm(this.context.getConstant(0),this._gain),this}}class Ao extends _e{constructor(){super(H(Ao.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=ke.prototype._fromType,this._toType=ke.prototype._toType,this._is=ke.prototype._is,this._clampValue=ke.prototype._clampValue;const e=H(Ao.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Je(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new $e({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Xe({context:this.context,units:"audioRange",value:0}),this._zeros=new ru({context:this.context}),this._a2g=new cm({context:this.context}),this._scaler=this.output=new So({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),We(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Je.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,r=this.max;this._units=e,this.min=n,this.max=r}get state(){return this._oscillator.state}connect(e,n,r){return(e instanceof ke||e instanceof Xe)&&(this.convert=e.convert,this.units=e.units),ka(this,e,n,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function um(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){er(s,t,e),n.set(this,s)}})}}function $n(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){er(this.toSeconds(s),t,e),n.set(this,s)}})}}class Gi extends Ht{constructor(){super(H(Gi.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=H(Gi.getDefaults(),arguments,["url","onload"]);this._buffer=new He({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ht.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Fe,onerror:Fe,playbackRate:1,reverse:!1})}load(e){return dt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Fe){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Gr(n,this._loopStart):n=Gr(n,0);const i=this.toSeconds(n),s=r;r=Gr(r,Math.max(this._buffer.duration-i,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new Wi({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Jt(s)?a.start(e,i):a.start(e,i,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var i;(i=[...this._activeSources].pop())===null||i===void 0||i.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const i=this.toSeconds(e);this._stop(r),this._start(r,i)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&er(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&er(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(i=>i.cancelStop())),this._activeSources.forEach(i=>{i.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}mn([$n(0)],Gi.prototype,"fadeIn",void 0);mn([$n(0)],Gi.prototype,"fadeOut",void 0);class Xx extends Tn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Er({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Rn extends _e{constructor(){super(H(Rn.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Xe({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=H(Rn.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(_e.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(In(e))return e;{let r;for(r in $s)if($s[r][n]===e)return r;return e}}_setCurve(e,n,r){if(In(r)&&Reflect.has($s,r)){const i=$s[r];_r(i)?e!=="_decayCurve"&&(this[e]=i[n]):this[e]=i}else if(Ut(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let i=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/i;i=(1-o)/a}if(i<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,i,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,i,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,i,n)}if(s&&this.sustain<1){const a=n*this.sustain,l=e+i;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,s+l):this._sig.exponentialApproachValueAtTime(a,l,s)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(ge(Ut(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return ka(this,e,n,r),this}asArray(e=1024){return dt(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,r=new Qc(1,n,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),s=i+this.toSeconds(this.release),o=s*.1,a=s+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(i+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}mn([$n(0)],Rn.prototype,"attack",void 0);mn([$n(0)],Rn.prototype,"decay",void 0);mn([um(0,1)],Rn.prototype,"sustain",void 0);mn([$n(0)],Rn.prototype,"release",void 0);const $s=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const i=[],s=6.4;for(e=0;e<127;e++){n=e/127;const f=Math.sin(n*(Math.PI*2)*s-Math.PI/2)+1;i[e]=f/10+n*.83}i[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/127;const f=Math.pow(n,3)*4+.2,v=Math.cos(f*Math.PI*2*n);u[e]=Math.abs(v*(1-n))}function h(f){const v=new Array(f.length);for(let g=0;g<f.length;g++)v[g]=1-f[g];return v}function d(f){return f.slice(0).reverse()}return{bounce:{In:h(u),Out:u},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:i,Out:h(i)},sine:{In:l,Out:h(l)},step:{In:o,Out:h(o)}}})();class Fn extends _e{constructor(){super(H(Fn.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n);const e=H(Fn.getDefaults(),arguments);this._volume=this.output=new xr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,We(this,"volume")}static getDefaults(){return Object.assign(_e.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...i)=>{const s=i[n],o=this.context.transport.schedule(a=>{i[n]=a,r.apply(this,i)},s);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,i){const s=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,s,i),this.triggerRelease(s+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class rr extends Fn{constructor(){super(H(rr.getDefaults(),arguments));const e=H(rr.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Fn.getDefaults(),{detune:0,onsilence:Fe,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const i=this.toSeconds(n);return this._triggerEnvelopeAttack(i,r),this.setNote(e,i),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),i=e instanceof $t?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const s=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(i,s,r)}else this.frequency.setValueAtTime(i,r);return this}}mn([$n(0)],rr.prototype,"portamento",void 0);class iu extends Rn{constructor(){super(H(iu.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new $e({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ii extends rr{constructor(){super(H(ii.getDefaults(),arguments)),this.name="Synth";const e=H(ii.getDefaults(),arguments);this.oscillator=new zi(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new iu(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),We(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(rr.getDefaults(),{envelope:Object.assign(Gl(Rn.getDefaults(),Object.keys(_e.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Gl(zi.getDefaults(),[...Object.keys(Ht.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),i=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+i)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Yi extends ii{constructor(){super(H(Yi.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=H(Yi.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,We(this,["oscillator","envelope"])}static getDefaults(){return wr(rr.getDefaults(),ii.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),i=this.toFrequency(e instanceof $t?e.toFrequency():e),s=i*this.octaves;return this.oscillator.frequency.setValueAtTime(s,r),this.oscillator.frequency.exponentialRampToValueAtTime(i,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}mn([um(0)],Yi.prototype,"octaves",void 0);mn([$n(0)],Yi.prototype,"pitchDecay",void 0);const hm=new Set;function su(t){hm.add(t)}function dm(t,e){const n=`registerProcessor("${t}", ${e})`;hm.add(n)}const Kx=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;su(Kx);const Qx=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;su(Qx);const Zx=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;su(Zx);const Jx="feedback-comb-filter",eE=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;dm(Jx,eE);class ir extends Fn{constructor(){super(H(ir.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=i=>this.releaseAll(i);const e=H(ir.getDefaults(),arguments,["voice","options"]);ge(!Jn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Fn.getDefaults(),{maxPolyphony:32,options:{},voice:ii})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return ge(e instanceof rr,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Ma("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,r){e.forEach(i=>{const s=new Co(this.context,i).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(i,n,r),this._activeVoices.push({midi:s,voice:o,released:!1}),this.log("triggerAttack",i,n))})}_triggerRelease(e,n){e.forEach(r=>{const i=new Co(this.context,r).toMidi(),s=this._activeVoices.find(({midi:o,released:a})=>o===i&&!a);s&&(s.voice.triggerRelease(n),s.released=!0,this.log("triggerRelease",r,n))})}_scheduleEvent(e,n,r,i){ge(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(n,r,i):this._triggerRelease(n,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,r,i)},r-this.now())}triggerAttack(e,n,r){Array.isArray(e)||(e=[e]);const i=this.toSeconds(n);return this._scheduleEvent("attack",e,i,r),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,n,r,i){const s=this.toSeconds(r);if(this.triggerAttack(e,s,i),Ut(n)){ge(Ut(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=n[Math.min(o,n.length-1)],l=this.toSeconds(a);ge(l>0,"The duration must be greater than 0"),this.triggerRelease(e[o],s+l)}}else{const o=this.toSeconds(n);ge(o>0,"The duration must be greater than 0"),this.triggerRelease(e,s+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=Gl(e,["onsilence","context"]);return this.options=wr(this.options,n),this._voices.forEach(r=>r.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Xi extends Fn{constructor(){super(H(Xi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=H(Xi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{const i=parseInt(r,10);if(ge(Ws(r)||Jn(i)&&isFinite(i),`url key is neither a note or midi pitch: ${r}`),Ws(r)){const s=new $t(this.context,r).toMidi();n[s]=e.urls[r]}else Jn(i)&&isFinite(i)&&(n[i]=e.urls[i])}),this._buffers=new eu({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Fn.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Fe,onerror:Fe,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(i=>{const s=om(new $t(this.context,i).toFrequency()),o=Math.round(s),a=s-o,l=this._findClosest(o),u=o-l,h=this._buffers.get(u),d=sm(l+a),f=new Wi({url:h,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);f.start(n,0,h.duration/d,r),Ut(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(f),f.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const v=this._activeSources.get(o),g=v.indexOf(f);g!==-1&&v.splice(g,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=new $t(this.context,r).toMidi();if(this._activeSources.has(i)&&this._activeSources.get(i).length){const s=this._activeSources.get(i);n=this.toSeconds(n),s.forEach(o=>{o.stop(n)}),this._activeSources.set(i,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,i=1){const s=this.toSeconds(r);return this.triggerAttack(e,s,i),Ut(n)?(ge(Ut(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,s+this.toSeconds(l))})):this.triggerRelease(e,s+this.toSeconds(n)),this}add(e,n,r){if(ge(Ws(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Ws(e)){const i=new $t(this.context,e).toMidi();this._buffers.add(i,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}mn([$n(0)],Xi.prototype,"attack",void 0);mn([$n(0)],Xi.prototype,"release",void 0);class No extends _e{constructor(){super(Object.assign(H(No.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Xx({context:this.context}),this.a=new $e({context:this.context,gain:0}),this.b=new $e({context:this.context,gain:0}),this.output=new $e({context:this.context}),this._internalChannels=[this.a,this.b];const e=H(No.getDefaults(),arguments,["fade"]);this.fade=new Xe({context:this.context,units:"normalRange",value:e.fade}),We(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Dn(this._split,this.a.gain,0),Dn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(_e.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class pd extends _e{constructor(e){super(e),this.name="Effect",this._dryWet=new No({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new $e({context:this.context}),this.effectReturn=new $e({context:this.context}),this.input=new $e({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],We(this,"wet")}static getDefaults(){return Object.assign(_e.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class ko extends _e{constructor(){super(Object.assign(H(ko.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=H(ko.getDefaults(),arguments,["pan"]);this.pan=new ke({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",We(this,"pan")}static getDefaults(){return Object.assign(_e.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const tE="bit-crusher",nE=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;dm(tE,nE);class Oo extends pd{constructor(){super(H(Oo.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const e=H(Oo.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new Po({context:this.context,delayTime:0,maxDelay:e.maxDelay}),this._lfo=new Ao({context:this.context,type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,We(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(pd.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class at extends _e{constructor(){super(H(at.getDefaults(),arguments,["solo"])),this.name="Solo";const e=H(at.getDefaults(),arguments,["solo"]);this.input=this.output=new $e({context:this.context}),at._allSolos.has(this.context)||at._allSolos.set(this.context,new Set),at._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(_e.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),at._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){at._soloed.has(this.context)||at._soloed.set(this.context,new Set),at._soloed.get(this.context).add(this)}_removeSolo(){at._soloed.has(this.context)&&at._soloed.get(this.context).delete(this)}_isSoloed(){return at._soloed.has(this.context)&&at._soloed.get(this.context).has(this)}_noSolos(){return!at._soloed.has(this.context)||at._soloed.has(this.context)&&at._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),at._allSolos.get(this.context).delete(this),this._removeSolo(),this}}at._allSolos=new Map;at._soloed=new Map;class Io extends _e{constructor(){super(H(Io.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=H(Io.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new ko({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new xr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,We(this,["pan","volume"])}static getDefaults(){return Object.assign(_e.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class mr extends _e{constructor(){super(H(mr.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=H(mr.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new at({solo:e.solo,context:this.context}),this._panVol=this.output=new Io({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),We(this,["pan","volume"])}static getDefaults(){return Object.assign(_e.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return mr.buses.has(e)||mr.buses.set(e,new $e({context:this.context})),mr.buses.get(e)}send(e,n=0){const r=this._getBus(e),i=new $e({context:this.context,units:"decibels",gain:n});return this.connect(i),i.connect(r),i}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}mr.buses=new Map;class rE extends _e{constructor(){super(...arguments),this.name="Listener",this.positionX=new ke({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ke({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ke({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ke({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ke({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ke({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ke({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ke({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ke({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(_e.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Sa(t=>{t.listener=new rE({context:t})});Aa(t=>{t.listener.dispose()});cn().transport;cn().destination;cn().destination;cn().listener;cn().draw;const md=cn();var oe={},Xl={exports:{}};(function(t,e){(function(n,r){var i="1.0.39",s="",o="?",a="function",l="undefined",u="object",h="string",d="major",f="model",v="name",g="type",_="vendor",b="version",C="architecture",k="console",N="mobile",E="tablet",T="smarttv",P="wearable",M="embedded",A=500,O="Amazon",R="Apple",j="ASUS",F="BlackBerry",U="Browser",$="Chrome",X="Edge",G="Firefox",Y="Google",ne="Huawei",B="LG",W="Microsoft",q="Motorola",Q="Opera",ce="Samsung",pe="Sharp",J="Sony",fe="Xiaomi",me="Zebra",re="Facebook",De="Chromium OS",et="Mac OS",ft=" Browser",Pt=function(ye,de){var Z={};for(var Ee in ye)de[Ee]&&de[Ee].length%2===0?Z[Ee]=de[Ee].concat(ye[Ee]):Z[Ee]=ye[Ee];return Z},bt=function(ye){for(var de={},Z=0;Z<ye.length;Z++)de[ye[Z].toUpperCase()]=ye[Z];return de},Ct=function(ye,de){return typeof ye===h?K(de).indexOf(K(ye))!==-1:!1},K=function(ye){return ye.toLowerCase()},ae=function(ye){return typeof ye===h?ye.replace(/[^\d\.]/g,s).split(".")[0]:r},Ae=function(ye,de){if(typeof ye===h)return ye=ye.replace(/^\s\s*/,s),typeof de===l?ye:ye.substring(0,A)},Pe=function(ye,de){for(var Z=0,Ee,sn,wt,we,ue,It;Z<de.length&&!ue;){var cr=de[Z],ws=de[Z+1];for(Ee=sn=0;Ee<cr.length&&!ue&&cr[Ee];)if(ue=cr[Ee++].exec(ye),ue)for(wt=0;wt<ws.length;wt++)It=ue[++sn],we=ws[wt],typeof we===u&&we.length>0?we.length===2?typeof we[1]==a?this[we[0]]=we[1].call(this,It):this[we[0]]=we[1]:we.length===3?typeof we[1]===a&&!(we[1].exec&&we[1].test)?this[we[0]]=It?we[1].call(this,It,we[2]):r:this[we[0]]=It?It.replace(we[1],we[2]):r:we.length===4&&(this[we[0]]=It?we[3].call(this,It.replace(we[1],we[2])):r):this[we]=It||r;Z+=2}},be=function(ye,de){for(var Z in de)if(typeof de[Z]===u&&de[Z].length>0){for(var Ee=0;Ee<de[Z].length;Ee++)if(Ct(de[Z][Ee],ye))return Z===o?r:Z}else if(Ct(de[Z],ye))return Z===o?r:Z;return de.hasOwnProperty("*")?de["*"]:ye},Ce={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Be={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},st={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[v,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[v,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[v,b],[/opios[\/ ]+([\w\.]+)/i],[b,[v,Q+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[b,[v,Q+" GX"]],[/\bopr\/([\w\.]+)/i],[b,[v,Q]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[b,[v,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[v,b],[/quark(?:pc)?\/([-\w\.]+)/i],[b,[v,"Quark"]],[/\bddg\/([\w\.]+)/i],[b,[v,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[v,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[b,[v,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[v,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[v,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[b,[v,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[b,[v,"Smart Lenovo "+U]],[/(avast|avg)\/([\w\.]+)/i],[[v,/(.+)/,"$1 Secure "+U],b],[/\bfocus\/([\w\.]+)/i],[b,[v,G+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[v,Q+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[v,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[v,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[v,Q+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[v,"MIUI "+U]],[/fxios\/([-\w\.]+)/i],[b,[v,G]],[/\bqihu|(qi?ho?o?|360)browser/i],[[v,"360"+ft]],[/\b(qq)\/([\w\.]+)/i],[[v,/(.+)/,"$1Browser"],b],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[v,/(.+)/,"$1"+ft],b],[/samsungbrowser\/([\w\.]+)/i],[b,[v,ce+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[v,/_/g," "],b],[/metasr[\/ ]?([\d\.]+)/i],[b,[v,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[v,"Sogou Mobile"],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[v,b],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[v],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[v,re],b],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[v,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[v,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[b,[v,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[v,$+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[v,$+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[v,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[v,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[v,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,v],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[v,[b,be,Ce]],[/(webkit|khtml)\/([\w\.]+)/i],[v,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[v,"Netscape"],b],[/(wolvic)\/([\w\.]+)/i],[v,b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[v,G+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[v,[b,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[v,[b,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[C,"amd64"]],[/(ia32(?=;))/i],[[C,K]],[/((?:i[346]|x)86)[;\)]/i],[[C,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[C,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[C,"armhf"]],[/windows (ce|mobile); ppc;/i],[[C,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[C,/ower/,s,K]],[/(sun4\w)[;\)]/i],[[C,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[C,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[_,ce],[g,E]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[_,ce],[g,N]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[_,R],[g,N]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[_,R],[g,E]],[/(macintosh);/i],[f,[_,R]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[_,pe],[g,N]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[_,ne],[g,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[_,ne],[g,N]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[f,/_/g," "],[_,fe],[g,N]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[_,fe],[g,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[_,"OPPO"],[g,N]],[/\b(opd2\d{3}a?) bui/i],[f,[_,"OPPO"],[g,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[_,"Vivo"],[g,N]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[_,"Realme"],[g,N]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[_,q],[g,N]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[_,q],[g,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[_,B],[g,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[_,B],[g,N]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[_,"Lenovo"],[g,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[_,"Nokia"],[g,N]],[/(pixel c)\b/i],[f,[_,Y],[g,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[_,Y],[g,N]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[_,J],[g,N]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[_,J],[g,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[_,"OnePlus"],[g,N]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[_,O],[g,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[_,O],[g,N]],[/(playbook);[-\w\),; ]+(rim)/i],[f,_,[g,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[_,F],[g,N]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[_,j],[g,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[_,j],[g,N]],[/(nexus 9)/i],[f,[_,"HTC"],[g,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[_,[f,/_/g," "],[g,N]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[_,"TCL"],[g,E]],[/(itel) ((\w+))/i],[[_,K],f,[g,be,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[_,"Acer"],[g,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[_,"Meizu"],[g,N]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[_,"Ulefone"],[g,N]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[_,"Nothing"],[g,N]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[_,f,[g,N]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[_,f,[g,E]],[/(surface duo)/i],[f,[_,W],[g,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[_,"Fairphone"],[g,N]],[/(u304aa)/i],[f,[_,"AT&T"],[g,N]],[/\bsie-(\w*)/i],[f,[_,"Siemens"],[g,N]],[/\b(rct\w+) b/i],[f,[_,"RCA"],[g,E]],[/\b(venue[\d ]{2,7}) b/i],[f,[_,"Dell"],[g,E]],[/\b(q(?:mv|ta)\w+) b/i],[f,[_,"Verizon"],[g,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[_,"Barnes & Noble"],[g,E]],[/\b(tm\d{3}\w+) b/i],[f,[_,"NuVision"],[g,E]],[/\b(k88) b/i],[f,[_,"ZTE"],[g,E]],[/\b(nx\d{3}j) b/i],[f,[_,"ZTE"],[g,N]],[/\b(gen\d{3}) b.+49h/i],[f,[_,"Swiss"],[g,N]],[/\b(zur\d{3}) b/i],[f,[_,"Swiss"],[g,E]],[/\b((zeki)?tb.*\b) b/i],[f,[_,"Zeki"],[g,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[_,"Dragon Touch"],f,[g,E]],[/\b(ns-?\w{0,9}) b/i],[f,[_,"Insignia"],[g,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[_,"NextBook"],[g,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[_,"Voice"],f,[g,N]],[/\b(lvtel\-)?(v1[12]) b/i],[[_,"LvTel"],f,[g,N]],[/\b(ph-1) /i],[f,[_,"Essential"],[g,N]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[_,"Envizen"],[g,E]],[/\b(trio[-\w\. ]+) b/i],[f,[_,"MachSpeed"],[g,E]],[/\btu_(1491) b/i],[f,[_,"Rotor"],[g,E]],[/(shield[\w ]+) b/i],[f,[_,"Nvidia"],[g,E]],[/(sprint) (\w+)/i],[_,f,[g,N]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[_,W],[g,N]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[_,me],[g,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[_,me],[g,N]],[/smart-tv.+(samsung)/i],[_,[g,T]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[_,ce],[g,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[_,B],[g,T]],[/(apple) ?tv/i],[_,[f,R+" TV"],[g,T]],[/crkey/i],[[f,$+"cast"],[_,Y],[g,T]],[/droid.+aft(\w+)( bui|\))/i],[f,[_,O],[g,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[_,pe],[g,T]],[/(bravia[\w ]+)( bui|\))/i],[f,[_,J],[g,T]],[/(mitv-\w{5}) bui/i],[f,[_,fe],[g,T]],[/Hbbtv.*(technisat) (.*);/i],[_,f,[g,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[_,Ae],[f,Ae],[g,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[_,f,[g,k]],[/droid.+; (shield) bui/i],[f,[_,"Nvidia"],[g,k]],[/(playstation [345portablevi]+)/i],[f,[_,J],[g,k]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[_,W],[g,k]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[f,[_,ce],[g,P]],[/((pebble))app/i],[_,f,[g,P]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[_,R],[g,P]],[/droid.+; (glass) \d/i],[f,[_,Y],[g,P]],[/droid.+; (wt63?0{2,3})\)/i],[f,[_,me],[g,P]],[/(quest( \d| pro)?)/i],[f,[_,re],[g,P]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[_,[g,M]],[/(aeobc)\b/i],[f,[_,O],[g,M]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[g,N]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,N]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[_,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[v,X+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[v,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[v,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,v]],os:[[/microsoft (windows) (vista|xp)/i],[v,b],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[v,[b,be,Be]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[b,be,Be],[v,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[v,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[v,et],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,v],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[v,b],[/\(bb(10);/i],[b,[v,F]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[v,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[v,G+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[v,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[b,[v,"watchOS"]],[/crkey\/([\d\.]+)/i],[b,[v,$+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[v,De],b],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[v,b],[/(sunos) ?([\w\.\d]*)/i],[[v,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[v,b]]},Oe=function(ye,de){if(typeof ye===u&&(de=ye,ye=r),!(this instanceof Oe))return new Oe(ye,de).getResult();var Z=typeof n!==l&&n.navigator?n.navigator:r,Ee=ye||(Z&&Z.userAgent?Z.userAgent:s),sn=Z&&Z.userAgentData?Z.userAgentData:r,wt=de?Pt(st,de):st,we=Z&&Z.userAgent==Ee;return this.getBrowser=function(){var ue={};return ue[v]=r,ue[b]=r,Pe.call(ue,Ee,wt.browser),ue[d]=ae(ue[b]),we&&Z&&Z.brave&&typeof Z.brave.isBrave==a&&(ue[v]="Brave"),ue},this.getCPU=function(){var ue={};return ue[C]=r,Pe.call(ue,Ee,wt.cpu),ue},this.getDevice=function(){var ue={};return ue[_]=r,ue[f]=r,ue[g]=r,Pe.call(ue,Ee,wt.device),we&&!ue[g]&&sn&&sn.mobile&&(ue[g]=N),we&&ue[f]=="Macintosh"&&Z&&typeof Z.standalone!==l&&Z.maxTouchPoints&&Z.maxTouchPoints>2&&(ue[f]="iPad",ue[g]=E),ue},this.getEngine=function(){var ue={};return ue[v]=r,ue[b]=r,Pe.call(ue,Ee,wt.engine),ue},this.getOS=function(){var ue={};return ue[v]=r,ue[b]=r,Pe.call(ue,Ee,wt.os),we&&!ue[v]&&sn&&sn.platform&&sn.platform!="Unknown"&&(ue[v]=sn.platform.replace(/chrome os/i,De).replace(/macos/i,et)),ue},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ee},this.setUA=function(ue){return Ee=typeof ue===h&&ue.length>A?Ae(ue,A):ue,this},this.setUA(Ee),this};Oe.VERSION=i,Oe.BROWSER=bt([v,b,d]),Oe.CPU=bt([C]),Oe.DEVICE=bt([f,_,g,k,N,T,E,P,M]),Oe.ENGINE=Oe.OS=bt([v,b]),t.exports&&(e=t.exports=Oe),e.UAParser=Oe;var tt=typeof n!==l&&(n.jQuery||n.Zepto);if(tt&&!tt.ua){var Me=new Oe;tt.ua=Me.getResult(),tt.ua.get=function(){return Me.getUA()},tt.ua.set=function(ye){Me.setUA(ye);var de=Me.getResult();for(var Z in de)tt.ua[Z]=de[Z]}}})(typeof window=="object"?window:gr)})(Xl,Xl.exports);var iE=Xl.exports;Object.defineProperty(oe,"__esModule",{value:!0});function sE(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Et=z,qe=sE(Et),fm=iE,ar=new fm,St=ar.getBrowser(),oE=ar.getCPU(),Yt=ar.getDevice(),ou=ar.getEngine(),lr=ar.getOS(),ls=ar.getUA(),pm=function(e){return ar.setUA(e)},cs=function(e){if(!e){console.error("No userAgent string was provided");return}var n=new fm(e);return{UA:n,browser:n.getBrowser(),cpu:n.getCPU(),device:n.getDevice(),engine:n.getEngine(),os:n.getOS(),ua:n.getUA(),setUserAgent:function(i){return n.setUA(i)}}},mm=Object.freeze({ClientUAInstance:ar,browser:St,cpu:oE,device:Yt,engine:ou,os:lr,ua:ls,setUa:pm,parseUserAgent:cs});function gd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gd(Object(n),!0).forEach(function(r){hE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ki(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ki=function(e){return typeof e}:ki=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ki(t)}function lE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uE(t,e,n){return e&&cE(t.prototype,e),t}function hE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kl(){return Kl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(this,arguments)}function dE(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zl(t,e)}function Ql(t){return Ql=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ql(t)}function Zl(t,e){return Zl=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Zl(t,e)}function fE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rn(t,e){if(t==null)return{};var n=fE(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function to(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pE(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return to(t)}function mE(t,e){return gE(t)||vE(t,e)||yE(t,e)||_E()}function gE(t){if(Array.isArray(t))return t}function vE(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function yE(t,e){if(t){if(typeof t=="string")return vd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vd(t,e)}}function vd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xt={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},Lt={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},pi={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},bE={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},wE=function(e){switch(e){case xt.Mobile:return{isMobile:!0};case xt.Tablet:return{isTablet:!0};case xt.SmartTv:return{isSmartTV:!0};case xt.Console:return{isConsole:!0};case xt.Wearable:return{isWearable:!0};case xt.Browser:return{isBrowser:!0};case xt.Embedded:return{isEmbedded:!0};default:return bE}},TE=function(e){return pm(e)},ve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return e||n},au=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},lu=function(e){var n=au();return n&&n.platform&&(n.platform.indexOf(e)!==-1||n.platform==="MacIntel"&&n.maxTouchPoints>1&&!window.MSStream)},PE=function(e,n,r,i,s){return{isBrowser:e,browserMajorVersion:ve(n.major),browserFullVersion:ve(n.version),browserName:ve(n.name),engineName:ve(r.name),engineVersion:ve(r.version),osName:ve(i.name),osVersion:ve(i.version),userAgent:ve(s)}},yd=function(e,n,r,i){return aE({},e,{vendor:ve(n.vendor),model:ve(n.model),os:ve(r.name),osVersion:ve(r.version),ua:ve(i)})},CE=function(e,n,r,i){return{isSmartTV:e,engineName:ve(n.name),engineVersion:ve(n.version),osName:ve(r.name),osVersion:ve(r.version),userAgent:ve(i)}},xE=function(e,n,r,i){return{isConsole:e,engineName:ve(n.name),engineVersion:ve(n.version),osName:ve(r.name),osVersion:ve(r.version),userAgent:ve(i)}},EE=function(e,n,r,i){return{isWearable:e,engineName:ve(n.name),engineVersion:ve(n.version),osName:ve(r.name),osVersion:ve(r.version),userAgent:ve(i)}},ME=function(e,n,r,i,s){return{isEmbedded:e,vendor:ve(n.vendor),model:ve(n.model),engineName:ve(r.name),engineVersion:ve(r.version),osName:ve(i.name),osVersion:ve(i.version),userAgent:ve(s)}};function SE(t){var e=t?cs(t):mm,n=e.device,r=e.browser,i=e.engine,s=e.os,o=e.ua,a=wE(n.type),l=a.isBrowser,u=a.isMobile,h=a.isTablet,d=a.isSmartTV,f=a.isConsole,v=a.isWearable,g=a.isEmbedded;if(l)return PE(l,r,i,s,o);if(d)return CE(d,i,s,o);if(f)return xE(f,i,s,o);if(u||h)return yd(a,n,s,o);if(v)return EE(v,i,s,o);if(g)return ME(g,n,i,s,o)}var gm=function(e){var n=e.type;return n===xt.Mobile},vm=function(e){var n=e.type;return n===xt.Tablet},ym=function(e){var n=e.type;return n===xt.Mobile||n===xt.Tablet},_m=function(e){var n=e.type;return n===xt.SmartTv},Do=function(e){var n=e.type;return n===xt.Browser},bm=function(e){var n=e.type;return n===xt.Wearable},wm=function(e){var n=e.type;return n===xt.Console},Tm=function(e){var n=e.type;return n===xt.Embedded},Pm=function(e){var n=e.vendor;return ve(n)},Cm=function(e){var n=e.model;return ve(n)},xm=function(e){var n=e.type;return ve(n,"browser")},Em=function(e){var n=e.name;return n===pi.Android},Mm=function(e){var n=e.name;return n===pi.Windows},Sm=function(e){var n=e.name;return n===pi.MAC_OS},Am=function(e){var n=e.name;return n===pi.WindowsPhone},Nm=function(e){var n=e.name;return n===pi.IOS},km=function(e){var n=e.version;return ve(n)},Om=function(e){var n=e.name;return ve(n)},Im=function(e){var n=e.name;return n===Lt.Chrome},Dm=function(e){var n=e.name;return n===Lt.Firefox},Rm=function(e){var n=e.name;return n===Lt.Chromium},Ro=function(e){var n=e.name;return n===Lt.Edge},Fm=function(e){var n=e.name;return n===Lt.Yandex},jm=function(e){var n=e.name;return n===Lt.Safari||n===Lt.MobileSafari},Lm=function(e){var n=e.name;return n===Lt.MobileSafari},Vm=function(e){var n=e.name;return n===Lt.Opera},Bm=function(e){var n=e.name;return n===Lt.InternetExplorer||n===Lt.Ie},Wm=function(e){var n=e.name;return n===Lt.MIUI},$m=function(e){var n=e.name;return n===Lt.SamsungBrowser},Um=function(e){var n=e.version;return ve(n)},qm=function(e){var n=e.major;return ve(n)},Hm=function(e){var n=e.name;return ve(n)},zm=function(e){var n=e.name;return ve(n)},Gm=function(e){var n=e.version;return ve(n)},Ym=function(){var e=au(),n=e&&e.userAgent&&e.userAgent.toLowerCase();return typeof n=="string"?/electron/.test(n):!1},Yr=function(e){return typeof e=="string"&&e.indexOf("Edg/")!==-1},Xm=function(){var e=au();return e&&(/iPad|iPhone|iPod/.test(e.platform)||e.platform==="MacIntel"&&e.maxTouchPoints>1)&&!window.MSStream},yn=function(){return lu("iPad")},Km=function(){return lu("iPhone")},Qm=function(){return lu("iPod")},Zm=function(e){return ve(e)};function Jm(t){var e=t||mm,n=e.device,r=e.browser,i=e.os,s=e.engine,o=e.ua;return{isSmartTV:_m(n),isConsole:wm(n),isWearable:bm(n),isEmbedded:Tm(n),isMobileSafari:Lm(r)||yn(),isChromium:Rm(r),isMobile:ym(n)||yn(),isMobileOnly:gm(n),isTablet:vm(n)||yn(),isBrowser:Do(n),isDesktop:Do(n),isAndroid:Em(i),isWinPhone:Am(i),isIOS:Nm(i)||yn(),isChrome:Im(r),isFirefox:Dm(r),isSafari:jm(r),isOpera:Vm(r),isIE:Bm(r),osVersion:km(i),osName:Om(i),fullBrowserVersion:Um(r),browserVersion:qm(r),browserName:Hm(r),mobileVendor:Pm(n),mobileModel:Cm(n),engineName:zm(s),engineVersion:Gm(s),getUA:Zm(o),isEdge:Ro(r)||Yr(o),isYandex:Fm(r),deviceType:xm(n),isIOS13:Xm(),isIPad13:yn(),isIPhone13:Km(),isIPod13:Qm(),isElectron:Ym(),isEdgeChromium:Yr(o),isLegacyEdge:Ro(r)&&!Yr(o),isWindows:Mm(i),isMacOs:Sm(i),isMIUI:Wm(r),isSamsungBrowser:$m(r)}}var eg=_m(Yt),tg=wm(Yt),ng=bm(Yt),AE=Tm(Yt),NE=Lm(St)||yn(),kE=Rm(St),Oa=ym(Yt)||yn(),rg=gm(Yt),ig=vm(Yt)||yn(),sg=Do(Yt),OE=Do(Yt),og=Em(lr),ag=Am(lr),lg=Nm(lr)||yn(),IE=Im(St),DE=Dm(St),RE=jm(St),FE=Vm(St),cg=Bm(St),jE=km(lr),LE=Om(lr),VE=Um(St),BE=qm(St),WE=Hm(St),$E=Pm(Yt),UE=Cm(Yt),qE=zm(ou),HE=Gm(ou),zE=Zm(ls),GE=Ro(St)||Yr(ls),YE=Fm(St),XE=xm(Yt),KE=Xm(),QE=yn(),ZE=Km(),JE=Qm(),eM=Ym(),tM=Yr(ls),nM=Ro(St)&&!Yr(ls),rM=Mm(lr),iM=Sm(lr),sM=Wm(St),oM=$m(St),aM=function(e){if(!e||typeof e!="string"){console.error("No valid user agent string was provided");return}var n=cs(e),r=n.device,i=n.browser,s=n.os,o=n.engine,a=n.ua;return Jm({device:r,browser:i,os:s,engine:o,ua:a})},lM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return og?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",i,r):null},cM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return sg?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",i,r):null},uM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return cg?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",i,r):null},hM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return lg?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",i,r):null},dM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return Oa?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",i,r):null},fM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return ig?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",i,r):null},pM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return ag?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",i,r):null},mM=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=rn(e,["renderWithFragment","children","viewClassName","style"]);return rg?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",i,r):null},gM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return eg?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",i,r):null},vM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return tg?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",i,r):null},yM=function(e){var n=e.renderWithFragment,r=e.children,i=rn(e,["renderWithFragment","children"]);return ng?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",i,r):null},_M=function(e){var n=e.renderWithFragment,r=e.children;e.viewClassName,e.style;var i=e.condition,s=rn(e,["renderWithFragment","children","viewClassName","style","condition"]);return i?n?qe.createElement(Et.Fragment,null,r):qe.createElement("div",s,r):null};function bM(t){return function(e){dE(n,e);function n(r){var i;return lE(this,n),i=pE(this,Ql(n).call(this,r)),i.isEventListenerAdded=!1,i.handleOrientationChange=i.handleOrientationChange.bind(to(i)),i.onOrientationChange=i.onOrientationChange.bind(to(i)),i.onPageLoad=i.onPageLoad.bind(to(i)),i.state={isLandscape:!1,isPortrait:!1},i}return uE(n,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var i=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:i===0,isLandscape:i===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":ki(window))!==void 0&&Oa&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return qe.createElement(t,Kl({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),n}(qe.Component)}function wM(){var t=Et.useState(function(){var s=window.innerWidth>window.innerHeight?90:0;return{isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"}}),e=mE(t,2),n=e[0],r=e[1],i=Et.useCallback(function(){var s=window.innerWidth>window.innerHeight?90:0,o={isPortrait:s===0,isLandscape:s===90,orientation:s===0?"portrait":"landscape"};n.orientation!==o.orientation&&r(o)},[n.orientation]);return Et.useEffect(function(){return(typeof window>"u"?"undefined":ki(window))!==void 0&&Oa&&(i(),window.addEventListener("load",i,!1),window.addEventListener("resize",i,!1)),function(){window.removeEventListener("resize",i,!1),window.removeEventListener("load",i,!1)}},[i]),n}function ug(t){var e=t||window.navigator.userAgent;return cs(e)}function TM(t){var e=t||window.navigator.userAgent,n=ug(e),r=Jm(n);return[r,n]}oe.AndroidView=lM;oe.BrowserTypes=Lt;oe.BrowserView=cM;oe.ConsoleView=vM;oe.CustomView=_M;oe.IEView=uM;oe.IOSView=hM;oe.MobileOnlyView=mM;oe.MobileView=dM;oe.OsTypes=pi;oe.SmartTVView=gM;oe.TabletView=fM;oe.WearableView=yM;oe.WinPhoneView=pM;oe.browserName=WE;oe.browserVersion=BE;oe.deviceDetect=SE;oe.deviceType=XE;oe.engineName=qE;oe.engineVersion=HE;oe.fullBrowserVersion=VE;oe.getSelectorsByUserAgent=aM;oe.getUA=zE;oe.isAndroid=og;oe.isBrowser=sg;oe.isChrome=IE;oe.isChromium=kE;oe.isConsole=tg;oe.isDesktop=OE;oe.isEdge=GE;oe.isEdgeChromium=tM;oe.isElectron=eM;oe.isEmbedded=AE;oe.isFirefox=DE;oe.isIE=cg;oe.isIOS=lg;oe.isIOS13=KE;oe.isIPad13=QE;oe.isIPhone13=ZE;oe.isIPod13=JE;oe.isLegacyEdge=nM;oe.isMIUI=sM;oe.isMacOs=iM;var Oi=oe.isMobile=Oa;oe.isMobileOnly=rg;oe.isMobileSafari=NE;oe.isOpera=FE;oe.isSafari=RE;oe.isSamsungBrowser=oM;oe.isSmartTV=eg;oe.isTablet=ig;oe.isWearable=ng;oe.isWinPhone=ag;oe.isWindows=rM;oe.isYandex=YE;oe.mobileModel=UE;oe.mobileVendor=$E;oe.osName=LE;oe.osVersion=jE;oe.parseUserAgent=cs;oe.setUserAgent=TE;oe.useDeviceData=ug;oe.useDeviceSelectors=TM;oe.useMobileOrientation=wM;oe.withOrientationChange=bM;let an=null,gl=null,fr=2;function PM(){return new ir().toDestination()}function CM(){const t=new ir().toDestination(),e=new Oo(5,.1).toDestination();return t.connect(e),t}function xM(){return new ir().toDestination()}function EM(){const t=new ir().toDestination(),e={oscillator:{type:"fatcustom",partials:[.7,1,0,.3,.1],spread:10,count:3},envelope:{attack:.001,decay:1.6,sustain:.5,release:1.6}};return t.set(e),t}function MM(){const t=new ir().toDestination(),e={harmonicity:8,modulationIndex:6,oscillator:{type:"sine2"},envelope:{attack:.001,decay:2,sustain:.1,release:2},modulation:{type:"square2"},modulationEnvelope:{attack:.002,decay:.2,sustain:0,release:.2}};return t.set(e),t}function SM(t){if(an!==null&&gl===t.synth)return{synth:an,baseDecibel:fr};switch(gl=t.synth,an!==null&&an.dispose(),gl){case"w":fr=-1,an=CM();break;case"s":fr=16,an=xM();break;case"o":fr=-3,an=EM();break;case"pl":fr=-8,an=MM();break;case"p":default:fr=2,an=PM();break}return Oi&&an.set({latencyHint:"balanced"}),{synth:an,baseDecibel:fr}}const hg={p:"plumber",w:"wave",s:"swell",o:"organ",pl:"pluck"};function AM(t){const e=t.substring(0,1);return!e||isNaN(Number(e))||Number(e)<0?0:Number(e)>2?2:Number(e)}function NM(t){let e={};try{if(t=t.replace("(",""),t.includes("&amp"))return;t.includes("&fbclid")&&(t=RM(t)),t=t.split("#piano-")[0],e.octave=AM(t),t=t.replace(")",""),e.isKey=t.includes("*"),t=t.replace("*",""),t=FM(t,e);var n=IM(t);e.noteLetter=LM(t.substring(1,n)),e.type=t.substring(n)}catch(r){kM(r,t);return}if(!(pg(e.type)&&M_(e.noteLetter))){OM(t,e);return}return e}function kM(t,e){console.log(t),console.log("Exception - invalid chord code: "+e)}function OM(t,e){console.log("Invalid chord code: "+t+"; letter: "+e.noteLetter+"; type: "+e.type)}function IM(t){let e=DM(t[0])?2:1;for(let n=e;n<t.length;n++)if(t[n]!=="#"&&t[n]!=="b")return n;return t.length}function DM(t){return/^-?\d+$/.test(t)}function RM(t){var e=t.indexOf("&fbclid"),n=t.substring(e,e+69);return t=t.replace(n,""),console.log("fbCode removed: "+n),t}function FM(t,e){if(t.includes(":")){var n=t.split(":").pop();e.slashNote=n,e.slash=!0,t=t.replace(":"+n,"")}return t}function dg(t){var a,l,u;var e="?s="+t.synth+":"+t.volume,n="";let r=(l=(a=t.chordPianoSet)==null?void 0:a.find(h=>h.isProgKey))==null?void 0:l.selectedChord;if((u=t.chordPianoSet)!=null&&u.length)for(let h=0;h<t.chordPianoSet.length;h++){var i=t.chordPianoSet[h],s=i.selectedChord;if(!s)continue;let d=_n(r,s.noteLetter);var o=s.octave+d+s.type;i.isProgKey&&(o+="*"),cu(s)&&(s.slashNote=si(i.showFlats||!1,s.slashNote),s.slashNote=_n(r,s.slashNote),o+=":"+s.slashNote),n+=`(${o})`}return e+"&p="+n}function jM(t){let e="";for(let n=0;n<t.length;n++){let i=t[n].selectedChord;if(!i)continue;let s=(i.noteLetter??"")+(i.type??"");cu(i)&&(s+="/"+i.slashNote);let o;i.octave!==1&&(o=i.octave),e+=`${o??""}${s} `}return e}function cu(t){return t.slash===!0&&t.slashNote!==void 0&&t.slashNote!==""}function LM(t){return t.charAt(0).toUpperCase()+t.slice(1)}function si(t,e){var n=Tr(e);if(t){if(e.includes("#"))return Ri[n]??e}else if(e.includes("b"))return ya[n]??e;return e}function VM(t){var e={volume:90,type:"p"};if(t!=null){if(BM(t))return e;var n=t.split(":"),r=n[0],i=parseInt(n[1]);WM(r)&&(e.type=r),$M(i)&&(e.volume=i)}return e}function BM(t){return t.split(":").length!==2}function WM(t){return Object.keys(hg).includes(t)}function $M(t){return!isNaN(t)&&t>=0&&t<=100}function UM(t){if(t==null)return[];var e=t.split(")"),n=[],r=!1;for(let o=0;o<e.length;o++){var i=e[o];if(i!==""){var s=hw(o,i);s&&(r=qM(s,r),n.push(s))}}return n}function qM(t,e){return t.isProgKey&&(e?t.isProgKey=!1:e=!0),e}function _d(t,e){if(t.building)return t;e.includes("%")&&(e=decodeURIComponent(e));var n=HM(e),r=n.prog!=null?n.prog:n.p,i=VM(n.s);return t.synth=i.type,t.volume=i.volume,t.chordPianoSet=UM(r),t.building=!1,Yn(t),t}function HM(t){return t?(/^[?]/.test(t)?t.slice(1):t).split("&").reduce((e,n)=>{let[r,i]=n.split("=");return e[r]=i?decodeURIComponent(i.replace(/\+/g," ")):"",e},{}):{}}function Yn(t){if(!t.building){var e=dg(t);zM(t,e)}}function zM(t,e){if(e!==t.currentProgCode){if(t.building){t.currentProgCode=e;return}if(t.currentProgCode){const n=t.previousProgCodes.length;(n<=1||t.previousProgCodes[n-1]!==t.currentProgCode)&&t.previousProgCodes.push(t.currentProgCode)}t.currentProgCode=e}}function GM(t){let e="";t=t.replace(","," ").trim().replace(/\s\s+/g," ");for(let n of t.split(" ")){let r=YM(n);e+=`(${r})`}return e}function YM(t){let e=ZM(t),n=t.replace(/(^\d+)(.+$)/i,"$2"),r=QM(n),{type:i,slash:s}=XM(n,r);return`${e}${r}${i}${s}`}function XM(t,e){let n=t.replace(e,"").toLowerCase(),r="";try{if(n.includes("/")&&!n.endsWith("6/9")){var i=n.lastIndexOf("/");r=n.substring(i+1),r=":"+JM(r),n=n.substring(0,i)}}catch{console.log("Error while extracting slash"),r=""}return n=KM(n),{type:n,slash:r}}function KM(t){try{t=t.replace("minor","m").replace("diminished","dim").replace("major7","maj7").replace("major","");let e="";return pg(t)?t:(t.startsWith("m")?e+="m":t.includes("dim")&&(e+="dim"),e.includes("dim")||(t.includes("7")?e+="7":t.includes("6")?e+="6":t.includes("9")&&(e+="9")),e!=null&&e.length||(e="x"),e)}catch{return console.log("Error while extracting type"),"x"}}function QM(t){try{let e=(t==null?void 0:t[0])||"",n=bd(t,1);return n.length&&(n+=bd(t,2),e+=n),e}catch{return console.log("Error while extracting letter"),"C"}}function bd(t,e){var n;return(t==null?void 0:t[e])==="#"||((n=t==null?void 0:t[e])==null?void 0:n.toLowerCase())==="b"?t[e].toLowerCase():""}function ZM(t){let e="1";try{t.match(/^\d/)&&(e=t.replace(/(^\d+)(.+$)/i,"$1"),Number(e)>2?e="2":Number(e)<0&&(e="0"))}catch{console.log("Error while extracting octave")}return e}function JM(t){return t.charAt(0).toUpperCase()+t.substring(1)}function fg(t,e){var n=t.selectedChord.noteLetter,r=e.noteLetter,i=Tr(n),s=Tr(r),o=s-i;return o}function eS(t,e){var n=fg(t,e),r=e.octave-t.selectedChord.octave;return n+12*r}function tS(t,e){var n={},r=t.selectedChord.noteLetter,i=t.selectedChord.octave??0,s=Tr(r),o=s+e,a=Ff(o,i),l=Sc("C",a.noteNumber);return n.noteLetter=si(t.showFlats,l),n.octave=a.octave,n}function nS(t,e){if(t===void 0||t==="")return t;var n=Tr(t),r=n+e;return r===0&&(r=12),Sc("C",r)}const uu={"":[0,4,7],m:[0,3,7],m6:[0,3,7,9],m7:[0,3,7,10],m9:[0,3,7,10,14],maj7:[0,4,7,11],maj9:[0,4,7,11,14],maj13:[0,4,7,11,14,21],6:[0,4,7,9],5:[0,7],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,4,7,10,14,17],13:[0,4,7,10,14,17,21],"6/9":[0,4,7,9,14],dim:[0,3,6],dim7:[0,3,6,9],sus2:[0,2,7],sus4:[0,5,7],aug:[0,4,8],add9:[0,4,7,14],add2:[0,2,4,7],mM7:[0,3,7,11],m11:[0,3,7,10,14,17],m13:[0,3,7,10,14,17,21],"7sus4":[0,5,7,10],"7b9":[0,4,7,10,13],"7#5":[0,4,8,10],"7b5":[0,4,6,10],"7#11":[0,4,7,10,18],"m7#9":[0,3,7,10,15],m7b9:[0,3,7,10,13],"m7#5":[0,3,8,10],m7b5:[0,3,6,10],"m7#11":[0,3,7,10,18],"9sus4":[0,5,7,10,14],"+":[0,4,8],x:[0]},pg=t=>uu[t]!==void 0;function rS(t,e){const n=uu[e],r=[];for(let i=0;i<n.length;i++){const s=t+n[i];r.push(s)}return r}function Fo(t){return((t==null?void 0:t.startsWith("m"))&&!(t!=null&&t.includes("maj")))??!1}function _n(t,e){if(!t)return e;const n=Fo(t.type)?"minor":"major",r=Zf(t.noteLetter,n);for(const i of r)if(Ii(i,e)){e=i;break}return e}function Us(t,e){if(!t)return!1;const n=Fo(t.type)?"minor":"major",r=Zf(t.noteLetter,n);for(const i of r)if(Ii(i,e))return!0;return!1}function Ii(t,e){return Vh(t)===Vh(e)}const mg="PIANO_STATE",vl={history:null,previousProgCodes:[],currentProgCode:null,building:!1,chordPianoSet:void 0,synth:"p",volume:90};function iS(t){return{id:t,piano:ep(),selectedKey:{noteLetter:"C",octave:0},selectedChord:{noteLetter:"C",type:"",octave:1}}}function Zt(t,e){var n;return((n=t.chordPianoSet)==null?void 0:n.find(r=>r.id===e))||null}function sS(t){var e;(e=t.chordPianoSet)==null||e.forEach(n=>{n.isProgKey=!1})}function jo(t){var n;const e=(n=t.chordPianoSet)==null?void 0:n.find(r=>r.isProgKey);return e==null?void 0:e.selectedChord}function oS(t,e){sS(t);const n=Zt(t,e);n&&(n.isProgKey=!0)}function aS(t){var n;const e=Math.max(...((n=t.chordPianoSet)==null?void 0:n.map(r=>r.id))??[0]);return e===-1/0?0:e+1}function wd(t,e){const n=jo(t);return n?_n(n,e):e}const lS=(t,e)=>{var r,i,s;const n="id"in e?e.id:0;switch(e.type){case"REFRESH_BOARD":return{...t,refreshBoard:Math.random()};case"UPDATE_PIANO":{const o=(r=t.chordPianoSet)==null?void 0:r.map(a=>a.id===n?{...a,piano:e.payload}:a);return{...t,chordPianoSet:o}}case"UPDATE_KEY":{const o=Zt(t,n);if(!o)return console.log("Piano not found:",n),t;const a=si(o.showFlats??!1,e.payload.noteLetter);o.isProgKey&&dw(n,t.chordPianoSet,o,e.payload);const l=o.isProgKey?a:wd(t,a);return o.selectedKey={...e.payload,noteLetter:l},o.selectedChord={...o.selectedChord,noteLetter:l,octave:e.payload.octave},o.rendered=!1,Ai(o),Yn(t),{...t}}case"UPDATE_SYNTH":return{...t,synth:e.synth};case"REFRESH_PIANO":return{...t,chordPianoSet:(i=t.chordPianoSet)==null?void 0:i.map(o=>o.id===(e==null?void 0:e.id)?{...o,...e.payload}:o)};case"UPDATE_SYNTH_VOLUME":return{...t,volume:e.volume};case"UPDATE_CHORD_TYPE":{const o=Zt(t,n);return o&&(o.selectedChord.type=e.chordType,o.rendered=!1,Ai(o)),Yn(t),{...t}}case"UPDATE_SLASH_CHORD":{const o=Zt(t,n);return o&&(o.selectedChord.slash=e.isSlashChord,o.selectedChord.slashNote=e.slashNote,o.rendered=!1,Ai(o)),Yn(t),{...t}}case"UPDATE_SHOW_FLATS":{const o=Zt(t,n);if(o){o.showFlats=e.showFlats;let a=si(o.showFlats,o.selectedKey.noteLetter);a=wd(t,a),o.selectedKey.noteLetter=a,o.selectedChord.noteLetter=a}return Yn(t),{...t}}case"ADD_CHORD_PIANO":{if(e.payload!==null){const o=aS(t);return t.chordPianoSet=[...t.chordPianoSet??[],iS(o)],Yn(t),{...t}}return t}case"REMOVE_PIANO":{const o=(s=t.chordPianoSet)==null?void 0:s.filter(a=>a.id!==e.id);return Yn(t),{...t,chordPianoSet:o}}case"SET_PROG_KEY":{if(e.keyChecked)oS(t,e.id);else{const o=Zt(t,e.id);o&&(o.isProgKey=!1)}return Yn(t),{...t}}case"BUILD_PROG_FROM_CODE":return e.payload!==null?{..._d(t,e.payload),building:!1}:t;case"LOAD_PREVIOUS_PROG_CODE":{if(t.previousProgCodes.length>0){const o=t.previousProgCodes.length-1;let a=t.previousProgCodes[o],u={...t,building:!1,previousProgCodes:t.previousProgCodes.slice(0,-1)},h=_d(u,a);return h.previousProgCodes=t.previousProgCodes.slice(0,-1),{...h}}return t}default:return t}},gg=z.createContext(void 0),cS=()=>{const t=sessionStorage.getItem(mg);if(!t)return vl;try{return{...vl,...JSON.parse(t)}}catch{return vl}},uS=({children:t})=>{const[e,n]=z.useReducer(lS,cS());return z.useEffect(()=>{sessionStorage.setItem(mg,JSON.stringify(e))},[e]),I.jsx(gg.Provider,{value:{state:e,dispatch:n},children:t})},us=()=>{const t=D.useContext(gg);if(t===void 0)throw new Error("usePianoContext must be used within a PianoProvider");return t};var vg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(vg);var hS=vg.exports;const Le=fc(hS);function Td(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function dS(t){var e=fS(t,"string");return typeof e=="symbol"?e:String(e)}function fS(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pS(t,e,n){var r=z.useRef(t!==void 0),i=z.useState(e),s=i[0],o=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&s!==e&&o(e),[a?t:s,z.useCallback(function(u){for(var h=arguments.length,d=new Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];n&&n.apply(void 0,[u].concat(d)),o(u)},[n])]}function mS(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[Td(r)],a=s[r],l=Se(s,[Td(r),r].map(dS)),u=e[r],h=pS(a,o,t[u]),d=h[0],f=h[1];return he({},l,(i={},i[r]=d,i[u]=f,i))},t)}var gS=/-(.)/g;function vS(t){return t.replace(gS,function(e,n){return n.toUpperCase()})}var hu=D.createContext({});hu.Consumer;hu.Provider;function ct(t,e){var n=z.useContext(hu);return t||n[e]||e}var yS=["className","bsPrefix","as"],_S=function(e){return e[0].toUpperCase()+vS(e).slice(1)};function hs(t,e){var n=e===void 0?{}:e,r=n.displayName,i=r===void 0?_S(t):r,s=n.Component,o=n.defaultProps,a=D.forwardRef(function(l,u){var h=l.className,d=l.bsPrefix,f=l.as,v=f===void 0?s||"div":f,g=Se(l,yS),_=ct(d,t);return D.createElement(v,he({ref:u,className:Le(h,_)},g))});return a.defaultProps=o,a.displayName=i,a}var bS=["bsPrefix","className","as"],yg=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.as,s=Se(t,bS);n=ct(n,"navbar-brand");var o=i||(s.href?"a":"span");return D.createElement(o,he({},s,{ref:e,className:Le(r,n)}))});yg.displayName="NavbarBrand";function oi(t){return t&&t.ownerDocument||document}function wS(t){var e=oi(t);return e&&e.defaultView||window}function TS(t,e){return wS(t).getComputedStyle(t,e)}var PS=/([A-Z])/g;function CS(t){return t.replace(PS,"-$1").toLowerCase()}var xS=/^ms-/;function qs(t){return CS(t).replace(xS,"-ms-")}var ES=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function MS(t){return!!(t&&ES.test(t))}function On(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(qs(e))||TS(t).getPropertyValue(qs(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(qs(i)):MS(i)?r+=i+"("+s+") ":n+=qs(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}const Pd={disabled:!1},_g=D.createContext(null);var SS=function(e){return e.scrollTop},Ei="unmounted",Kn="exited",An="entering",Qn="entered",Lo="exiting",En=function(t){nn(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Kn,s.appearStatus=An):l=Qn:r.unmountOnExit||r.mountOnEnter?l=Ei:l=Kn,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Ei?{status:Kn}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==An&&o!==Qn&&(s=An):(o===An||o===Qn)&&(s=Lo)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===An){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:xi.findDOMNode(this);o&&SS(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Kn&&this.setState({status:Ei})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[xi.findDOMNode(this),a],u=l[0],h=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||Pd.disabled){this.safeSetState({status:Qn},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:An},function(){s.props.onEntering(u,h),s.onTransitionEnd(f,function(){s.safeSetState({status:Qn},function(){s.props.onEntered(u,h)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:xi.findDOMNode(this);if(!s||Pd.disabled){this.safeSetState({status:Kn},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Lo},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Kn},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:xi.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],h=l[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ei)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Se(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return D.createElement(_g.Provider,{value:null},typeof o=="function"?o(i,a):D.cloneElement(D.Children.only(o),a))},e}(D.Component);En.contextType=_g;En.propTypes={};function Rr(){}En.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Rr,onEntering:Rr,onEntered:Rr,onExit:Rr,onExiting:Rr,onExited:Rr};En.UNMOUNTED=Ei;En.EXITED=Kn;En.ENTERING=An;En.ENTERED=Qn;En.EXITING=Lo;const Ia=!!(typeof window<"u"&&window.document&&window.document.createElement);var Jl=!1,ec=!1;try{var yl={get passive(){return Jl=!0},get once(){return ec=Jl=!0}};Ia&&(window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,!0))}catch{}function bg(t,e,n,r){if(r&&typeof r!="boolean"&&!ec){var i=r.once,s=r.capture,o=n;!ec&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,Jl?r:s)}t.addEventListener(e,n,r)}function tc(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Vo(t,e,n,r){return bg(t,e,n,r),function(){tc(t,e,n,r)}}function AS(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function NS(t){var e=On(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function kS(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||AS(t,"transitionend",!0)},e+n),s=Vo(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function wg(t,e,n,r){n==null&&(n=NS(t)||0);var i=kS(t,n,r),s=Vo(t,"transitionend",e);return function(){i(),s()}}function Cd(t,e){var n=On(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Tg(t,e){var n=Cd(t,"transitionDuration"),r=Cd(t,"transitionDelay"),i=wg(t,function(s){s.target===t&&(i(),e(s))},n+r)}function Br(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r!=null}).reduce(function(r,i){if(typeof i!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return r===null?i:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r.apply(this,a),i.apply(this,a)}},null)}function Pg(t){t.offsetHeight}var OS=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],Fr,IS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Cg(t,e){var n="offset"+t[0].toUpperCase()+t.slice(1),r=e[n],i=IS[t];return r+parseInt(On(e,i[0]),10)+parseInt(On(e,i[1]),10)}var DS=(Fr={},Fr[Kn]="collapse",Fr[Lo]="collapsing",Fr[An]="collapsing",Fr[Qn]="collapse show",Fr),RS={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Cg},xg=D.forwardRef(function(t,e){var n=t.onEnter,r=t.onEntering,i=t.onEntered,s=t.onExit,o=t.onExiting,a=t.className,l=t.children,u=t.dimension,h=u===void 0?"height":u,d=t.getDimensionValue,f=d===void 0?Cg:d,v=Se(t,OS),g=typeof h=="function"?h():h,_=z.useMemo(function(){return Br(function(E){E.style[g]="0"},n)},[g,n]),b=z.useMemo(function(){return Br(function(E){var T="scroll"+g[0].toUpperCase()+g.slice(1);E.style[g]=E[T]+"px"},r)},[g,r]),C=z.useMemo(function(){return Br(function(E){E.style[g]=null},i)},[g,i]),k=z.useMemo(function(){return Br(function(E){E.style[g]=f(g,E)+"px",Pg(E)},s)},[s,f,g]),N=z.useMemo(function(){return Br(function(E){E.style[g]=null},o)},[g,o]);return D.createElement(En,he({ref:e,addEndListener:Tg},v,{"aria-expanded":v.role?v.in:null,onEnter:_,onEntering:b,onEntered:C,onExit:k,onExiting:N}),function(E,T){return D.cloneElement(l,he({},T,{className:Le(a,l.props.className,DS[E],g==="width"&&"width")}))})});xg.defaultProps=RS;var Da=D.createContext(null);Da.displayName="NavbarContext";var FS=["children","bsPrefix"],Eg=D.forwardRef(function(t,e){var n=t.children,r=t.bsPrefix,i=Se(t,FS);return r=ct(r,"navbar-collapse"),D.createElement(Da.Consumer,null,function(s){return D.createElement(xg,he({in:!!(s&&s.expanded)},i),D.createElement("div",{ref:e,className:r},n))})});Eg.displayName="NavbarCollapse";function jS(t){const e=z.useRef(t);return z.useEffect(()=>{e.current=t},[t]),e}function Nn(t){const e=jS(t);return z.useCallback(function(...n){return e.current&&e.current(...n)},[e])}var LS=["bsPrefix","className","children","label","as","onClick"],VS={label:"Toggle navigation"},du=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.children,s=t.label,o=t.as,a=o===void 0?"button":o,l=t.onClick,u=Se(t,LS);n=ct(n,"navbar-toggler");var h=z.useContext(Da)||{},d=h.onToggle,f=h.expanded,v=Nn(function(g){l&&l(g),d&&d()});return a==="button"&&(u.type="button"),D.createElement(a,he({},u,{ref:e,onClick:v,"aria-label":s,className:Le(r,n,!f&&"collapsed")}),i||D.createElement("span",{className:n+"-icon"}))});du.displayName="NavbarToggle";du.defaultProps=VS;var BS=D.createContext(null),WS=["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"],$S=hs("navbar-text",{Component:"span"}),US={expand:!0,variant:"light",collapseOnSelect:!1},jn=D.forwardRef(function(t,e){var n=mS(t,{expanded:"onToggle"}),r=n.bsPrefix,i=n.expand,s=n.variant,o=n.bg,a=n.fixed,l=n.sticky,u=n.className,h=n.children,d=n.as,f=d===void 0?"nav":d,v=n.expanded,g=n.onToggle,_=n.onSelect,b=n.collapseOnSelect,C=Se(n,WS),k=ct(r,"navbar"),N=z.useCallback(function(){_&&_.apply(void 0,arguments),b&&v&&g&&g(!1)},[_,b,v,g]);C.role===void 0&&f!=="nav"&&(C.role="navigation");var E=k+"-expand";typeof i=="string"&&(E=E+"-"+i);var T=z.useMemo(function(){return{onToggle:function(){return g&&g(!v)},bsPrefix:k,expanded:!!v}},[k,v,g]);return D.createElement(Da.Provider,{value:T},D.createElement(BS.Provider,{value:N},D.createElement(f,he({ref:e},C,{className:Le(u,k,i&&E,s&&k+"-"+s,o&&"bg-"+o,l&&"sticky-"+l,a&&"fixed-"+a)}),h)))});jn.defaultProps=US;jn.displayName="Navbar";jn.Brand=yg;jn.Toggle=du;jn.Collapse=Eg;jn.Text=$S;var qS=["as","disabled","onKeyDown"];function xd(t){return!t||t.trim()==="#"}var Mg=D.forwardRef(function(t,e){var n=t.as,r=n===void 0?"a":n,i=t.disabled,s=t.onKeyDown,o=Se(t,qS),a=function(h){var d=o.href,f=o.onClick;if((i||xd(d))&&h.preventDefault(),i){h.stopPropagation();return}f&&f(h)},l=function(h){h.key===" "&&(h.preventDefault(),a(h))};return xd(o.href)&&(o.role=o.role||"button",o.href=o.href||"#"),i&&(o.tabIndex=-1,o["aria-disabled"]=!0),D.createElement(r,he({ref:e},o,{onClick:a,onKeyDown:Br(l,s)}))});Mg.displayName="SafeAnchor";var HS=["bsPrefix","variant","size","active","className","block","type","as"],zS={variant:"primary",active:!1,disabled:!1},qr=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.variant,i=t.size,s=t.active,o=t.className,a=t.block,l=t.type,u=t.as,h=Se(t,HS),d=ct(n,"btn"),f=Le(o,d,s&&"active",r&&d+"-"+r,a&&d+"-block",i&&d+"-"+i);if(h.href)return D.createElement(Mg,he({},h,{as:u,ref:e,className:Le(f,h.disabled&&"disabled")}));e&&(h.ref=e),l?h.type=l:u||(h.type="button");var v=u||"button";return D.createElement(v,he({},h,{className:f}))});qr.displayName="Button";qr.defaultProps=zS;let Sg=2;function fu(t,e,n){const r=Zt(e,n);if(!r)return;const i=SM(e),s=i.synth;Sg=i.baseDecibel,md.state!=="running"&&md.resume(),s.toDestination();const o=GS(r.piano);Oi||t({type:"UPDATE_PIANO",id:r.id,payload:r.piano}),s.releaseAll(),s.volume.value=YS(e.volume,r.piano),s.triggerAttackRelease(o,"1.1",Oi?"+0.15":"+0.03",.7),Oi||XS(t,r)}function GS(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];for(let i=0;i<r.length;i++){const s=r[i];if(s.selected){const o=`${s.note.toUpperCase()}${n+3}`;e.push(o),Oi||(s.isStopping=null,s.isPlaying=!0)}}}return e}function YS(t,e){const n=KS(t),r=[];for(let s=0;s<e.length;s++){const o=e[s];for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const u=l.noteNumber+l.octave*12;r.push(u)}}}const i=Math.max(...r);return Sg-i/2.5+n}function XS(t,e){setTimeout(()=>{const n=e.piano;if(n){for(let r=0;r<n.length;r++){const i=n[r];for(let s=0;s<i.length;s++){const o=i[s];o.isPlaying&&(o.isPlaying=!1,o.isStopping=!0)}}t({type:"UPDATE_PIANO",id:e.id,payload:e.piano})}},1500)}function KS(t){t==null&&(t=0);let e=0;if(t>=90){const n=t-90;e=e+n*.4}else e=0-20*((90-t)/90);return e}var nt={},pu={},ds={},fs={},Ag="Expected a function",Ed=NaN,QS="[object Symbol]",ZS=/^\s+|\s+$/g,JS=/^[-+]0x[0-9a-f]+$/i,eA=/^0b[01]+$/i,tA=/^0o[0-7]+$/i,nA=parseInt,rA=typeof gr=="object"&&gr&&gr.Object===Object&&gr,iA=typeof self=="object"&&self&&self.Object===Object&&self,sA=rA||iA||Function("return this")(),oA=Object.prototype,aA=oA.toString,lA=Math.max,cA=Math.min,_l=function(){return sA.Date.now()};function uA(t,e,n){var r,i,s,o,a,l,u=0,h=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(Ag);e=Md(e)||0,Bo(n)&&(h=!!n.leading,d="maxWait"in n,s=d?lA(Md(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function v(P){var M=r,A=i;return r=i=void 0,u=P,o=t.apply(A,M),o}function g(P){return u=P,a=setTimeout(C,e),h?v(P):o}function _(P){var M=P-l,A=P-u,O=e-M;return d?cA(O,s-A):O}function b(P){var M=P-l,A=P-u;return l===void 0||M>=e||M<0||d&&A>=s}function C(){var P=_l();if(b(P))return k(P);a=setTimeout(C,_(P))}function k(P){return a=void 0,f&&r?v(P):(r=i=void 0,o)}function N(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?o:k(_l())}function T(){var P=_l(),M=b(P);if(r=arguments,i=this,l=P,M){if(a===void 0)return g(l);if(d)return a=setTimeout(C,e),v(l)}return a===void 0&&(a=setTimeout(C,e)),o}return T.cancel=N,T.flush=E,T}function hA(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Ag);return Bo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),uA(t,e,{leading:r,maxWait:e,trailing:i})}function Bo(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function dA(t){return!!t&&typeof t=="object"}function fA(t){return typeof t=="symbol"||dA(t)&&aA.call(t)==QS}function Md(t){if(typeof t=="number")return t;if(fA(t))return Ed;if(Bo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Bo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(ZS,"");var n=eA.test(t);return n||tA.test(t)?nA(t.slice(2),n?2:8):JS.test(t)?Ed:+t}var pA=hA,ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.addPassiveEventListener=function(e,n,r){var i=r.name;i||(i=n,console.warn("Listener must be a named function.")),no.has(n)||no.set(n,new Set);var s=no.get(n);if(!s.has(i)){var o=function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,l)}catch{}return a}();e.addEventListener(n,r,o?{passive:!0}:!1),s.add(i)}};ps.removePassiveEventListener=function(e,n,r){e.removeEventListener(n,r),no.get(n).delete(r.name||n)};var no=new Map;Object.defineProperty(fs,"__esModule",{value:!0});var mA=pA,gA=yA(mA),vA=ps;function yA(t){return t&&t.__esModule?t:{default:t}}var _A=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,gA.default)(e,n)},Qe={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,n){if(e){var r=_A(function(i){Qe.scrollHandler(e)},n);Qe.scrollSpyContainers.push(e),(0,vA.addPassiveEventListener)(e,"scroll",r)}},isMounted:function(e){return Qe.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var n=window.pageYOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var n=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var n=Qe.scrollSpyContainers[Qe.scrollSpyContainers.indexOf(e)].spyCallbacks||[];n.forEach(function(r){return r(Qe.currentPositionX(e),Qe.currentPositionY(e))})},addStateHandler:function(e){Qe.spySetState.push(e)},addSpyHandler:function(e,n){var r=Qe.scrollSpyContainers[Qe.scrollSpyContainers.indexOf(n)];r.spyCallbacks||(r.spyCallbacks=[]),r.spyCallbacks.push(e),e(Qe.currentPositionX(n),Qe.currentPositionY(n))},updateStates:function(){Qe.spySetState.forEach(function(e){return e()})},unmount:function(e,n){Qe.scrollSpyContainers.forEach(function(r){return r.spyCallbacks&&r.spyCallbacks.length&&r.spyCallbacks.indexOf(n)>-1&&r.spyCallbacks.splice(r.spyCallbacks.indexOf(n),1)}),Qe.spySetState&&Qe.spySetState.length&&Qe.spySetState.indexOf(e)>-1&&Qe.spySetState.splice(Qe.spySetState.indexOf(e),1),document.removeEventListener("scroll",Qe.scrollHandler)},update:function(){return Qe.scrollSpyContainers.forEach(function(e){return Qe.scrollHandler(e)})}};fs.default=Qe;var mi={},ms={};Object.defineProperty(ms,"__esModule",{value:!0});var bA=function(e,n){var r=e.indexOf("#")===0?e.substring(1):e,i=r?"#"+r:"",s=window&&window.location,o=i?s.pathname+s.search+i:s.pathname+s.search;n?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},wA=function(){return window.location.hash.replace(/^#/,"")},TA=function(e){return function(n){return e.contains?e!=n&&e.contains(n):!!(e.compareDocumentPosition(n)&16)}},PA=function(e){return getComputedStyle(e).position!=="static"},bl=function(e,n){for(var r=e.offsetTop,i=e.offsetParent;i&&!n(i);)r+=i.offsetTop,i=i.offsetParent;return{offsetTop:r,offsetParent:i}},CA=function(e,n,r){if(r)return e===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?n.offsetLeft:n.offsetLeft-e.offsetLeft;if(e===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(PA(e)){if(n.offsetParent!==e){var i=function(h){return h===e||h===document},s=bl(n,i),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return n.offsetTop}if(n.offsetParent===e.offsetParent)return n.offsetTop-e.offsetTop;var l=function(h){return h===document};return bl(n,l).offsetTop-bl(e,l).offsetTop};ms.default={updateHash:bA,getHash:wA,filterElementInContainer:TA,scrollOffset:CA};var Ra={},mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var gu={};Object.defineProperty(gu,"__esModule",{value:!0});var xA=ps,EA=["mousedown","mousewheel","touchmove","keydown"];gu.default={subscribe:function(e){return typeof document<"u"&&EA.forEach(function(n){return(0,xA.addPassiveEventListener)(document,n,e)})}};var gs={};Object.defineProperty(gs,"__esModule",{value:!0});var nc={registered:{},scrollEvent:{register:function(e,n){nc.registered[e]=n},remove:function(e){nc.registered[e]=null}}};gs.default=nc;Object.defineProperty(Ra,"__esModule",{value:!0});var MA=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SA=ms;Fa(SA);var AA=mu,Sd=Fa(AA),NA=gu,kA=Fa(NA),OA=gs,gn=Fa(OA);function Fa(t){return t&&t.__esModule?t:{default:t}}var Ng=function(e){return Sd.default[e.smooth]||Sd.default.defaultEasing},IA=function(e){return typeof e=="function"?e:function(){return e}},DA=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},rc=function(){return DA()||function(t,e,n){window.setTimeout(t,n||1e3/60,new Date().getTime())}}(),kg=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},Og=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft},Ig=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop},RA=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var r=document.body,i=document.documentElement;return Math.max(r.scrollWidth,r.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)},FA=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var r=document.body,i=document.documentElement;return Math.max(r.scrollHeight,r.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)},jA=function t(e,n,r){var i=n.data;if(!n.ignoreCancelEvents&&i.cancel){gn.default.registered.end&&gn.default.registered.end(i.to,i.target,i.currentPositionY);return}if(i.delta=Math.round(i.targetPosition-i.startPosition),i.start===null&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:e(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?n.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:n.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var s=t.bind(null,e,n);rc.call(window,s);return}gn.default.registered.end&&gn.default.registered.end(i.to,i.target,i.currentPosition)},vu=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},vs=function(e,n,r,i){n.data=n.data||kg(),window.clearTimeout(n.data.delayTimeout);var s=function(){n.data.cancel=!0};if(kA.default.subscribe(s),vu(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?Og(n):Ig(n),n.data.targetPosition=n.absolute?e:e+n.data.startPosition,n.data.startPosition===n.data.targetPosition){gn.default.registered.end&&gn.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=IA(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=r,n.data.target=i;var o=Ng(n),a=jA.bind(null,o,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){gn.default.registered.begin&&gn.default.registered.begin(n.data.to,n.data.target),rc.call(window,a)},n.delay);return}gn.default.registered.begin&&gn.default.registered.begin(n.data.to,n.data.target),rc.call(window,a)},ja=function(e){return e=MA({},e),e.data=e.data||kg(),e.absolute=!0,e},LA=function(e){vs(0,ja(e))},VA=function(e,n){vs(e,ja(n))},BA=function(e){e=ja(e),vu(e),vs(e.horizontal?RA(e):FA(e),e)},WA=function(e,n){n=ja(n),vu(n);var r=n.horizontal?Og(n):Ig(n);vs(e+r,n)};Ra.default={animateTopScroll:vs,getAnimationType:Ng,scrollToTop:LA,scrollToBottom:BA,scrollTo:VA,scrollMore:WA};Object.defineProperty(mi,"__esModule",{value:!0});var $A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA=ms,qA=yu(UA),HA=Ra,zA=yu(HA),GA=gs,Hs=yu(GA);function yu(t){return t&&t.__esModule?t:{default:t}}var zs={},Ad=void 0;mi.default={unmount:function(){zs={}},register:function(e,n){zs[e]=n},unregister:function(e){delete zs[e]},get:function(e){return zs[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return Ad=e},getActiveLink:function(){return Ad},scrollTo:function(e,n){var r=this.get(e);if(!r){console.warn("target Element not found");return}n=$A({},n,{absolute:!1});var i=n.containerId,s=n.container,o=void 0;i?o=document.getElementById(i):s&&s.nodeType?o=s:o=document,n.absolute=!0;var a=n.horizontal,l=qA.default.scrollOffset(o,r,a)+(n.offset||0);if(!n.smooth){Hs.default.registered.begin&&Hs.default.registered.begin(e,r),o===document?n.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):o.scrollTop=l,Hs.default.registered.end&&Hs.default.registered.end(e,r);return}zA.default.animateTopScroll(l,n,e,r)}};var La={};Object.defineProperty(La,"__esModule",{value:!0});var YA=ms,wl=XA(YA);function XA(t){return t&&t.__esModule?t:{default:t}}var KA={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,n){this.containers[e]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,n=this.getHash();n?window.setTimeout(function(){e.scrollTo(n,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,n){var r=this.scroller,i=r.get(e);if(i&&(n||e!==r.getActiveLink())){var s=this.containers[e]||document;r.scrollTo(e,{container:s})}},getHash:function(){return wl.default.getHash()},changeHash:function(e,n){this.isInitialized()&&wl.default.getHash()!==e&&wl.default.updateHash(e,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};La.default=KA;Object.defineProperty(ds,"__esModule",{value:!0});var Gs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QA=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ZA=z,Nd=ys(ZA),JA=fs,Ys=ys(JA),eN=mi,tN=ys(eN),nN=Qi,Ge=ys(nN),rN=La,zn=ys(rN);function ys(t){return t&&t.__esModule?t:{default:t}}function iN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kd={to:Ge.default.string.isRequired,containerId:Ge.default.string,container:Ge.default.object,activeClass:Ge.default.string,activeStyle:Ge.default.object,spy:Ge.default.bool,horizontal:Ge.default.bool,smooth:Ge.default.oneOfType([Ge.default.bool,Ge.default.string]),offset:Ge.default.number,delay:Ge.default.number,isDynamic:Ge.default.bool,onClick:Ge.default.func,duration:Ge.default.oneOfType([Ge.default.number,Ge.default.func]),absolute:Ge.default.bool,onSetActive:Ge.default.func,onSetInactive:Ge.default.func,ignoreCancelEvents:Ge.default.bool,hashSpy:Ge.default.bool,saveHashHistory:Ge.default.bool,spyThrottle:Ge.default.number};ds.default=function(t,e){var n=e||tN.default,r=function(s){oN(o,s);function o(a){iN(this,o);var l=sN(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return i.call(l),l.state={active:!1},l}return QA(o,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,u=this.props.container;return l&&!u?document.getElementById(l):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();Ys.default.isMounted(l)||Ys.default.mount(l,this.props.spyThrottle),this.props.hashSpy&&(zn.default.isMounted()||zn.default.mount(n),zn.default.mapContainer(this.props.to,l)),Ys.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){Ys.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var u={};this.state&&this.state.active?u=Gs({},this.props.style,this.props.activeStyle):u=Gs({},this.props.style);var h=Gs({},this.props);for(var d in kd)h.hasOwnProperty(d)&&delete h[d];return h.className=l,h.style=u,h.onClick=this.handleClick,Nd.default.createElement(t,h)}}]),o}(Nd.default.PureComponent),i=function(){var o=this;this.scrollTo=function(a,l){n.scrollTo(a,Gs({},o.state,l))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,l){var u=o.getScrollSpyContainer();if(!(zn.default.isMounted()&&!zn.default.isInitialized())){var h=o.props.horizontal,d=o.props.to,f=null,v=void 0,g=void 0;if(h){var _=0,b=0,C=0;if(u.getBoundingClientRect){var k=u.getBoundingClientRect();C=k.left}if(!f||o.props.isDynamic){if(f=n.get(d),!f)return;var N=f.getBoundingClientRect();_=N.left-C+a,b=_+N.width}var E=a-o.props.offset;v=E>=Math.floor(_)&&E<Math.floor(b),g=E<Math.floor(_)||E>=Math.floor(b)}else{var T=0,P=0,M=0;if(u.getBoundingClientRect){var A=u.getBoundingClientRect();M=A.top}if(!f||o.props.isDynamic){if(f=n.get(d),!f)return;var O=f.getBoundingClientRect();T=O.top-M+l,P=T+O.height}var R=l-o.props.offset;v=R>=Math.floor(T)&&R<Math.floor(P),g=R<Math.floor(T)||R>=Math.floor(P)}var j=n.getActiveLink();if(g){if(d===j&&n.setActiveLink(void 0),o.props.hashSpy&&zn.default.getHash()===d){var F=o.props.saveHashHistory,U=F===void 0?!1:F;zn.default.changeHash("",U)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(d,f))}if(v&&(j!==d||o.state.active===!1)){n.setActiveLink(d);var $=o.props.saveHashHistory,X=$===void 0?!1:$;o.props.hashSpy&&zn.default.changeHash(d,X),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(d,f))}}}};return r.propTypes=kd,r.defaultProps={offset:0},r};Object.defineProperty(pu,"__esModule",{value:!0});var aN=z,Od=Dg(aN),lN=ds,cN=Dg(lN);function Dg(t){return t&&t.__esModule?t:{default:t}}function uN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Id(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dN=function(t){hN(e,t);function e(){var n,r,i,s;uN(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=Id(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.render=function(){return Od.default.createElement("a",i.props,i.props.children)},r),Id(i,s)}return e}(Od.default.Component);pu.default=(0,cN.default)(dN);var _u={};Object.defineProperty(_u,"__esModule",{value:!0});var fN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),pN=z,Dd=Rg(pN),mN=ds,gN=Rg(mN);function Rg(t){return t&&t.__esModule?t:{default:t}}function vN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _N(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bN=function(t){_N(e,t);function e(){return vN(this,e),yN(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return fN(e,[{key:"render",value:function(){return Dd.default.createElement("button",this.props,this.props.children)}}]),e}(Dd.default.Component);_u.default=(0,gN.default)(bN);var bu={},Va={};Object.defineProperty(Va,"__esModule",{value:!0});var wN=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),PN=z,Rd=Ba(PN),CN=ff;Ba(CN);var xN=mi,Fd=Ba(xN),EN=Qi,jd=Ba(EN);function Ba(t){return t&&t.__esModule?t:{default:t}}function MN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Va.default=function(t){var e=function(n){AN(r,n);function r(i){MN(this,r);var s=SN(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i));return s.childBindings={domNode:null},s}return TN(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Fd.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){Fd.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return Rd.default.createElement(t,wN({},this.props,{parentBindings:this.childBindings}))}}]),r}(Rd.default.Component);return e.propTypes={name:jd.default.string,id:jd.default.string},e};Object.defineProperty(bu,"__esModule",{value:!0});var Ld=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NN=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),kN=z,Vd=wu(kN),ON=Va,IN=wu(ON),DN=Qi,Bd=wu(DN);function wu(t){return t&&t.__esModule?t:{default:t}}function RN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Fg=function(t){jN(e,t);function e(){return RN(this,e),FN(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return NN(e,[{key:"render",value:function(){var r=this,i=Ld({},this.props);return delete i.name,i.parentBindings&&delete i.parentBindings,Vd.default.createElement("div",Ld({},i,{ref:function(o){r.props.parentBindings.domNode=o}}),this.props.children)}}]),e}(Vd.default.Component);Fg.propTypes={name:Bd.default.string,id:Bd.default.string};bu.default=(0,IN.default)(Fg);var Tl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function $d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ud(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qd(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xs=z,pr=fs,Pl=mi,Ze=Qi,Gn=La,Hd={to:Ze.string.isRequired,containerId:Ze.string,container:Ze.object,activeClass:Ze.string,spy:Ze.bool,smooth:Ze.oneOfType([Ze.bool,Ze.string]),offset:Ze.number,delay:Ze.number,isDynamic:Ze.bool,onClick:Ze.func,duration:Ze.oneOfType([Ze.number,Ze.func]),absolute:Ze.bool,onSetActive:Ze.func,onSetInactive:Ze.func,ignoreCancelEvents:Ze.bool,hashSpy:Ze.bool,spyThrottle:Ze.number},LN={Scroll:function(e,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var r=n||Pl,i=function(o){qd(a,o);function a(l){$d(this,a);var u=Ud(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return s.call(u),u.state={active:!1},u}return Wd(a,[{key:"getScrollSpyContainer",value:function(){var u=this.props.containerId,h=this.props.container;return u?document.getElementById(u):h&&h.nodeType?h:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var u=this.getScrollSpyContainer();pr.isMounted(u)||pr.mount(u,this.props.spyThrottle),this.props.hashSpy&&(Gn.isMounted()||Gn.mount(r),Gn.mapContainer(this.props.to,u)),this.props.spy&&pr.addStateHandler(this.stateHandler),pr.addSpyHandler(this.spyHandler,u),this.setState({container:u})}}},{key:"componentWillUnmount",value:function(){pr.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var u="";this.state&&this.state.active?u=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():u=this.props.className;var h=Tl({},this.props);for(var d in Hd)h.hasOwnProperty(d)&&delete h[d];return h.className=u,h.onClick=this.handleClick,Xs.createElement(e,h)}}]),a}(Xs.Component),s=function(){var a=this;this.scrollTo=function(l,u){r.scrollTo(l,Tl({},a.state,u))},this.handleClick=function(l){a.props.onClick&&a.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){r.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(l){var u=a.getScrollSpyContainer();if(!(Gn.isMounted()&&!Gn.isInitialized())){var h=a.props.to,d=null,f=0,v=0,g=0;if(u.getBoundingClientRect){var _=u.getBoundingClientRect();g=_.top}if(!d||a.props.isDynamic){if(d=r.get(h),!d)return;var b=d.getBoundingClientRect();f=b.top-g+l,v=f+b.height}var C=l-a.props.offset,k=C>=Math.floor(f)&&C<Math.floor(v),N=C<Math.floor(f)||C>=Math.floor(v),E=r.getActiveLink();if(N)return h===E&&r.setActiveLink(void 0),a.props.hashSpy&&Gn.getHash()===h&&Gn.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),pr.updateStates();if(k&&E!==h)return r.setActiveLink(h),a.props.hashSpy&&Gn.changeHash(h),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(h)),pr.updateStates()}}};return i.propTypes=Hd,i.defaultProps={offset:0},i},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(r){qd(i,r);function i(s){$d(this,i);var o=Ud(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,s));return o.childBindings={domNode:null},o}return Wd(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;Pl.unregister(this.props.name)}},{key:"registerElems",value:function(o){Pl.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return Xs.createElement(e,Tl({},this.props,{parentBindings:this.childBindings}))}}]),i}(Xs.Component);return n.propTypes={name:Ze.string,id:Ze.string},n}},VN=LN;Object.defineProperty(nt,"__esModule",{value:!0});nt.Helpers=nt.ScrollElement=nt.ScrollLink=nt.animateScroll=nt.scrollSpy=nt.Events=Yg=nt.scroller=nt.Element=nt.Button=Gg=nt.Link=void 0;var BN=pu,jg=Mn(BN),WN=_u,Lg=Mn(WN),$N=bu,Vg=Mn($N),UN=mi,Bg=Mn(UN),qN=gs,Wg=Mn(qN),HN=fs,$g=Mn(HN),zN=Ra,Ug=Mn(zN),GN=ds,qg=Mn(GN),YN=Va,Hg=Mn(YN),XN=VN,zg=Mn(XN);function Mn(t){return t&&t.__esModule?t:{default:t}}var Gg=nt.Link=jg.default;nt.Button=Lg.default;nt.Element=Vg.default;var Yg=nt.scroller=Bg.default;nt.Events=Wg.default;nt.scrollSpy=$g.default;nt.animateScroll=Ug.default;nt.ScrollLink=qg.default;nt.ScrollElement=Hg.default;nt.Helpers=zg.default;nt.default={Link:jg.default,Button:Lg.default,Element:Vg.default,scroller:Bg.default,Events:Wg.default,scrollSpy:$g.default,animateScroll:Ug.default,ScrollLink:qg.default,ScrollElement:Hg.default,Helpers:zg.default};const KN={prefix:"far",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152L0 424c0 48.6 39.4 88 88 88l272 0c48.6 0 88-39.4 88-88l0-112c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 112c0 22.1-17.9 40-40 40L88 464c-22.1 0-40-17.9-40-40l0-272c0-22.1 17.9-40 40-40l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 64z"]};/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */function Di(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Di=function(e){return typeof e}:Di=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Di(t)}function QN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JN(t,e,n){return e&&ZN(t.prototype,e),t}function ek(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){ek(t,i,n[i])})}return t}function Xg(t,e){return tk(t)||nk(t,e)||rk()}function tk(t){if(Array.isArray(t))return t}function nk(t,e){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}function rk(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var zd=function(){},Tu={},Kg={},ik=null,Qg={mark:zd,measure:zd};try{typeof window<"u"&&(Tu=window),typeof document<"u"&&(Kg=document),typeof MutationObserver<"u"&&(ik=MutationObserver),typeof performance<"u"&&(Qg=performance)}catch{}var sk=Tu.navigator||{},Gd=sk.userAgent,Yd=Gd===void 0?"":Gd,Wa=Tu,kt=Kg,Ks=Qg;Wa.document;var Pu=!!kt.documentElement&&!!kt.head&&typeof kt.addEventListener=="function"&&typeof kt.createElement=="function";~Yd.indexOf("MSIE")||~Yd.indexOf("Trident/");var Ln="___FONT_AWESOME___",Zg="fa",Jg="svg-inline--fa",ok="data-fa-i2svg";(function(){try{return!0}catch{return!1}})();var Cl={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ev=Wa.FontAwesomeConfig||{};function ak(t){var e=kt.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function lk(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(kt&&typeof kt.querySelector=="function"){var ck=[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];ck.forEach(function(t){var e=Xg(t,2),n=e[0],r=e[1],i=lk(ak(n));i!=null&&(ev[r]=i)})}var uk={familyPrefix:Zg,replacementClass:Jg,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},ic=Ne({},uk,ev);ic.autoReplaceSvg||(ic.observeMutations=!1);var qt=Ne({},ic);Wa.FontAwesomeConfig=qt;var Vn=Wa||{};Vn[Ln]||(Vn[Ln]={});Vn[Ln].styles||(Vn[Ln].styles={});Vn[Ln].hooks||(Vn[Ln].hooks={});Vn[Ln].shims||(Vn[Ln].shims=[]);var bn=Vn[Ln],hk=[],dk=function t(){kt.removeEventListener("DOMContentLoaded",t),sc=1,hk.map(function(e){return e()})},sc=!1;Pu&&(sc=(kt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(kt.readyState),sc||kt.addEventListener("DOMContentLoaded",dk));var Cu="pending",tv="settled",Wo="fulfilled",$o="rejected",fk=function(){},nv=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",pk=typeof setImmediate>"u"?setTimeout:setImmediate,Mi=[],oc;function mk(){for(var t=0;t<Mi.length;t++)Mi[t][0](Mi[t][1]);Mi=[],oc=!1}function Uo(t,e){Mi.push([t,e]),oc||(oc=!0,pk(mk,0))}function gk(t,e){function n(i){xu(e,i)}function r(i){Ki(e,i)}try{t(n,r)}catch(i){r(i)}}function rv(t){var e=t.owner,n=e._state,r=e._data,i=t[n],s=t.then;if(typeof i=="function"){n=Wo;try{r=i(r)}catch(o){Ki(s,o)}}iv(s,r)||(n===Wo&&xu(s,r),n===$o&&Ki(s,r))}function iv(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||Di(e)==="object")){var r=e.then;if(typeof r=="function")return r.call(e,function(i){n||(n=!0,e===i?sv(t,i):xu(t,i))},function(i){n||(n=!0,Ki(t,i))}),!0}}catch(i){return n||Ki(t,i),!0}return!1}function xu(t,e){(t===e||!iv(t,e))&&sv(t,e)}function sv(t,e){t._state===Cu&&(t._state=tv,t._data=e,Uo(vk,t))}function Ki(t,e){t._state===Cu&&(t._state=tv,t._data=e,Uo(yk,t))}function ov(t){t._then=t._then.forEach(rv)}function vk(t){t._state=Wo,ov(t)}function yk(t){t._state=$o,ov(t),!t._handled&&nv&&global.process.emit("unhandledRejection",t._data,t)}function _k(t){global.process.emit("rejectionHandled",t)}function tn(t){if(typeof t!="function")throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof tn))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],gk(t,this)}tn.prototype={constructor:tn,_state:Cu,_then:null,_data:void 0,_handled:!1,then:function(e,n){var r={owner:this,then:new this.constructor(fk),fulfilled:e,rejected:n};return(n||e)&&!this._handled&&(this._handled=!0,this._state===$o&&nv&&Uo(_k,this)),this._state===Wo||this._state===$o?Uo(rv,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}};tn.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new tn(function(e,n){var r=[],i=0;function s(l){return i++,function(u){r[l]=u,--i||e(r)}}for(var o=0,a;o<t.length;o++)a=t[o],a&&typeof a.then=="function"?a.then(s(o),n):r[o]=a;i||e(r)})};tn.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new tn(function(e,n){for(var r=0,i;r<t.length;r++)i=t[r],i&&typeof i.then=="function"?i.then(e,n):e(i)})};tn.resolve=function(t){return t&&Di(t)==="object"&&t.constructor===tn?t:new tn(function(e){e(t)})};tn.reject=function(t){return new tn(function(e,n){n(t)})};var Hr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function bk(t){if(!(!t||!Pu)){var e=kt.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=kt.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return kt.head.insertBefore(e,r),t}}var wk="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function qo(){for(var t=12,e="";t-- >0;)e+=wk[Math.random()*62|0];return e}function av(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Tk(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(av(t[n]),'" ')},"").trim()}function lv(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function cv(t){return t.size!==Hr.size||t.x!==Hr.x||t.y!==Hr.y||t.rotate!==Hr.rotate||t.flipX||t.flipY}function uv(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}var xl={x:0,y:0,width:"100%",height:"100%"};function Xd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Pk(t){return t.tag==="g"?t.children:[t]}function Ck(t){var e=t.children,n=t.attributes,r=t.main,i=t.mask,s=t.maskId,o=t.transform,a=r.width,l=r.icon,u=i.width,h=i.icon,d=uv({transform:o,containerWidth:u,iconWidth:a}),f={tag:"rect",attributes:Ne({},xl,{fill:"white"})},v=l.children?{children:l.children.map(Xd)}:{},g={tag:"g",attributes:Ne({},d.inner),children:[Xd(Ne({tag:l.tag,attributes:Ne({},l.attributes,d.path)},v))]},_={tag:"g",attributes:Ne({},d.outer),children:[g]},b="mask-".concat(s||qo()),C="clip-".concat(s||qo()),k={tag:"mask",attributes:Ne({},xl,{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[f,_]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:Pk(h)},k]};return e.push(N,{tag:"rect",attributes:Ne({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(b,")")},xl)}),{children:e,attributes:n}}function xk(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,s=t.styles,o=lv(s);if(o.length>0&&(n.style=o),cv(i)){var a=uv({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:Ne({},a.outer),children:[{tag:"g",attributes:Ne({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Ne({},r.icon.attributes,a.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}function Ek(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(cv(o)&&n.found&&!r.found){var a=n.width,l=n.height,u={x:a/l/2,y:.5};i.style=lv(Ne({},s,{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function Mk(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(qt.familyPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ne({},i,{id:o}),children:r}]}]}function Sk(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,u=t.maskId,h=t.titleId,d=t.extra,f=t.watchable,v=f===void 0?!1:f,g=r.found?r:n,_=g.width,b=g.height,C=i==="fak",k=C?"":"fa-w-".concat(Math.ceil(_/b*16)),N=[qt.replacementClass,s?"".concat(qt.familyPrefix,"-").concat(s):"",k].filter(function(R){return d.classes.indexOf(R)===-1}).filter(function(R){return R!==""||!!R}).concat(d.classes).join(" "),E={children:[],attributes:Ne({},d.attributes,{"data-prefix":i,"data-icon":s,class:N,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(_," ").concat(b)})},T=C&&!~d.classes.indexOf("fa-fw")?{width:"".concat(_/b*16*.0625,"em")}:{};v&&(E.attributes[ok]=""),l&&E.children.push({tag:"title",attributes:{id:E.attributes["aria-labelledby"]||"title-".concat(h||qo())},children:[l]});var P=Ne({},E,{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:o,symbol:a,styles:Ne({},T,d.styles)}),M=r.found&&n.found?Ck(P):xk(P),A=M.children,O=M.attributes;return P.children=A,P.attributes=O,a?Mk(P):Ek(P)}var Kd=function(){};qt.measurePerformance&&Ks&&Ks.mark&&Ks.measure;var El=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=n,l,u,h;for(r===void 0?(l=1,h=e[s[0]]):(l=0,h=r);l<o;l++)u=s[l],h=a(h,e[u],u,e);return h};function hv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=Object.keys(e).reduce(function(o,a){var l=e[a],u=!!l.icon;return u?o[l.iconName]=l.icon:o[a]=l,o},{});typeof bn.hooks.addPack=="function"&&!i?bn.hooks.addPack(t,s):bn.styles[t]=Ne({},bn.styles[t]||{},s),t==="fas"&&hv("fa",e)}var Qd=bn.styles,Ak=bn.shims,dv=function(){var e=function(i){return El(Qd,function(s,o,a){return s[a]=El(o,i,{}),s},{})};e(function(r,i,s){return i[3]&&(r[i[3]]=s),r}),e(function(r,i,s){var o=i[2];return r[s]=s,o.forEach(function(a){r[a]=s}),r});var n="far"in Qd;El(Ak,function(r,i){var s=i[0],o=i[1],a=i[2];return o==="far"&&!n&&(o="fas"),r[s]={prefix:o,iconName:a},r},{})};dv();bn.styles;function Zd(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function fv(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?av(t):"<".concat(e," ").concat(Tk(r),">").concat(s.map(fv).join(""),"</").concat(e,">")}var Nk=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n):n};function ac(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=new Error().stack}ac.prototype=Object.create(Error.prototype);ac.prototype.constructor=ac;var $a={fill:"currentColor"},pv={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};Ne({},$a,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"});var Eu=Ne({},pv,{attributeName:"opacity"});Ne({},$a,{cx:"256",cy:"364",r:"28"}),Ne({},pv,{attributeName:"r",values:"28;14;28;28;14;28;"}),Ne({},Eu,{values:"1;0;1;1;0;1;"});Ne({},$a,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Ne({},Eu,{values:"1;0;0;0;0;1;"});Ne({},$a,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Ne({},Eu,{values:"0;0;1;1;0;0;"});bn.styles;function Jd(t){var e=t[0],n=t[1],r=t.slice(4),i=Xg(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Cl.GROUP)},children:[{tag:"path",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Cl.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(qt.familyPrefix,"-").concat(Cl.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}bn.styles;var kk=`svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}`;function Ok(){var t=Zg,e=Jg,n=qt.familyPrefix,r=qt.replacementClass,i=kk;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var Ik=function(){function t(){QN(this,t),this.definitions={}}return JN(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=Ne({},n.definitions[a]||{},o[a]),hv(a,o[a]),dv()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,u=o.icon;n[a]||(n[a]={}),n[a][l]=u}),n}}]),t}();function Dk(){qt.autoAddCss&&!tf&&(bk(Ok()),tf=!0)}function Rk(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return fv(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Pu){var r=kt.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function ef(t){var e=t.prefix,n=e===void 0?"fa":e,r=t.iconName;if(r)return Zd(jk.definitions,n,r)||Zd(bn.styles,n,r)}function Fk(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:ef(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:ef(i||{})),t(r,Ne({},n,{mask:i}))}}var jk=new Ik,tf=!1,lc={transform:function(e){return Nk(e)}},Lk=Fk(function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transform,r=n===void 0?Hr:n,i=e.symbol,s=i===void 0?!1:i,o=e.mask,a=o===void 0?null:o,l=e.maskId,u=l===void 0?null:l,h=e.title,d=h===void 0?null:h,f=e.titleId,v=f===void 0?null:f,g=e.classes,_=g===void 0?[]:g,b=e.attributes,C=b===void 0?{}:b,k=e.styles,N=k===void 0?{}:k;if(t){var E=t.prefix,T=t.iconName,P=t.icon;return Rk(Ne({type:"icon"},t),function(){return Dk(),qt.autoA11y&&(d?C["aria-labelledby"]="".concat(qt.replacementClass,"-title-").concat(v||qo()):(C["aria-hidden"]="true",C.focusable="false")),Sk({icons:{main:Jd(P),mask:a?Jd(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:T,transform:Ne({},Hr,r),symbol:s,title:d,maskId:u,titleId:v,extra:{attributes:C,styles:N,classes:_}})})}});function nf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nf(Object(n),!0).forEach(function(r){zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ho(t){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function zr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Bk(t,e){if(t==null)return{};var n=Vk(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cc(t){return Wk(t)||$k(t)||Uk(t)||qk()}function Wk(t){if(Array.isArray(t))return uc(t)}function $k(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uk(t,e){if(t){if(typeof t=="string")return uc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uc(t,e)}}function uc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hk(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,u=t.spinPulse,h=t.spinReverse,d=t.pulse,f=t.fixedWidth,v=t.inverse,g=t.border,_=t.listItem,b=t.flip,C=t.size,k=t.rotation,N=t.pull,E=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":h,"fa-spin-pulse":u,"fa-pulse":d,"fa-fw":f,"fa-inverse":v,"fa-border":g,"fa-li":_,"fa-flip":b===!0,"fa-flip-horizontal":b==="horizontal"||b==="both","fa-flip-vertical":b==="vertical"||b==="both"},zr(e,"fa-".concat(C),typeof C<"u"&&C!==null),zr(e,"fa-rotate-".concat(k),typeof k<"u"&&k!==null&&k!==0),zr(e,"fa-pull-".concat(N),typeof N<"u"&&N!==null),zr(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(E).map(function(T){return E[T]?T:null}).filter(function(T){return T})}function zk(t){return t=t-0,t===t}function mv(t){return zk(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var Gk=["style"];function Yk(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Xk(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=mv(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[Yk(i)]=s:e[i]=s,e},{})}function gv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return gv(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var h=e.attributes[u];switch(u){case"class":l.attrs.className=h,delete e.attributes.class;break;case"style":l.attrs.style=Xk(h);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=h:l.attrs[mv(u)]=h}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=Bk(n,Gk);return i.attrs.style=vn(vn({},i.attrs.style),o),t.apply(void 0,[e.tag,vn(vn({},i.attrs),a)].concat(cc(r)))}var vv=!1;try{vv=!0}catch{}function Kk(){if(!vv&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function rf(t){if(t&&Ho(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(lc.icon)return lc.icon(t);if(t===null)return null;if(t&&Ho(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function Ml(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?zr({},t,e):{}}var sf={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},_s=D.forwardRef(function(t,e){var n=vn(vn({},sf),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,l=n.titleId,u=n.maskId,h=rf(r),d=Ml("classes",[].concat(cc(Hk(n)),cc((o||"").split(" ")))),f=Ml("transform",typeof n.transform=="string"?lc.transform(n.transform):n.transform),v=Ml("mask",rf(i)),g=Lk(h,vn(vn(vn(vn({},d),f),v),{},{symbol:s,title:a,titleId:l,maskId:u}));if(!g)return Kk("Could not find icon",h),null;var _=g.abstract,b={ref:e};return Object.keys(n).forEach(function(C){sf.hasOwnProperty(C)||(b[C]=n[C])}),Qk(_[0],b)});_s.displayName="FontAwesomeIcon";_s.propTypes={beat:te.bool,border:te.bool,beatFade:te.bool,bounce:te.bool,className:te.string,fade:te.bool,flash:te.bool,mask:te.oneOfType([te.object,te.array,te.string]),maskId:te.string,fixedWidth:te.bool,inverse:te.bool,flip:te.oneOf([!0,!1,"horizontal","vertical","both"]),icon:te.oneOfType([te.object,te.array,te.string]),listItem:te.bool,pull:te.oneOf(["right","left"]),pulse:te.bool,rotation:te.oneOf([0,90,180,270]),shake:te.bool,size:te.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:te.bool,spinPulse:te.bool,spinReverse:te.bool,symbol:te.oneOfType([te.bool,te.string]),title:te.string,titleId:te.string,transform:te.oneOfType([te.string,te.object]),swapOpacity:te.bool};var Qk=gv.bind(null,D.createElement);const Zk=()=>{var N,E,T;const{state:t,dispatch:e}=us(),[n,r]=z.useState(!1),[i,s]=z.useState(-1),o=-130,a=()=>{var M;if(!((M=t.chordPianoSet)!=null&&M.length))return;const P=l();d(P),g(P)},l=()=>{var M;const P=u();return s(P),((M=t.chordPianoSet)==null?void 0:M[P].id)??0},u=()=>{var M;let P=i+1;return P>=(((M=t.chordPianoSet)==null?void 0:M.length)??0)&&(P=0),P},h=()=>{e({type:"ADD_CHORD_PIANO",payload:"selectedKey"}),r(!0)};z.useEffect(()=>{var P;if((P=t.chordPianoSet)!=null&&P.length&&n){const M=t.chordPianoSet[t.chordPianoSet.length-1].id??0;d(M),r(!1)}},[t.chordPianoSet,n]);const d=P=>{const M=`piano-${P}`,A={duration:500,smooth:!0,offset:o,spy:!0,hashSpy:!0,to:M};Yg.scrollTo(M,A)},f=()=>{e({type:"BUILD_PROG_FROM_CODE",payload:"?s=p:90&p="})},v=()=>{e({type:"LOAD_PREVIOUS_PROG_CODE"})},g=P=>{fu(e,t,P)},_=P=>{var M,A;return((A=(M=P==null?void 0:P.currentProgCode)==null?void 0:M.split("p="))==null?void 0:A[0])??"?s=p:90&p="},b=()=>{const P=_(t),M=jM(t.chordPianoSet),A=window.prompt("Enter your progression",M);if(!A)return;const O=GM(A);O&&(e({type:"BUILD_PROG_FROM_CODE",payload:`${P}p=${O}`}),e({type:"REFRESH_BOARD"}))},C=P=>`${P.noteLetter}${P.type}${cu(P)?`/${P.slashNote}`:""}`,k=()=>{var P;return(P=t.chordPianoSet)==null?void 0:P.map((M,A)=>{var O;return I.jsxs("div",{children:[I.jsx(Gg,{className:"chordListItem",to:`piano-${M.id}`,spy:!0,offset:o,isDynamic:!0,duration:500,smooth:!0,onClick:()=>g(M.id),children:I.jsxs("div",{className:"chordItem",children:["",C(M.selectedChord)]})}),"",A!==(((O=t.chordPianoSet)==null?void 0:O.length)??0)-1?"|":""]},`ci-${M.id}`)})};return I.jsx(jn,{fixed:"top",className:"flex-column mainHeader",children:I.jsxs("div",{className:"headerContainer",children:[I.jsxs("div",{className:"buttonContainer row",children:[I.jsx(qr,{variant:"primary",size:"sm",className:"btn-main chord-btn",onClick:a,disabled:!((N=t.chordPianoSet)!=null&&N.length),children:"Play"}),I.jsx(qr,{variant:"primary",size:"sm",className:"btn-main chord-btn",onClick:h,children:"Add"}),I.jsx(qr,{variant:"primary",size:"sm",className:"btn-main chord-btn",disabled:!((E=t.previousProgCodes)!=null&&E.length),onClick:v,children:"Undo"}),I.jsx(qr,{variant:"primary",size:"sm",className:"btn-main chord-btn",disabled:!((T=t.chordPianoSet)!=null&&T.length),onClick:f,children:"Clear"})]}),I.jsxs("ul",{className:"progression row",style:{listStyle:"none"},children:[k(),I.jsx(_s,{className:"progressionEditIcon",icon:KN,onClick:b})]})]})})},Jk=({pianoKey:t,handleClick:e})=>{const{selected:n,isPlaying:r,isStopping:i,color:s,note:o,octave:a,noteNumber:l}=t;return I.jsx("li",{"key-selected":n==null?void 0:n.toString(),"key-playing":r==null?void 0:r.toString(),"key-stopping":i==null?void 0:i.toString(),className:`${s} ${o} ${o}-${a}`,onClick:()=>e(o,l,a)})};function eO(t,e){const n=e.length,r=(t%n+n)%n;return e.slice(r,n).concat(e.slice(0,r))}var ai={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},yv=t=>Number(t).toString(2).padStart(12,"0"),of=t=>parseInt(t,2),tO=/^[01]{12}$/;function _v(t){return tO.test(t)}var nO=t=>typeof t=="number"&&t>=0&&t<=4095,rO=t=>t&&_v(t.chroma),af={[ai.chroma]:ai};function bv(t){const e=_v(t)?t:nO(t)?yv(t):Array.isArray(t)?lO(t):rO(t)?t.chroma:ai.chroma;return af[e]=af[e]||aO(e)}var iO=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function sO(t){const e=[];for(let n=0;n<12;n++)t.charAt(n)==="1"&&e.push(iO[n]);return e}function oO(t){const e=t.split("");return e.map((n,r)=>eO(r,e).join(""))}function aO(t){const e=of(t),n=oO(t).map(of).filter(s=>s>=2048).sort()[0],r=yv(n),i=sO(t);return{empty:!1,name:"",setNum:e,chroma:t,normalized:r,intervals:i}}function lO(t){if(t.length===0)return ai.chroma;let e;const n=[0,0,0,0,0,0,0,0,0,0,0,0];for(let r=0;r<t.length;r++)e=Qr(t[r]),e.empty&&(e=Zr(t[r])),e.empty||(n[e.chroma]=1);return n.join("")}var cO=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],uO=cO;({...ai});var wv=[],ro={};function hO(t,e,n){const r=fO(t),i={...bv(t),name:n||"",quality:r,intervals:t,aliases:e};wv.push(i),i.name&&(ro[i.name]=i),ro[i.setNum]=i,ro[i.chroma]=i,i.aliases.forEach(s=>dO(i,s))}function dO(t,e){ro[e]=t}function fO(t){const e=n=>t.indexOf(n)!==-1;return e("5A")?"Augmented":e("3M")?"Major":e("5d")?"Diminished":e("3m")?"Minor":"Unknown"}uO.forEach(([t,e,n])=>hO(t.split(" "),n.split(" "),e));wv.sort((t,e)=>t.setNum-e.setNum);var pO=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],mO=pO;({...ai});var io={};function gO(t,e,n=[]){const r={...bv(t),name:e,intervals:t,aliases:n};return io[r.name]=r,io[r.setNum]=r,io[r.chroma]=r,r.aliases.forEach(i=>vO(r,i)),r}function vO(t,e){io[e]=t}mO.forEach(([t,e,...n])=>gO(t.split(" "),e,n));function yO(t){const[e,n,r,i]=kc(t);return e===""?Sl("",t):e==="A"&&i==="ug"?Sl("","aug"):Sl(e+n,r+i)}function Sl(t,e){const n=e.split("/");if(n.length===1)return[t,n[0],""];const[r,i,s,o]=kc(n[1]);return r!==""&&s===""&&o===""?[t,n[0],r+i]:[t,e,""]}var Tv={empty:!0,name:"",chordType:""},lf={};function zo(t){return typeof t=="string"?lf[t]||(lf[t]=PO(t)):typeof t=="number"?zo(Mu[t]||""):Nc(t)?_O(t):Ac(t)?zo(t.name):Tv}function _O(t){return zo(Wf(t.alt)+Mu[t.step])}var bO=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function wO(t){return bO.exec(t)||["","","",""]}var TO="I II III IV V VI VII",Mu=TO.split(" ");function PO(t){const[e,n,r,i]=wO(t);if(!r)return Tv;const s=r.toUpperCase(),o=Mu.indexOf(s),a=$f(n),l=1;return{empty:!1,name:e,roman:r,interval:Zr({step:o,alt:a,dir:l}).name,acc:n,chordType:i,alt:a,step:o,major:r===s,oct:0,dir:l}}function CO(t,e){return e.map(n=>{const[r,i]=yO(n),s=X_(t,r);return zo(Zr(s)).name+i})}function xO(t,e){var i;if(!t)return;if(t.noteLetter===e.noteLetter)return"I";let n=_n(t,e.noteLetter);var r=(i=CO(t.noteLetter,[n]))==null?void 0:i[0];return Fo(t.type)&&(r=EO(r)),Fo(e.type)?r==null?void 0:r.toLowerCase():r}function EO(t){return t==="bIII"?t="III":t==="III"?t="#III":t==="#II"&&(t="III"),t}const MO=({pianoComponentId:t,forceUpdate:e})=>{const{state:n,dispatch:r}=us(),i=t,s=z.useRef(!1);z.useEffect(()=>{if(!s.current){s.current=!0;const d=Zt(n,i);d&&r({type:"REFRESH_PIANO",id:i,payload:d})}},[i,n,r]),z.useEffect(()=>{if(e){const d=Zt(n,i);d&&r({type:"REFRESH_PIANO",id:i,payload:d})}},[e,i,n,r]);const o=(d,f)=>{const g={noteLetter:Sc("C",d),octave:f};r({type:"UPDATE_KEY",id:i,payload:g})},a=()=>{r({type:"REMOVE_PIANO",id:i})},l=()=>{fu(r,n,i)},u=()=>{const d=Zt(n,i),f=jo(n);return xO(f,(d==null?void 0:d.selectedChord)||"")},h=()=>{var f;return(((f=Zt(n,i))==null?void 0:f.piano)||[]).map((v,g)=>v.map(_=>({..._,octave:g,key:`${_.note}-${g}-${e}`,handleClick:()=>o(_.noteNumber,g)}))).flat().map(v=>I.jsx(Jk,{pianoKey:v,handleClick:v.handleClick},v.key))};return I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"pianoContainer",children:[I.jsx("button",{type:"button",className:"piano-play-button",onClick:l}),I.jsxs("div",{className:"pianoBox",children:[I.jsx("button",{type:"button",className:"close pianoCloseButton","aria-label":"Close",onClick:a,children:I.jsx("span",{"aria-hidden":"true",children:""})}),I.jsx("ul",{className:"set",children:h()})]}),I.jsx("div",{className:"closeContainer",children:I.jsx("button",{type:"button",className:"close pianoCloseButtonMobile","aria-label":"Close",onClick:a,children:I.jsx("span",{className:"mobileClosedBtnText",children:""})})})]}),I.jsx("div",{className:"pianoRomanNumeral",children:u()})]})};var cf={exports:{}},hc={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,a,l,u,h,d){var f=u||"<<anonymous>>",v=d||l;if(a[l]==null)return o?new Error("Required "+h+" `"+v+"` was not specified "+("in `"+f+"`.")):null;for(var g=arguments.length,_=Array(g>6?g-6:0),b=6;b<g;b++)_[b-6]=arguments[b];return r.apply(void 0,[a,l,f,h,v].concat(_))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(hc,hc.exports);var SO=hc.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=SO,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];function u(){for(var h=arguments.length,d=Array(h),f=0;f<h;f++)d[f]=arguments[f];var v=null;return a.forEach(function(g){if(v==null){var _=g.apply(void 0,d);_!=null&&(v=_)}}),v}return(0,r.default)(u)}t.exports=e.default})(cf,cf.exports);var AO=["as","className","type","tooltip"],NO={type:te.string,tooltip:te.bool,as:te.elementType},bs=D.forwardRef(function(t,e){var n=t.as,r=n===void 0?"div":n,i=t.className,s=t.type,o=s===void 0?"valid":s,a=t.tooltip,l=a===void 0?!1:a,u=Se(t,AO);return D.createElement(r,he({},u,{ref:e,className:Le(i,o+"-"+(l?"tooltip":"feedback"))}))});bs.displayName="Feedback";bs.propTypes=NO;var dn=D.createContext({controlId:void 0}),kO=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],Su=D.forwardRef(function(t,e){var n=t.id,r=t.bsPrefix,i=t.bsCustomPrefix,s=t.className,o=t.type,a=o===void 0?"checkbox":o,l=t.isValid,u=l===void 0?!1:l,h=t.isInvalid,d=h===void 0?!1:h,f=t.isStatic,v=t.as,g=v===void 0?"input":v,_=Se(t,kO),b=z.useContext(dn),C=b.controlId,k=b.custom,N=k?[i,"custom-control-input"]:[r,"form-check-input"],E=N[0],T=N[1];return r=ct(E,T),D.createElement(g,he({},_,{ref:e,type:a,id:n||C,className:Le(s,r,u&&"is-valid",d&&"is-invalid",f&&"position-static")}))});Su.displayName="FormCheckInput";var OO=["bsPrefix","bsCustomPrefix","className","htmlFor"],Au=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.bsCustomPrefix,i=t.className,s=t.htmlFor,o=Se(t,OO),a=z.useContext(dn),l=a.controlId,u=a.custom,h=u?[r,"custom-control-label"]:[n,"form-check-label"],d=h[0],f=h[1];return n=ct(d,f),D.createElement("label",he({},o,{ref:e,htmlFor:s||l,className:Le(i,n)}))});Au.displayName="FormCheckLabel";var IO=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],kr=D.forwardRef(function(t,e){var n=t.id,r=t.bsPrefix,i=t.bsCustomPrefix,s=t.inline,o=s===void 0?!1:s,a=t.disabled,l=a===void 0?!1:a,u=t.isValid,h=u===void 0?!1:u,d=t.isInvalid,f=d===void 0?!1:d,v=t.feedbackTooltip,g=v===void 0?!1:v,_=t.feedback,b=t.className,C=t.style,k=t.title,N=k===void 0?"":k,E=t.type,T=E===void 0?"checkbox":E,P=t.label,M=t.children,A=t.custom,O=t.as,R=O===void 0?"input":O,j=Se(t,IO),F=T==="switch"?!0:A,U=F?[i,"custom-control"]:[r,"form-check"],$=U[0],X=U[1];r=ct($,X);var G=z.useContext(dn),Y=G.controlId,ne=z.useMemo(function(){return{controlId:n||Y,custom:F}},[Y,F,n]),B=F||P!=null&&P!==!1&&!M,W=D.createElement(Su,he({},j,{type:T==="switch"?"checkbox":T,ref:e,isValid:h,isInvalid:f,isStatic:!B,disabled:l,as:R}));return D.createElement(dn.Provider,{value:ne},D.createElement("div",{style:C,className:Le(b,r,F&&"custom-"+T,o&&r+"-inline")},M||D.createElement(D.Fragment,null,W,B&&D.createElement(Au,{title:N},P),(h||f)&&D.createElement(bs,{type:h?"valid":"invalid",tooltip:g},_))))});kr.displayName="FormCheck";kr.Input=Su;kr.Label=Au;var DO=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],Nu=D.forwardRef(function(t,e){var n=t.id,r=t.bsPrefix,i=t.bsCustomPrefix,s=t.className,o=t.isValid,a=t.isInvalid,l=t.lang,u=t.as,h=u===void 0?"input":u,d=Se(t,DO),f=z.useContext(dn),v=f.controlId,g=f.custom,_="file",b=g?[i,"custom-file-input"]:[r,"form-control-file"],C=b[0],k=b[1];return r=ct(C,k),D.createElement(h,he({},d,{ref:e,id:n||v,type:_,lang:l,className:Le(s,r,o&&"is-valid",a&&"is-invalid")}))});Nu.displayName="FormFileInput";var RO=["bsPrefix","bsCustomPrefix","className","htmlFor"],Go=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.bsCustomPrefix,i=t.className,s=t.htmlFor,o=Se(t,RO),a=z.useContext(dn),l=a.controlId,u=a.custom,h=u?[r,"custom-file-label"]:[n,"form-file-label"],d=h[0],f=h[1];return n=ct(d,f),D.createElement("label",he({},o,{ref:e,htmlFor:s||l,className:Le(i,n),"data-browse":o["data-browse"]}))});Go.displayName="FormFileLabel";var FO=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],Ua=D.forwardRef(function(t,e){var n=t.id,r=t.bsPrefix,i=t.bsCustomPrefix,s=t.disabled,o=s===void 0?!1:s,a=t.isValid,l=a===void 0?!1:a,u=t.isInvalid,h=u===void 0?!1:u,d=t.feedbackTooltip,f=d===void 0?!1:d,v=t.feedback,g=t.className,_=t.style,b=t.label,C=t.children,k=t.custom,N=t.lang,E=t["data-browse"],T=t.as,P=T===void 0?"div":T,M=t.inputAs,A=M===void 0?"input":M,O=Se(t,FO),R=k?[i,"custom"]:[r,"form-file"],j=R[0],F=R[1];r=ct(j,F);var U="file",$=z.useContext(dn),X=$.controlId,G=z.useMemo(function(){return{controlId:n||X,custom:k}},[X,k,n]),Y=b!=null&&b!==!1&&!C,ne=D.createElement(Nu,he({},O,{ref:e,isValid:l,isInvalid:h,disabled:o,as:A,lang:N}));return D.createElement(dn.Provider,{value:G},D.createElement(P,{style:_,className:Le(g,r,k&&"custom-"+U)},C||D.createElement(D.Fragment,null,k?D.createElement(D.Fragment,null,ne,Y&&D.createElement(Go,{"data-browse":E},b)):D.createElement(D.Fragment,null,Y&&D.createElement(Go,null,b),ne),(l||h)&&D.createElement(bs,{type:l?"valid":"invalid",tooltip:f},v))))});Ua.displayName="FormFile";Ua.Input=Nu;Ua.Label=Go;var jO=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],Pv=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.bsCustomPrefix,i=t.type,s=t.size,o=t.htmlSize,a=t.id,l=t.className,u=t.isValid,h=u===void 0?!1:u,d=t.isInvalid,f=d===void 0?!1:d,v=t.plaintext,g=t.readOnly,_=t.custom,b=t.as,C=b===void 0?"input":b,k=Se(t,jO),N=z.useContext(dn),E=N.controlId,T=_?[r,"custom"]:[n,"form-control"],P=T[0],M=T[1];n=ct(P,M);var A;if(v){var O;A=(O={},O[n+"-plaintext"]=!0,O)}else if(i==="file"){var R;A=(R={},R[n+"-file"]=!0,R)}else if(i==="range"){var j;A=(j={},j[n+"-range"]=!0,j)}else if(C==="select"&&_){var F;A=(F={},F[n+"-select"]=!0,F[n+"-select-"+s]=s,F)}else{var U;A=(U={},U[n]=!0,U[n+"-"+s]=s,U)}return D.createElement(C,he({},k,{type:i,size:o,ref:e,readOnly:g,id:a||E,className:Le(l,A,h&&"is-valid",f&&"is-invalid")}))});Pv.displayName="FormControl";const LO=Object.assign(Pv,{Feedback:bs});var VO=["bsPrefix","className","children","controlId","as"],Cv=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.children,s=t.controlId,o=t.as,a=o===void 0?"div":o,l=Se(t,VO);n=ct(n,"form-group");var u=z.useMemo(function(){return{controlId:s}},[s]);return D.createElement(dn.Provider,{value:u},D.createElement(a,he({},l,{ref:e,className:Le(r,n)}),i))});Cv.displayName="FormGroup";var BO=["bsPrefix","className","as"],WO=["xl","lg","md","sm","xs"],xv=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.as,s=i===void 0?"div":i,o=Se(t,BO),a=ct(n,"col"),l=[],u=[];return WO.forEach(function(h){var d=o[h];delete o[h];var f,v,g;if(typeof d=="object"&&d!=null){var _=d.span;f=_===void 0?!0:_,v=d.offset,g=d.order}else f=d;var b=h!=="xs"?"-"+h:"";f&&l.push(f===!0?""+a+b:""+a+b+"-"+f),g!=null&&u.push("order"+b+"-"+g),v!=null&&u.push("offset"+b+"-"+v)}),l.length||l.push(a),D.createElement(s,he({},o,{ref:e,className:Le.apply(void 0,[r].concat(l,u))}))});xv.displayName="Col";var $O=["as","bsPrefix","column","srOnly","className","htmlFor"],UO={column:!1,srOnly:!1},ku=D.forwardRef(function(t,e){var n=t.as,r=n===void 0?"label":n,i=t.bsPrefix,s=t.column,o=t.srOnly,a=t.className,l=t.htmlFor,u=Se(t,$O),h=z.useContext(dn),d=h.controlId;i=ct(i,"form-label");var f="col-form-label";typeof s=="string"&&(f=f+" "+f+"-"+s);var v=Le(a,i,o&&"sr-only",s&&f);return l=l||d,s?D.createElement(xv,he({ref:e,as:"label",className:v,htmlFor:l},u)):D.createElement(r,he({ref:e,className:v,htmlFor:l},u))});ku.displayName="FormLabel";ku.defaultProps=UO;var qO=["bsPrefix","className","as","muted"],Ev=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.as,s=i===void 0?"small":i,o=t.muted,a=Se(t,qO);return n=ct(n,"form-text"),D.createElement(s,he({},a,{ref:e,className:Le(r,n,o&&"text-muted")}))});Ev.displayName="FormText";var qa=D.forwardRef(function(t,e){return D.createElement(kr,he({},t,{ref:e,type:"switch"}))});qa.displayName="Switch";qa.Input=kr.Input;qa.Label=kr.Label;var HO=["bsPrefix","inline","className","validated","as"],zO=hs("form-row"),GO={inline:!1},rt=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.inline,i=t.className,s=t.validated,o=t.as,a=o===void 0?"form":o,l=Se(t,HO);return n=ct(n,"form"),D.createElement(a,he({},l,{ref:e,className:Le(i,s&&"was-validated",r&&n+"-inline")}))});rt.displayName="Form";rt.defaultProps=GO;rt.Row=zO;rt.Group=Cv;rt.Control=LO;rt.Check=kr;rt.File=Ua;rt.Switch=qa;rt.Label=ku;rt.Text=Ev;const YO=({pianoComponentId:t})=>{const{state:e,dispatch:n}=us(),r=z.useRef({}),i=Zt(e,t);r.current.showFlats=N(i),r.current.isProgKey=i.isProgKey??!1,r.current.selectedChordKey=si(r.current.showFlats,i.selectedKey.noteLetter??"C"),r.current.type=i.selectedChord.type??"",r.current.id=i.id,r.current.slashChord=i.selectedChord.slash??!1,r.current.slashNote=si(r.current.showFlats,i.selectedChord.slashNote??""),r.current.noteArray=s(r.current.showFlats,i.selectedKey.noteLetter,i.selectedChord.slashNote??"");function s(E,T,P){let M=Object.values(ya);E&&!(T!=null&&T.startsWith("#"))&&(M=Object.values(Ri));const A=jo(e);return A&&(M=M.map(O=>_n(A,O))),!A||!Us(A,T)||!Us(A,P)?M.map(O=>Ii(O,T)?T??"":Ii(O,P)?P??"":O):M}function o(E){const T=jo(e);return _n(T,E)}z.useEffect(()=>{rp(i.piano)||Ai(i),e.building||Ai(i)});const a=E=>{if(!E.target.value)return;r.current.noteArray=s(r.current.showFlats,E.target.value);const T=o(E.target.value);f(i,T)},l=E=>{r.current.type=E.target.value,n({type:"UPDATE_CHORD_TYPE",id:i.id,chordType:r.current.type})},u=E=>{n({type:"SET_PROG_KEY",keyChecked:E.target.checked,id:i.id}),b(i)},h=E=>{r.current.slashChord=E.target.checked,r.current.slashChord||(r.current.slashNote=""),n({type:"UPDATE_SLASH_CHORD",isSlashChord:r.current.slashChord,id:i.id,slashNote:r.current.slashNote})},d=E=>{const T=E.target.checked,P=r.current.selectedChordKey;if(r.current.showFlats=T,n({type:"UPDATE_SHOW_FLATS",showFlats:r.current.showFlats,id:i.id}),r.current.isProgKey&&P.length>=2){let M;P.endsWith("b")&&!T?M=S_(P):P.includes("#")&&T&&(M=A_(P)),M&&f(i,M)}};function f(E,T){E.selectedKey.noteLetter=T,E.selectedChord.noteLetter=T,n({type:"UPDATE_KEY",id:E.id,payload:{noteLetter:T,octave:E.selectedKey.octave??0}}),E.isProgKey&&b(E)}const v=E=>{E.target.value&&g(i,E.target.value)};function g(E,T){T&&(r.current.slashNote=T,n({type:"UPDATE_SLASH_CHORD",isSlashChord:r.current.slashChord,slashNote:r.current.slashNote,id:E.id}))}const _=Object.keys(uu);function b(E){const T=E.selectedChord;for(const P of e.chordPianoSet)if(P.id!==E.id&&k(T,P),P.selectedChord.slash){const M=P.selectedChord.slashNote;C(T,M??"",P)}}function C(E,T,P){if(!T||!Us(E,T))return;const M=_n(E,T);M!==T&&(P.selectedChord.slashNote=M,n({type:"UPDATE_SLASH_CHORD",isSlashChord:!0,slashNote:M,id:P.id}))}function k(E,T){const P=T.selectedChord.noteLetter;if(Us(E,P)){const M=_n(E,P);M!==P&&(T.selectedKey.noteLetter=M,T.selectedChord.noteLetter=M,n({type:"UPDATE_KEY",id:T.id,payload:{noteLetter:M,octave:T.selectedKey.octave??0}}))}}function N(E){return!!(E.showFlats||E.selectedKey.noteLetter.includes("b")||E.selectedChord.slashNote!=null&&E.selectedChord.slashNote.includes("b"))}return I.jsx(rt,{className:"chordInputForm",children:I.jsxs(rt.Group,{controlId:"chordSelection",children:[I.jsx("div",{className:"chordInputSelection keySelection",children:I.jsx(rt.Control,{as:"select",value:o(r.current.selectedChordKey),custom:!0,className:"selectorBox",onChange:a,children:r.current.noteArray.map((E,T)=>(E=o(E),I.jsx("option",{value:E,children:E},T)))})}),I.jsx("div",{className:"chordInputSelection typeSelection",children:I.jsx(rt.Control,{className:"selectorBox",as:"select",value:r.current.type,custom:!0,onChange:l,children:_.map((E,T)=>I.jsx("option",{value:E,children:E},T))})}),I.jsx(rt.Check,{type:"checkbox",label:"key",checked:r.current.isProgKey,className:"keyCheckBox chordCheckBox",onChange:u},Number(r.current.id)),I.jsx(rt.Check,{type:"checkbox",label:"slash",checked:r.current.slashChord,className:"slashCheckBox chordCheckBox",onChange:h},`slash${r.current.id}`),I.jsx(rt.Check,{type:"checkbox",label:"b",checked:r.current.showFlats,className:"flatCheckBox chordCheckBox",onChange:d},`flat${r.current.id}`),I.jsxs("div",{className:"slashSelection",children:[I.jsx("div",{className:"slashSymbol","display-option":`${r.current.slashChord}`,children:"/"}),I.jsx("div",{className:"slashChordSelection","display-option":`${r.current.slashChord}`,children:I.jsx(rt.Control,{className:"selectorBox slashSelectorBox",as:"select",value:o(r.current.slashNote),custom:!0,onChange:v,children:r.current.noteArray.concat("").map((E,T)=>(Ii(r.current.slashNote,E)&&(E=r.current.slashNote,E=o(E)),I.jsx("option",{value:E,children:E},T)))})})]})]})})},Mv=({pianoComponentId:t})=>I.jsx(I.Fragment,{children:I.jsx("div",{className:"container chordPiano",id:"piano-"+t,children:I.jsx("div",{className:"contentBox row",children:I.jsxs("div",{className:"pianoChordBox",children:[I.jsx(YO,{className:"chordBox",pianoComponentId:t},`c-${t}`),I.jsx(MO,{className:"pianoBox",pianoComponentId:Number(t)},Number(t))]})})})});Mv.propTypes={pianoComponentId:te.number.isRequired};const XO=()=>{var l;const{state:t,dispatch:e}=us(),n=w_(),[r,i]=z.useState(!1),[s,o]=z.useState(0);z.useLayoutEffect(()=>{(()=>{const h=n.location.search+n.location.hash;!r&&h&&(e({type:"BUILD_PROG_FROM_CODE",payload:h}),i(!0),o(d=>d+1))})()},[n.location.search,n.location.hash,r,e]),z.useLayoutEffect(()=>{(()=>{t.refreshBoard&&t.refreshBoard!==s&&o(t.refreshBoard)})()},[t.refreshBoard,s]),z.useEffect(()=>{if(!t.chordPianoSet)return;const u=dg(t),h=n.location.search+n.location.hash;u!==h&&n.push({search:u})},[t,n]);const a=()=>{var u;return(u=t.chordPianoSet)==null?void 0:u.map(h=>I.jsxs("div",{children:[I.jsx(Mv,{id:`piano-${h.id}`,className:"row chordPianoComponent",pianoComponentId:Number(h.id),history:n},`piano-${h.id}-${s}`),I.jsx("div",{className:"pianoStrip"},`strip-${h.id}`)]},`wrapper-${h.id}-${s}`))};return I.jsx("div",{className:"pianoBoard",children:((l=t.chordPianoSet)==null?void 0:l.length)??!1?I.jsxs(I.Fragment,{children:[a(),I.jsx("div",{className:"pianoBoardGutter"})]}):I.jsx("div",{className:"introBody",children:I.jsxs("div",{className:"introText",children:["welcome to chord buildr",I.jsx("br",{}),"use the controls above to get started"]})})},`pianoBoard-${s}`)};var Qs;function Yo(t){if((!Qs&&Qs!==0||t)&&Ia){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Qs=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Qs}function KO(){return z.useState(null)}function QO(t){const e=z.useRef(t);return e.current=t,e}function Sv(t){const e=QO(t);z.useEffect(()=>()=>e.current(),[])}function Al(t){t===void 0&&(t=oi());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function uf(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function ZO(){const t=z.useRef(!0),e=z.useRef(()=>t.current);return z.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function JO(t){const e=z.useRef(null);return z.useEffect(()=>{e.current=t}),e.current}function e2(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function t2(t,e){t.classList?t.classList.add(e):e2(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function hf(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function n2(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=hf(t.className,e):t.setAttribute("class",hf(t.className&&t.className.baseVal||"",e))}function r2(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function dc(t){return"window"in t&&t.window===t?t:r2(t)&&t.defaultView||!1}function i2(t){return t&&t.tagName.toLowerCase()==="body"}function s2(t){var e=dc(t)?oi():oi(t),n=dc(t)||e.defaultView;return e.body.clientWidth<n.innerWidth}function o2(t){var e=dc(t);return e||i2(t)?s2(t):t.scrollHeight>t.clientHeight}var a2=["template","script","style"],l2=function(e){var n=e.nodeType,r=e.tagName;return n===1&&a2.indexOf(r.toLowerCase())===-1},Av=function(e,n,r){[].forEach.call(e.children,function(i){n.indexOf(i)===-1&&l2(i)&&r(i)})};function Xo(t,e){e&&(t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"))}function c2(t,e){var n=e.dialog,r=e.backdrop;Av(t,[n,r],function(i){return Xo(!0,i)})}function u2(t,e){var n=e.dialog,r=e.backdrop;Av(t,[n,r],function(i){return Xo(!1,i)})}function h2(t,e){var n=-1;return t.some(function(r,i){return e(r,i)?(n=i,!0):!1}),n}var Ha=function(){function t(n){var r=n===void 0?{}:n,i=r.hideSiblingNodes,s=i===void 0?!0:i,o=r.handleContainerOverflow,a=o===void 0?!0:o;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=s,this.handleContainerOverflow=a,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=Yo()}var e=t.prototype;return e.isContainerOverflowing=function(r){var i=this.data[this.containerIndexFromModal(r)];return i&&i.overflowing},e.containerIndexFromModal=function(r){return h2(this.data,function(i){return i.modals.indexOf(r)!==-1})},e.setContainerStyle=function(r,i){var s={overflow:"hidden"};r.style={overflow:i.style.overflow,paddingRight:i.style.paddingRight},r.overflowing&&(s.paddingRight=parseInt(On(i,"paddingRight")||"0",10)+this.scrollbarSize+"px"),On(i,s)},e.removeContainerStyle=function(r,i){Object.assign(i.style,r.style)},e.add=function(r,i,s){var o=this.modals.indexOf(r),a=this.containers.indexOf(i);if(o!==-1)return o;if(o=this.modals.length,this.modals.push(r),this.hideSiblingNodes&&c2(i,r),a!==-1)return this.data[a].modals.push(r),o;var l={modals:[r],classes:s?s.split(/\s+/):[],overflowing:o2(i)};return this.handleContainerOverflow&&this.setContainerStyle(l,i),l.classes.forEach(t2.bind(null,i)),this.containers.push(i),this.data.push(l),o},e.remove=function(r){var i=this.modals.indexOf(r);if(i!==-1){var s=this.containerIndexFromModal(r),o=this.data[s],a=this.containers[s];if(o.modals.splice(o.modals.indexOf(r),1),this.modals.splice(i,1),o.modals.length===0)o.classes.forEach(n2.bind(null,a)),this.handleContainerOverflow&&this.removeContainerStyle(o,a),this.hideSiblingNodes&&u2(a,r),this.containers.splice(s,1),this.data.splice(s,1);else if(this.hideSiblingNodes){var l=o.modals[o.modals.length-1],u=l.backdrop,h=l.dialog;Xo(!1,h),Xo(!1,u)}}},e.isTopModal=function(r){return!!this.modals.length&&this.modals[this.modals.length-1]===r},t}(),Nl=function(e){var n;return typeof document>"u"?null:e==null?oi().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function d2(t,e){var n=z.useState(function(){return Nl(t)}),r=n[0],i=n[1];if(!r){var s=Nl(t);s&&i(s)}return z.useEffect(function(){},[e,r]),z.useEffect(function(){var o=Nl(t);o!==r&&i(o)},[t,r]),r}var kl;function f2(){return kl||(kl=new Ha),kl}function p2(t){var e=t||f2(),n=z.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:function(i,s){return e.add(n.current,i,s)},remove:function(){return e.remove(n.current)},isTopModal:function(){return e.isTopModal(n.current)},setDialogRef:z.useCallback(function(r){n.current.dialog=r},[]),setBackdropRef:z.useCallback(function(r){n.current.backdrop=r},[])})}var Ou=z.forwardRef(function(t,e){var n=t.show,r=n===void 0?!1:n,i=t.role,s=i===void 0?"dialog":i,o=t.className,a=t.style,l=t.children,u=t.backdrop,h=u===void 0?!0:u,d=t.keyboard,f=d===void 0?!0:d,v=t.onBackdropClick,g=t.onEscapeKeyDown,_=t.transition,b=t.backdropTransition,C=t.autoFocus,k=C===void 0?!0:C,N=t.enforceFocus,E=N===void 0?!0:N,T=t.restoreFocus,P=T===void 0?!0:T,M=t.restoreFocusOptions,A=t.renderDialog,O=t.renderBackdrop,R=O===void 0?function(Me){return D.createElement("div",Me)}:O,j=t.manager,F=t.container,U=t.containerClassName,$=t.onShow,X=t.onHide,G=X===void 0?function(){}:X,Y=t.onExit,ne=t.onExited,B=t.onExiting,W=t.onEnter,q=t.onEntering,Q=t.onEntered,ce=Se(t,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),pe=d2(F),J=p2(j),fe=ZO(),me=JO(r),re=z.useState(!r),De=re[0],et=re[1],ft=z.useRef(null);z.useImperativeHandle(e,function(){return J},[J]),Ia&&!me&&r&&(ft.current=Al()),!_&&!r&&!De?et(!0):r&&De&&et(!1);var Pt=Nn(function(){if(J.add(pe,U),Pe.current=Vo(document,"keydown",ae),Ae.current=Vo(document,"focus",function(){return setTimeout(Ct)},!0),$&&$(),k){var Me=Al(document);J.dialog&&Me&&!uf(J.dialog,Me)&&(ft.current=Me,J.dialog.focus())}}),bt=Nn(function(){if(J.remove(),Pe.current==null||Pe.current(),Ae.current==null||Ae.current(),P){var Me;(Me=ft.current)==null||Me.focus==null||Me.focus(M),ft.current=null}});z.useEffect(function(){!r||!pe||Pt()},[r,pe,Pt]),z.useEffect(function(){De&&bt()},[De,bt]),Sv(function(){bt()});var Ct=Nn(function(){if(!(!E||!fe()||!J.isTopModal())){var Me=Al();J.dialog&&Me&&!uf(J.dialog,Me)&&J.dialog.focus()}}),K=Nn(function(Me){Me.target===Me.currentTarget&&(v==null||v(Me),h===!0&&G())}),ae=Nn(function(Me){f&&Me.keyCode===27&&J.isTopModal()&&(g==null||g(Me),Me.defaultPrevented||G())}),Ae=z.useRef(),Pe=z.useRef(),be=function(){et(!0);for(var ye=arguments.length,de=new Array(ye),Z=0;Z<ye;Z++)de[Z]=arguments[Z];ne==null||ne.apply(void 0,de)},Ce=_;if(!pe||!(r||Ce&&!De))return null;var Be=he({role:s,ref:J.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},ce,{style:a,className:o,tabIndex:-1}),st=A?A(Be):D.createElement("div",Be,D.cloneElement(l,{role:"document"}));Ce&&(st=D.createElement(Ce,{appear:!0,unmountOnExit:!0,in:!!r,onExit:Y,onExiting:B,onExited:be,onEnter:W,onEntering:q,onEntered:Q},st));var Oe=null;if(h){var tt=b;Oe=R({ref:J.setBackdropRef,onClick:K}),tt&&(Oe=D.createElement(tt,{appear:!0,in:!!r},Oe))}return D.createElement(D.Fragment,null,xi.createPortal(D.createElement(D.Fragment,null,Oe,st),pe))}),m2={show:te.bool,container:te.any,onShow:te.func,onHide:te.func,backdrop:te.oneOfType([te.bool,te.oneOf(["static"])]),renderDialog:te.func,renderBackdrop:te.func,onEscapeKeyDown:te.func,onBackdropClick:te.func,containerClassName:te.string,keyboard:te.bool,transition:te.elementType,backdropTransition:te.elementType,autoFocus:te.bool,enforceFocus:te.bool,restoreFocus:te.bool,restoreFocusOptions:te.shape({preventScroll:te.bool}),onEnter:te.func,onEntering:te.func,onEntered:te.func,onExit:te.func,onExiting:te.func,onExited:te.func,manager:te.instanceOf(Ha)};Ou.displayName="Modal";Ou.propTypes=m2;const g2=Object.assign(Ou,{Manager:Ha});var v2=Function.prototype.bind.call(Function.prototype.call,[].slice);function jr(t,e){return v2(t.querySelectorAll(e))}var Lr={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},y2=function(t){nn(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.adjustAndStore=function(i,s,o){var a,l=s.style[i];s.dataset[i]=l,On(s,(a={},a[i]=parseFloat(On(s,i))+o+"px",a))},n.restore=function(i,s){var o=s.dataset[i];if(o!==void 0){var a;delete s.dataset[i],On(s,(a={},a[i]=o,a))}},n.setContainerStyle=function(i,s){var o=this;if(t.prototype.setContainerStyle.call(this,i,s),!!i.overflowing){var a=Yo();jr(s,Lr.FIXED_CONTENT).forEach(function(l){return o.adjustAndStore("paddingRight",l,a)}),jr(s,Lr.STICKY_CONTENT).forEach(function(l){return o.adjustAndStore("marginRight",l,-a)}),jr(s,Lr.NAVBAR_TOGGLER).forEach(function(l){return o.adjustAndStore("marginRight",l,a)})}},n.removeContainerStyle=function(i,s){var o=this;t.prototype.removeContainerStyle.call(this,i,s),jr(s,Lr.FIXED_CONTENT).forEach(function(a){return o.restore("paddingRight",a)}),jr(s,Lr.STICKY_CONTENT).forEach(function(a){return o.restore("marginRight",a)}),jr(s,Lr.NAVBAR_TOGGLER).forEach(function(a){return o.restore("marginRight",a)})},e}(Ha),_2=["className","children"],Zs,b2={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},w2=(Zs={},Zs[An]="show",Zs[Qn]="show",Zs),za=D.forwardRef(function(t,e){var n=t.className,r=t.children,i=Se(t,_2),s=z.useCallback(function(o){Pg(o),i.onEnter&&i.onEnter(o)},[i]);return D.createElement(En,he({ref:e,addEndListener:Tg},i,{onEnter:s}),function(o,a){return D.cloneElement(r,he({},a,{className:Le("fade",n,r.props.className,w2[o])}))})});za.defaultProps=b2;za.displayName="Fade";const T2=hs("modal-body");var Nv=D.createContext({onHide:function(){}}),P2=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],Iu=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.contentClassName,s=t.centered,o=t.size,a=t.children,l=t.scrollable,u=Se(t,P2);n=ct(n,"modal");var h=n+"-dialog";return D.createElement("div",he({},u,{ref:e,className:Le(h,r,o&&n+"-"+o,s&&h+"-centered",l&&h+"-scrollable")}),D.createElement("div",{className:Le(n+"-content",i)},a))});Iu.displayName="ModalDialog";const C2=hs("modal-footer");var x2=["label","onClick","className"],E2={label:te.string.isRequired,onClick:te.func},M2={label:"Close"},Ga=D.forwardRef(function(t,e){var n=t.label,r=t.onClick,i=t.className,s=Se(t,x2);return D.createElement("button",he({ref:e,type:"button",className:Le("close",i),onClick:r},s),D.createElement("span",{"aria-hidden":"true"},""),D.createElement("span",{className:"sr-only"},n))});Ga.displayName="CloseButton";Ga.propTypes=E2;Ga.defaultProps=M2;var S2=["bsPrefix","closeLabel","closeButton","onHide","className","children"],A2={closeLabel:"Close",closeButton:!1},Du=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.closeLabel,i=t.closeButton,s=t.onHide,o=t.className,a=t.children,l=Se(t,S2);n=ct(n,"modal-header");var u=z.useContext(Nv),h=Nn(function(){u&&u.onHide(),s&&s()});return D.createElement("div",he({ref:e},l,{className:Le(o,n)}),a,i&&D.createElement(Ga,{label:r,onClick:h}))});Du.displayName="ModalHeader";Du.defaultProps=A2;const N2=function(t){return D.forwardRef(function(e,n){return D.createElement("div",he({},e,{ref:n,className:Le(e.className,t)}))})};var k2=N2("h4");const O2=hs("modal-title",{Component:k2});var I2=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],Ol,D2={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Iu};function R2(t){return D.createElement(za,he({},t,{timeout:null}))}function F2(t){return D.createElement(za,he({},t,{timeout:null}))}var vt=D.forwardRef(function(t,e){var n=t.bsPrefix,r=t.className,i=t.style,s=t.dialogClassName,o=t.contentClassName,a=t.children,l=t.dialogAs,u=t["aria-labelledby"],h=t["aria-describedby"],d=t["aria-label"],f=t.show,v=t.animation,g=t.backdrop,_=t.keyboard,b=t.onEscapeKeyDown,C=t.onShow,k=t.onHide,N=t.container,E=t.autoFocus,T=t.enforceFocus,P=t.restoreFocus,M=t.restoreFocusOptions,A=t.onEntered,O=t.onExit,R=t.onExiting,j=t.onEnter,F=t.onEntering,U=t.onExited,$=t.backdropClassName,X=t.manager,G=Se(t,I2),Y=z.useState({}),ne=Y[0],B=Y[1],W=z.useState(!1),q=W[0],Q=W[1],ce=z.useRef(!1),pe=z.useRef(!1),J=z.useRef(null),fe=KO(),me=fe[0],re=fe[1],De=Nn(k);n=ct(n,"modal"),z.useImperativeHandle(e,function(){return{get _modal(){return me}}},[me]);var et=z.useMemo(function(){return{onHide:De}},[De]);function ft(){return X||(Ol||(Ol=new y2),Ol)}function Pt(de){if(Ia){var Z=ft().isContainerOverflowing(me),Ee=de.scrollHeight>oi(de).documentElement.clientHeight;B({paddingRight:Z&&!Ee?Yo():void 0,paddingLeft:!Z&&Ee?Yo():void 0})}}var bt=Nn(function(){me&&Pt(me.dialog)});Sv(function(){tc(window,"resize",bt),J.current&&J.current()});var Ct=function(){ce.current=!0},K=function(Z){ce.current&&me&&Z.target===me.dialog&&(pe.current=!0),ce.current=!1},ae=function(){Q(!0),J.current=wg(me.dialog,function(){Q(!1)})},Ae=function(Z){Z.target===Z.currentTarget&&ae()},Pe=function(Z){if(g==="static"){Ae(Z);return}if(pe.current||Z.target!==Z.currentTarget){pe.current=!1;return}k==null||k()},be=function(Z){!_&&g==="static"?(Z.preventDefault(),ae()):_&&b&&b(Z)},Ce=function(Z,Ee){Z&&(Z.style.display="block",Pt(Z)),j==null||j(Z,Ee)},Be=function(Z){J.current==null||J.current(),O==null||O(Z)},st=function(Z,Ee){F==null||F(Z,Ee),bg(window,"resize",bt)},Oe=function(Z){Z&&(Z.style.display=""),U==null||U(Z),tc(window,"resize",bt)},tt=z.useCallback(function(de){return D.createElement("div",he({},de,{className:Le(n+"-backdrop",$,!v&&"show")}))},[v,$,n]),Me=he({},i,ne);v||(Me.display="block");var ye=function(Z){return D.createElement("div",he({role:"dialog"},Z,{style:Me,className:Le(r,n,q&&n+"-static"),onClick:g?Pe:void 0,onMouseUp:K,"aria-label":d,"aria-labelledby":u,"aria-describedby":h}),D.createElement(l,he({},G,{onMouseDown:Ct,className:s,contentClassName:o}),a))};return D.createElement(Nv.Provider,{value:et},D.createElement(g2,{show:f,ref:re,backdrop:g,container:N,keyboard:!0,autoFocus:E,enforceFocus:T,restoreFocus:P,restoreFocusOptions:M,onEscapeKeyDown:be,onShow:C,onHide:k,onEnter:Ce,onEntering:st,onEntered:A,onExit:Be,onExiting:R,onExited:Oe,manager:ft(),containerClassName:n+"-open",transition:v?R2:void 0,backdropTransition:v?F2:void 0,renderBackdrop:tt,renderDialog:ye}))});vt.displayName="Modal";vt.defaultProps=D2;vt.Body=T2;vt.Header=Du;vt.Title=O2;vt.Footer=C2;vt.Dialog=Iu;vt.TRANSITION_DURATION=300;vt.BACKDROP_TRANSITION_DURATION=150;function j2(t){return I.jsxs(vt,{...t,size:"l",className:"aboutModal","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[I.jsx(vt.Header,{className:"modalHeader",closeButton:!0,children:I.jsx("div",{className:"headerBackground"})}),I.jsxs(vt.Body,{children:[I.jsx("p",{className:"aboutDescriptionText",children:"Chord Buildr provides an easy way for musicians and music lovers to create and share chord progressions."}),I.jsx("hr",{className:"modalLine"}),I.jsxs("p",{children:[I.jsxs("h6",{children:[I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-music-note",viewBox:"0 0 16 16",style:{"margin-right":"4px"},children:[I.jsx("path",{d:"M9 13c0 1.105-1.12 2-2.5 2S4 14.105 4 13s1.12-2 2.5-2 2.5.895 2.5 2z"}),I.jsx("path",{"fill-rule":"evenodd",d:"M9 3v10H8V3h1z"}),I.jsx("path",{d:"M8 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 13 2.22V4L8 5V2.82z"})]})," ","transpose"]}),I.jsxs("div",{className:"aboutFeatureText",children:["Mark a chord as the key and the rest of your progression will transpose as you change its root note."," "]}),I.jsx("br",{}),I.jsxs("h6",{children:[I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-music-note-beamed",viewBox:"0 0 16 16",style:{"margin-right":"4px"},children:[I.jsx("path",{d:"M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"}),I.jsx("path",{"fill-rule":"evenodd",d:"M14 11V2h1v9h-1zM6 3v10H5V3h1z"}),I.jsx("path",{d:"M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"})]})," ","share"]}),I.jsx("div",{className:"aboutFeatureText",children:"To share a progression, simply copy the URL. No account needed!"}),I.jsx("br",{})]}),I.jsxs("p",{className:"creditsText",children:["Chord Buildr is an"," ",I.jsx("a",{className:"modalText",href:"https://github.com/jekrch/chord-buildr",children:"open source"})," ","project ",I.jsx("br",{})," by"," ",I.jsx("a",{className:"modalText",href:"https://www.jacobkrch.com",children:"Jacob Krch"})," ","and"," ",I.jsx("a",{className:"modalText",href:"https://www.linkedin.com/in/teran-keith-210941107/",children:"Teran Keith"})]}),I.jsxs("p",{className:"copyrightText",children:[" 2020-",new Date().getFullYear()," Jacob Krch All Rights Reserved"]})]})]})}function L2(t){const e=({version:n,date:r,items:i})=>I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"verHeader",children:[n," - ",I.jsx("span",{className:"verDate",children:r})]}),I.jsx("p",{children:i.map((s,o)=>I.jsx("div",{className:"verItem",children:s},o))})]});return I.jsxs(vt,{...t,size:"l","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[I.jsxs(vt.Header,{className:"modalHeader",closeButton:!0,children:[I.jsx("div",{className:"headerBackground"}),I.jsx("p",{className:"versionDescriptionText changeLogHeader",children:"change log"}),I.jsx("br",{})]}),I.jsxs(vt.Body,{class:"verModalBody",scrollable:!0,style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"},children:[I.jsx("br",{}),I.jsx("div",{children:I.jsx("div",{class:"versionList",children:I.jsxs("p",{children:[I.jsx(e,{version:"1.8",date:"11.03.2024",items:["migrated to typescript and vite"]}),I.jsx(e,{version:"1.7.1",date:"03.27.2023",items:["fixed bug with slash note notation which caused slash notes to some times use inconsistent accidentals between views"]}),I.jsx(e,{version:"1.7",date:"03.27.2023",items:["when a key is selected, the other note letters adjust to display the correct notation in that key"]}),I.jsx(e,{version:"1.6",date:"03.05.2023",items:["when a key is selected, display a roman numeral for each chord","users can now edit their progression directly in text by clicking on the edit icon in the top nav"]}),I.jsx(e,{version:"1.5",date:"02.05.2023",items:["add play button to header for cycling through chords","disable header buttons when unavailable"]}),I.jsx(e,{version:"1.4",date:"09.19.2021",items:["add synth settings modal","volume control and five synth voice options","backwards compatible url encoding for synth settings"]}),I.jsx(e,{version:"1.3",date:"09.11.2021",items:["adjust volume to reduce distortion","modify chord volume according to pitch","version history modal"]}),I.jsx(e,{version:"1.2",date:"09.05.2021",items:["display flats instead of sharps for a given chord piano","security updates"]}),I.jsx(e,{version:"1.1",date:"05.16.2021",items:["redesigned UI for mobile","improved url handling for facebook and google","performance improvements"]}),I.jsx(e,{version:"1.0",date:"03.20.2021",items:["user chord input with interactive keyboards","url encoded progressions for sharing","synth playback via buttons and chord chart","undo and clear functionality","navigate to chords on chart click"]})]})})})]})]})}/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */var V2={prefix:"fas",iconName:"cog",icon:[512,512,[],"f013","M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"]},B2={prefix:"fas",iconName:"play-circle",icon:[512,512,[],"f144","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"]};function W2(t){const{state:e,dispatch:n}=us(),r=z.useRef({synthType:e.synth,volume:e.volume}),[i,s]=z.useState(e.volume),o=d=>{r.current.synthType=d.target.value,n({type:"UPDATE_SYNTH",synth:r.current.synthType})},a=d=>{s(Number(d.target.value))},l=d=>{const f=Number(d.target.value);r.current.volume!==f&&(e.building=!0,r.current.volume=f,n({type:"UPDATE_SYNTH_VOLUME",volume:r.current.volume}),e.building=!1)},u=()=>{const d=e.chordPianoSet;if(!(d!=null&&d.length)){h();return}fu(n,e,d[0].id)},h=()=>{n({type:"ADD_CHORD_PIANO",payload:"selectedKey"})};return I.jsxs(vt,{...t,size:"lg",className:"configModal","aria-labelledby":"contained-modal-title-vcenter",centered:!0,transition:!1,children:[I.jsx(vt.Header,{className:"modalHeader",closeButton:!0,children:I.jsx("div",{})}),I.jsx(vt.Body,{children:I.jsxs("p",{children:[I.jsxs("div",{className:"configSettings",children:[I.jsx("br",{}),I.jsx("br",{}),I.jsx(rt.Control,{className:"selectorBox synthSelector",as:"select",value:r.current.synthType,custom:!0,onChange:o,children:Object.entries(hg).map(([d,f])=>I.jsx("option",{value:d,children:f},`k-${d}`))}),I.jsx("br",{}),I.jsx("br",{}),I.jsx(rt,{children:I.jsx(rt.Group,{controlId:"formBasicRange",children:I.jsx(rt.Control,{type:"range",value:i,onChange:a,onMouseUp:l,onTouchEnd:l})})})]}),I.jsx("div",{className:"configChordPlayBtn",children:I.jsx(_s,{className:"chordPlayIcon",style:{marginTop:"-1em",marginLeft:"-0.9em"},size:"5x",height:30,icon:B2,onClick:u})})]})})]})}const $2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwQTM4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwQTI4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMyOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJBNDE0QUJDOTlBMTExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8kSqyAAADD5JREFUeNrsXQ2QlVUZfllYUBe2YCuQFNel9Q9EcVEQSA3xB2pTSVcESjELnZomBW0ya5w0m1GyzKSmtEYDc6hGohRDrUGQZUko0EARCAXK+FEwXFz2yvY+fO/d+fbu/fm++533+7n3PDPPwC6Xc77zPvc7P+95z3t6dHR0kEXpoleJtGMwcwTzE8w6Zi1zELNG2JfZJ+P/tDEPMPcK32JuY25lbmauZ/476YbpkcA3+BjmucxxwlHMAUp1vc18ifmisJnZagU2jyHMKcxJzPOzvI1hAW/9MuYS5pPMN6zAxeNjzOnMq5mjY/qMLcyFzPnMXVZgb7iQOYt5ObMyIT1hO/MPzJ8xn7cCZ5/sTWXeKpOlJAOTs/uYTzBT5S4whJ3BvIM5tMRWKFuYd0v3nSpHgT/NnMs8pcSXoq8xZzOfKheBT2I+wLy0zHwOzzC/LoKHhooQ68KE6XYZo8pNXJI2rxMbVJbaG3wa83HmGWRBIvQ05oakv8E9mF9hrrHidsEZYpOvio0S+QbD//tL5lVWz7z4HXMmOX7xxAhcz1wkXbNFYWxkXsZ8PQld9HjmKiuuL5wqNhsfd4GbyHHVDbCa+cYAsV1TXAXGOPIbZm+rVdHoLTa8Pm4C3yQTqgqrkRFNHhGbxmKSNVPEtTCPLwa1bVCBm6RLsW+uDg4zryFnzzl0gcfLpMCOubo4RM4e+YowBa6Xab2dLYcDxIaNKWadXIzA8FCtlrWbRXiAM+Qc8unx8jt2wm/6KytuJDhVbN9DU2BsHFwZ8EH3keNof1n+XurYJ21Fm/cHLOtK0UCli4brcS0FD1n9DHWNbjhOJhHYL4U/9uiEC3qQnAC8Z2QSusP1b43MxQHLR+huA/OfJgXGBvXfKPiWHyYLOHHQnuPfq8mJ0UJUZdKC7/CWIqoSMVjv5rHjf5n9A9aF/eSz89jRdxd9G5nZz11S4KFgmHlSF4LcWxIg7Gp51hHy7O/m+Wy72CAoYJ9vmBqDT2Z+25AxXvDxWXRxOKLyOXLOC8UNW2VMHCPP6hXLDdV/h2gTuIv+M/NiQw/VIOO4X2DcnyNftFxzgDdkXHqVuZOcg2MgDpa9J2Njm6s8jPVV5BxOGyz8ODlRnsOYJ+QZA+9h3st8v0gbvGTInkuZlwQRGKGtfzL0MO1i0PYAZcDBAkf8cOZK6RGWy/hnOiIC6/3TyfHYnUfOQTd8gW6gYJGRlfKFMxV4lzlp9SxwL2nQSYYe5M08b4XftTh4OOQuOT2cmah3u6weTOB1WeGk/I7BMwyKC7xlqJyOCMRNC2uq3v8YfK560crXJKtSBnHT60MLB6bPGEOr3n4ExkGwoVaHxABaXe1H4DkKD3GU1aETGt66W70KPJF0vEgnWF07MUShzNNFu4IC36jUqIHMflbbIzYYqFT2TYUERtqEzypVjqXNWVbfIzbQOq7SKBrmFHgG6Z58m2j1VbVBZeaSKVPgJuXGNVp91W3QlEtgJBDTzmZzt9VX3Qaj3Utct8CXK1d8Fzkn6codsMF3leu4LJvAkxQrXBVCo5KEu8QmWpjcObOVzQakB0S0hUYGuQ9kjbbR6toF2JbELphGvlBsaSKkuTX9Bo8jvfSAD1lxs+JVsY0G+oimnV30WKWKsCH+PatlTtxDxQUNeMFYt8DjlCr5NcU0h2NMsEtspIFx7jF4L+kcQ8GUfbXVMS9wWkEjuBBzqhoIjDikHQoVbCW75egVW8QPYRrHoYvWij9+2urmGUuUyh0BgeuVCl9hdYvcVvUQuFapcDv2Rm+rWi2BERr7ptXNM2CrlJbAgxQKRljoB1Y3z4C4OxXKHQSBaxQK/p/VzDc0jtLWaAm83+rlGwe0BNaIk+pp9fINjU2HfhBYI0tOX6uXb2iEFffWym9VZfXyjWqNQrUEtrmzYmIz+KI1EkYfki7HXm3q/UXDtmGlRsEppW/jYKubZwwmnXDlVIXikuZEq5tn1CmVu7+C9HJV1VndIn8Z9kHg3UqFj7K6ecbZSuXuhsA7lQofa3WL3FY7NQU+k5xwXIvCPoMRmgJvVioc7soJVr+CmEB6rt3NEHiT4sNPsfoVxBWKZW+CowPpfLYrVYBtQ+w3t1odswJDGLIPaR2MPx5vMCIq9ypVgAefbnXMiemK4iJsdkfaF71GsRG3kL20Ixt6iW20cCRdYtrwKxUrwiGra62e3fB50r39vNkt8IvKjcEZnGqraSeqxSaaWOEWGD+0KVaGidb9VtdO/Ih0gh3TaMsUGFtVy5UbhVu8plltjyRJmalcx3LRtMvk548hNO5hcpJ8lytw4u/nIdTTmQLanU4Ymei2hVA5Ut4jwXhLmYmLk5ZLQ5qL1JKTIL3LG4xfhHHcpFoaenEZiYv8J8+GJO7qtLiUZX26IMRZJE7U3UmlHWKLtiFt0lMUXhrHx90/ZGZ8/yg5u0uVIRoBSzRc9rSuxMRFysJ5pJ97zA2cCYPreVeuNxib/4simHjAk/YT0snCGjYQnfELcjxJo0OuexFlpMzIdmfDBcy/+ii0WWZtKBjZArB5jS2wXkV+AzFM/JSSdfwUyUU/SU6m3qYIh50JmdrlupQDV9+M9FAgbg/5EHU/SYiu/mbmbCo+3hepl56QL8/fKX4huD1lyYekY1Mp+iBDDHFndvvm5RAYi3Gv2V9uZ34/y0IbnpTH5I0cGfDhcR3cC9Jb4Iq9Vyj8iy0xtuE6n1HSS0HcD8foCwff9nyvAqN7RaIur0lUHiDnqrU215pvgMyUEZKykFzp9QwB25xbZD39TTJ/Ewsmmj+WttRJTxVXwA7YuOge4w6Bc/DaDn/YyByZUcYVzGXMY+VP0ziQpU6TbGC+3xF/XJerDfkaV8Fc77OiVuYlrjKGMXczJzFrmNsNN2yWorhpfi3m4r4sWmV9/kJX28ED4zcdEu5HQlbzbHvMkynPNWxFTCrOIv1LsjCZQtLQuN56PpnypGEqFGmxhPzfXYgrY35PXe8OqBJXHcaIRw017D4K5wY0rBDujam4T1OBHFtebh/FRAt3GPrNRovdqfQFH8fIpAj37OG2TORKPjlAwxDMN5DCu02trziB4nT3Eya0w2SCRcW+wekZ2neKeIBG18y5VTxWt8nyppGCBdz/hcK9Ku+A1Bkn3FlIXK8CA/dTcXfe/sBVBxwXy6S7xloSV9duKLJxKyMwaJwy98G1O9fLB70KnBLnh9+35hTqfssI7uPFjseD5By6wpfgkI8yEai/NAKjxiWp+UHRImVSYOA1cT/6xeyMn58jJ7LjoHTdc8TN9y1ydpYyg+T3iGcM9xyMkS/NPyIw7LaYCHyzOKG8oYh14fwi1mrn5invROazzAeZR8nv+jOHMPu5PjeKOZd5fghr32ysjcGad4Hf5y6moVXMdT4frJnZM0d5dcw98rkG+d158rsNIjZ+t1Y+Mz8igT8SsbhwOvX1+9zFnDh4T5Y/fg6Oj5FZXzYgcfjx5ISRrnGNM0jQ+S+Xfxt3AV3KvD6irjEVYbe8R2zuOxuel3VwLmA35XnydxcuIjfmUTKBnaN3IppUTSx25RDkzBC27qb69CY9JNP7ygQKHMUzw7bTgiwLgx4KW8z8gk+RMatGQMFFCRO4KgJxYdtAIVQmTv0tkHHRj8jDZS2Lvdwbyd8xjmOp9JOdwpazyECUa5AxOBM46/pYgC8N3G6vyHpzn6yHEeuEdMfYuKgl54o8BBL0p/AjOmpl0hfWm2skhNlkCls8EJKqLfQ58UpjKHmPIOlTom/uQZnXLDZVoOmD2dha/BTp33Z2dAmKC5tdaFJcDYFJxtVzInInJhXrxWbNpgvWSq2AszHYVHjUalcQiF4dS67zREkQGIDH6zrmDfJ3i+72+ZJMqNTsE0ZylEfICchusZp2GcYQT/awdkVhZb9BNj1EdNxC4UZixHGWPEdssSmMCsNMb4TgtR+SE534ZBmKizafRk6AQ2iXhkWRvwqTiSmyJFhbBsLiXNVF0uZtYVceZYIyBLEhNusa8h8Ok4SUTBulbWjjc1E9RNQZ6OAnxQlC+KZx7HKVx//3dgTP6jXNVIu0Zbi07XCUBjbpizYFBAekz9lm81itoeiyySOytCGH+L8l51zzyjgZM44Cp4EN9qvI2cRAcAE2HnC4+ctaTgEPqCXn9P4F8maix1kg4r4TRyPGWWCLEhiDLZTxfwEGAIg2ItsKhKpcAAAAAElFTkSuQmCC",U2="v1.8.1",q2="https://github.com/jekrch/chord-buildr",H2=()=>{const[t,e]=z.useState({about:!1,config:!1,version:!1}),n=i=>{e(s=>({...s,[i]:!0}))},r=i=>{e(s=>({...s,[i]:!1}))};return I.jsxs(jn,{className:"footNav",fixed:"bottom",children:[I.jsx(jn.Brand,{href:q2,children:I.jsx("img",{className:"gitSrc",src:$2,alt:"GitHub Repository"})}),I.jsx("div",{className:"footNavVersion",onClick:()=>n("version"),role:"button",tabIndex:0,children:U2}),I.jsx("div",{className:"footNavAbout",onClick:()=>n("about"),role:"button",tabIndex:0,children:"about"}),I.jsx(_s,{className:"footNavCog",icon:V2,onClick:()=>n("config"),role:"button",tabIndex:0}),I.jsx(j2,{show:t.about,onHide:()=>r("about")}),I.jsx(L2,{show:t.version,onHide:()=>r("version")}),I.jsx(W2,{show:t.config,onHide:()=>r("config")}),I.jsx("h1",{className:"titleText",children:"chord buildr"})]})},z2=()=>I.jsx("div",{className:"App",children:I.jsxs(uS,{children:[I.jsx(Zk,{}),I.jsx("div",{className:"mainContainer",children:I.jsx(T_,{children:I.jsx(__,{children:I.jsx(g_,{exact:!0,path:["/","/chord-buildr/"],component:XO})})})}),I.jsx(H2,{})]})});var df={exports:{}};/*!
  * Bootstrap v4.6.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){r(e,dy())})(gr,function(n,r){function i(m){return m&&typeof m=="object"&&"default"in m?m:{default:m}}var s=i(r);function o(m,y){for(var c=0;c<y.length;c++){var p=y[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}function a(m,y,c){return c&&o(m,c),Object.defineProperty(m,"prototype",{writable:!1}),m}function l(){return l=Object.assign?Object.assign.bind():function(m){for(var y=1;y<arguments.length;y++){var c=arguments[y];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(m[p]=c[p])}return m},l.apply(this,arguments)}function u(m,y){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,p){return c.__proto__=p,c},u(m,y)}var h="transitionend",d={TRANSITION_END:"bsTransitionEnd",getUID:function(m){do m+=~~(1e6*Math.random());while(document.getElementById(m));return m},getSelectorFromElement:function(m){var y=m.getAttribute("data-target");if(!y||y==="#"){var c=m.getAttribute("href");y=c&&c!=="#"?c.trim():""}try{return document.querySelector(y)?y:null}catch{return null}},getTransitionDurationFromElement:function(m){if(!m)return 0;var y=s.default(m).css("transition-duration"),c=s.default(m).css("transition-delay"),p=parseFloat(y),w=parseFloat(c);return p||w?(y=y.split(",")[0],c=c.split(",")[0],1e3*(parseFloat(y)+parseFloat(c))):0},reflow:function(m){return m.offsetHeight},triggerTransitionEnd:function(m){s.default(m).trigger(h)},supportsTransitionEnd:function(){return!!h},isElement:function(m){return(m[0]||m).nodeType},typeCheckConfig:function(m,y,c){for(var p in c)if(Object.prototype.hasOwnProperty.call(c,p)){var w=c[p],x=y[p],S=x&&d.isElement(x)?"element":(L=x)===null||typeof L>"u"?""+L:{}.toString.call(L).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(w).test(S))throw new Error(m.toUpperCase()+': Option "'+p+'" provided type "'+S+'" but expected type "'+w+'".')}var L},findShadowRoot:function(m){if(!document.documentElement.attachShadow)return null;if(typeof m.getRootNode=="function"){var y=m.getRootNode();return y instanceof ShadowRoot?y:null}return m instanceof ShadowRoot?m:m.parentNode?d.findShadowRoot(m.parentNode):null},jQueryDetection:function(){if(typeof s.default>"u")throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var m=s.default.fn.jquery.split(" ")[0].split(".");if(m[0]<2&&m[1]<9||m[0]===1&&m[1]===9&&m[2]<1||m[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};d.jQueryDetection(),s.default.fn.emulateTransitionEnd=function(m){var y=this,c=!1;return s.default(this).one(d.TRANSITION_END,function(){c=!0}),setTimeout(function(){c||d.triggerTransitionEnd(y)},m),this},s.default.event.special[d.TRANSITION_END]={bindType:h,delegateType:h,handle:function(m){if(s.default(m.target).is(this))return m.handleObj.handler.apply(this,arguments)}};var f="bs.alert",v=s.default.fn.alert,g=function(){function m(c){this._element=c}var y=m.prototype;return y.close=function(c){var p=this._element;c&&(p=this._getRootElement(c)),this._triggerCloseEvent(p).isDefaultPrevented()||this._removeElement(p)},y.dispose=function(){s.default.removeData(this._element,f),this._element=null},y._getRootElement=function(c){var p=d.getSelectorFromElement(c),w=!1;return p&&(w=document.querySelector(p)),w||(w=s.default(c).closest(".alert")[0]),w},y._triggerCloseEvent=function(c){var p=s.default.Event("close.bs.alert");return s.default(c).trigger(p),p},y._removeElement=function(c){var p=this;if(s.default(c).removeClass("show"),s.default(c).hasClass("fade")){var w=d.getTransitionDurationFromElement(c);s.default(c).one(d.TRANSITION_END,function(x){return p._destroyElement(c,x)}).emulateTransitionEnd(w)}else this._destroyElement(c)},y._destroyElement=function(c){s.default(c).detach().trigger("closed.bs.alert").remove()},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this),w=p.data(f);w||(w=new m(this),p.data(f,w)),c==="close"&&w[c](this)})},m._handleDismiss=function(c){return function(p){p&&p.preventDefault(),c.close(this)}},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),m}();s.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',g._handleDismiss(new g)),s.default.fn.alert=g._jQueryInterface,s.default.fn.alert.Constructor=g,s.default.fn.alert.noConflict=function(){return s.default.fn.alert=v,g._jQueryInterface};var _="bs.button",b=s.default.fn.button,C="active",k='[data-toggle^="button"]',N='input:not([type="hidden"])',E=".btn",T=function(){function m(c){this._element=c,this.shouldAvoidTriggerChange=!1}var y=m.prototype;return y.toggle=function(){var c=!0,p=!0,w=s.default(this._element).closest('[data-toggle="buttons"]')[0];if(w){var x=this._element.querySelector(N);if(x){if(x.type==="radio")if(x.checked&&this._element.classList.contains(C))c=!1;else{var S=w.querySelector(".active");S&&s.default(S).removeClass(C)}c&&(x.type!=="checkbox"&&x.type!=="radio"||(x.checked=!this._element.classList.contains(C)),this.shouldAvoidTriggerChange||s.default(x).trigger("change")),x.focus(),p=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(p&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(C)),c&&s.default(this._element).toggleClass(C))},y.dispose=function(){s.default.removeData(this._element,_),this._element=null},m._jQueryInterface=function(c,p){return this.each(function(){var w=s.default(this),x=w.data(_);x||(x=new m(this),w.data(_,x)),x.shouldAvoidTriggerChange=p,c==="toggle"&&x[c]()})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),m}();s.default(document).on("click.bs.button.data-api",k,function(m){var y=m.target,c=y;if(s.default(y).hasClass("btn")||(y=s.default(y).closest(E)[0]),!y||y.hasAttribute("disabled")||y.classList.contains("disabled"))m.preventDefault();else{var p=y.querySelector(N);if(p&&(p.hasAttribute("disabled")||p.classList.contains("disabled")))return void m.preventDefault();c.tagName!=="INPUT"&&y.tagName==="LABEL"||T._jQueryInterface.call(s.default(y),"toggle",c.tagName==="INPUT")}}).on("focus.bs.button.data-api blur.bs.button.data-api",k,function(m){var y=s.default(m.target).closest(E)[0];s.default(y).toggleClass("focus",/^focus(in)?$/.test(m.type))}),s.default(window).on("load.bs.button.data-api",function(){for(var m=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),y=0,c=m.length;y<c;y++){var p=m[y],w=p.querySelector(N);w.checked||w.hasAttribute("checked")?p.classList.add(C):p.classList.remove(C)}for(var x=0,S=(m=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;x<S;x++){var L=m[x];L.getAttribute("aria-pressed")==="true"?L.classList.add(C):L.classList.remove(C)}}),s.default.fn.button=T._jQueryInterface,s.default.fn.button.Constructor=T,s.default.fn.button.noConflict=function(){return s.default.fn.button=b,T._jQueryInterface};var P="carousel",M="bs.carousel",A=s.default.fn[P],O="active",R="next",j="prev",F="slid.bs.carousel",U=".active.carousel-item",$={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},X={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},G={TOUCH:"touch",PEN:"pen"},Y=function(){function m(c,p){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(p),this._element=c,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=!!(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var y=m.prototype;return y.next=function(){this._isSliding||this._slide(R)},y.nextWhenVisible=function(){var c=s.default(this._element);!document.hidden&&c.is(":visible")&&c.css("visibility")!=="hidden"&&this.next()},y.prev=function(){this._isSliding||this._slide(j)},y.pause=function(c){c||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(d.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},y.cycle=function(c){c||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},y.to=function(c){var p=this;this._activeElement=this._element.querySelector(U);var w=this._getItemIndex(this._activeElement);if(!(c>this._items.length-1||c<0))if(this._isSliding)s.default(this._element).one(F,function(){return p.to(c)});else{if(w===c)return this.pause(),void this.cycle();var x=c>w?R:j;this._slide(x,this._items[c])}},y.dispose=function(){s.default(this._element).off(".bs.carousel"),s.default.removeData(this._element,M),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},y._getConfig=function(c){return c=l({},$,c),d.typeCheckConfig(P,c,X),c},y._handleSwipe=function(){var c=Math.abs(this.touchDeltaX);if(!(c<=40)){var p=c/this.touchDeltaX;this.touchDeltaX=0,p>0&&this.prev(),p<0&&this.next()}},y._addEventListeners=function(){var c=this;this._config.keyboard&&s.default(this._element).on("keydown.bs.carousel",function(p){return c._keydown(p)}),this._config.pause==="hover"&&s.default(this._element).on("mouseenter.bs.carousel",function(p){return c.pause(p)}).on("mouseleave.bs.carousel",function(p){return c.cycle(p)}),this._config.touch&&this._addTouchEventListeners()},y._addTouchEventListeners=function(){var c=this;if(this._touchSupported){var p=function(x){c._pointerEvent&&G[x.originalEvent.pointerType.toUpperCase()]?c.touchStartX=x.originalEvent.clientX:c._pointerEvent||(c.touchStartX=x.originalEvent.touches[0].clientX)},w=function(x){c._pointerEvent&&G[x.originalEvent.pointerType.toUpperCase()]&&(c.touchDeltaX=x.originalEvent.clientX-c.touchStartX),c._handleSwipe(),c._config.pause==="hover"&&(c.pause(),c.touchTimeout&&clearTimeout(c.touchTimeout),c.touchTimeout=setTimeout(function(S){return c.cycle(S)},500+c._config.interval))};s.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(x){return x.preventDefault()}),this._pointerEvent?(s.default(this._element).on("pointerdown.bs.carousel",function(x){return p(x)}),s.default(this._element).on("pointerup.bs.carousel",function(x){return w(x)}),this._element.classList.add("pointer-event")):(s.default(this._element).on("touchstart.bs.carousel",function(x){return p(x)}),s.default(this._element).on("touchmove.bs.carousel",function(x){return function(S){c.touchDeltaX=S.originalEvent.touches&&S.originalEvent.touches.length>1?0:S.originalEvent.touches[0].clientX-c.touchStartX}(x)}),s.default(this._element).on("touchend.bs.carousel",function(x){return w(x)}))}},y._keydown=function(c){if(!/input|textarea/i.test(c.target.tagName))switch(c.which){case 37:c.preventDefault(),this.prev();break;case 39:c.preventDefault(),this.next()}},y._getItemIndex=function(c){return this._items=c&&c.parentNode?[].slice.call(c.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(c)},y._getItemByDirection=function(c,p){var w=c===R,x=c===j,S=this._getItemIndex(p),L=this._items.length-1;if((x&&S===0||w&&S===L)&&!this._config.wrap)return p;var V=(S+(c===j?-1:1))%this._items.length;return V===-1?this._items[this._items.length-1]:this._items[V]},y._triggerSlideEvent=function(c,p){var w=this._getItemIndex(c),x=this._getItemIndex(this._element.querySelector(U)),S=s.default.Event("slide.bs.carousel",{relatedTarget:c,direction:p,from:x,to:w});return s.default(this._element).trigger(S),S},y._setActiveIndicatorElement=function(c){if(this._indicatorsElement){var p=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));s.default(p).removeClass(O);var w=this._indicatorsElement.children[this._getItemIndex(c)];w&&s.default(w).addClass(O)}},y._updateInterval=function(){var c=this._activeElement||this._element.querySelector(U);if(c){var p=parseInt(c.getAttribute("data-interval"),10);p?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=p):this._config.interval=this._config.defaultInterval||this._config.interval}},y._slide=function(c,p){var w,x,S,L=this,V=this._element.querySelector(U),ee=this._getItemIndex(V),se=p||V&&this._getItemByDirection(c,V),ie=this._getItemIndex(se),le=!!this._interval;if(c===R?(w="carousel-item-left",x="carousel-item-next",S="left"):(w="carousel-item-right",x="carousel-item-prev",S="right"),se&&s.default(se).hasClass(O))this._isSliding=!1;else if(!this._triggerSlideEvent(se,S).isDefaultPrevented()&&V&&se){this._isSliding=!0,le&&this.pause(),this._setActiveIndicatorElement(se),this._activeElement=se;var Te=s.default.Event(F,{relatedTarget:se,direction:S,from:ee,to:ie});if(s.default(this._element).hasClass("slide")){s.default(se).addClass(x),d.reflow(se),s.default(V).addClass(w),s.default(se).addClass(w);var Re=d.getTransitionDurationFromElement(V);s.default(V).one(d.TRANSITION_END,function(){s.default(se).removeClass(w+" "+x).addClass(O),s.default(V).removeClass("active "+x+" "+w),L._isSliding=!1,setTimeout(function(){return s.default(L._element).trigger(Te)},0)}).emulateTransitionEnd(Re)}else s.default(V).removeClass(O),s.default(se).addClass(O),this._isSliding=!1,s.default(this._element).trigger(Te);le&&this.cycle()}},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this).data(M),w=l({},$,s.default(this).data());typeof c=="object"&&(w=l({},w,c));var x=typeof c=="string"?c:w.slide;if(p||(p=new m(this,w),s.default(this).data(M,p)),typeof c=="number")p.to(c);else if(typeof x=="string"){if(typeof p[x]>"u")throw new TypeError('No method named "'+x+'"');p[x]()}else w.interval&&w.ride&&(p.pause(),p.cycle())})},m._dataApiClickHandler=function(c){var p=d.getSelectorFromElement(this);if(p){var w=s.default(p)[0];if(w&&s.default(w).hasClass("carousel")){var x=l({},s.default(w).data(),s.default(this).data()),S=this.getAttribute("data-slide-to");S&&(x.interval=!1),m._jQueryInterface.call(s.default(w),x),S&&s.default(w).data(M).to(S),c.preventDefault()}}},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return $}}]),m}();s.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",Y._dataApiClickHandler),s.default(window).on("load.bs.carousel.data-api",function(){for(var m=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),y=0,c=m.length;y<c;y++){var p=s.default(m[y]);Y._jQueryInterface.call(p,p.data())}}),s.default.fn[P]=Y._jQueryInterface,s.default.fn[P].Constructor=Y,s.default.fn[P].noConflict=function(){return s.default.fn[P]=A,Y._jQueryInterface};var ne="collapse",B="bs.collapse",W=s.default.fn[ne],q="show",Q="collapse",ce="collapsing",pe="collapsed",J="width",fe='[data-toggle="collapse"]',me={toggle:!0,parent:""},re={toggle:"boolean",parent:"(string|element)"},De=function(){function m(c,p){this._isTransitioning=!1,this._element=c,this._config=this._getConfig(p),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+c.id+'"],[data-toggle="collapse"][data-target="#'+c.id+'"]'));for(var w=[].slice.call(document.querySelectorAll(fe)),x=0,S=w.length;x<S;x++){var L=w[x],V=d.getSelectorFromElement(L),ee=[].slice.call(document.querySelectorAll(V)).filter(function(se){return se===c});V!==null&&ee.length>0&&(this._selector=V,this._triggerArray.push(L))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var y=m.prototype;return y.toggle=function(){s.default(this._element).hasClass(q)?this.hide():this.show()},y.show=function(){var c,p,w=this;if(!(this._isTransitioning||s.default(this._element).hasClass(q)||(this._parent&&(c=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(ee){return typeof w._config.parent=="string"?ee.getAttribute("data-parent")===w._config.parent:ee.classList.contains(Q)})).length===0&&(c=null),c&&(p=s.default(c).not(this._selector).data(B))&&p._isTransitioning))){var x=s.default.Event("show.bs.collapse");if(s.default(this._element).trigger(x),!x.isDefaultPrevented()){c&&(m._jQueryInterface.call(s.default(c).not(this._selector),"hide"),p||s.default(c).data(B,null));var S=this._getDimension();s.default(this._element).removeClass(Q).addClass(ce),this._element.style[S]=0,this._triggerArray.length&&s.default(this._triggerArray).removeClass(pe).attr("aria-expanded",!0),this.setTransitioning(!0);var L="scroll"+(S[0].toUpperCase()+S.slice(1)),V=d.getTransitionDurationFromElement(this._element);s.default(this._element).one(d.TRANSITION_END,function(){s.default(w._element).removeClass(ce).addClass("collapse show"),w._element.style[S]="",w.setTransitioning(!1),s.default(w._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(V),this._element.style[S]=this._element[L]+"px"}}},y.hide=function(){var c=this;if(!this._isTransitioning&&s.default(this._element).hasClass(q)){var p=s.default.Event("hide.bs.collapse");if(s.default(this._element).trigger(p),!p.isDefaultPrevented()){var w=this._getDimension();this._element.style[w]=this._element.getBoundingClientRect()[w]+"px",d.reflow(this._element),s.default(this._element).addClass(ce).removeClass("collapse show");var x=this._triggerArray.length;if(x>0)for(var S=0;S<x;S++){var L=this._triggerArray[S],V=d.getSelectorFromElement(L);V!==null&&(s.default([].slice.call(document.querySelectorAll(V))).hasClass(q)||s.default(L).addClass(pe).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[w]="";var ee=d.getTransitionDurationFromElement(this._element);s.default(this._element).one(d.TRANSITION_END,function(){c.setTransitioning(!1),s.default(c._element).removeClass(ce).addClass(Q).trigger("hidden.bs.collapse")}).emulateTransitionEnd(ee)}}},y.setTransitioning=function(c){this._isTransitioning=c},y.dispose=function(){s.default.removeData(this._element,B),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},y._getConfig=function(c){return(c=l({},me,c)).toggle=!!c.toggle,d.typeCheckConfig(ne,c,re),c},y._getDimension=function(){return s.default(this._element).hasClass(J)?J:"height"},y._getParent=function(){var c,p=this;d.isElement(this._config.parent)?(c=this._config.parent,typeof this._config.parent.jquery<"u"&&(c=this._config.parent[0])):c=document.querySelector(this._config.parent);var w='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',x=[].slice.call(c.querySelectorAll(w));return s.default(x).each(function(S,L){p._addAriaAndCollapsedClass(m._getTargetFromElement(L),[L])}),c},y._addAriaAndCollapsedClass=function(c,p){var w=s.default(c).hasClass(q);p.length&&s.default(p).toggleClass(pe,!w).attr("aria-expanded",w)},m._getTargetFromElement=function(c){var p=d.getSelectorFromElement(c);return p?document.querySelector(p):null},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this),w=p.data(B),x=l({},me,p.data(),typeof c=="object"&&c?c:{});if(!w&&x.toggle&&typeof c=="string"&&/show|hide/.test(c)&&(x.toggle=!1),w||(w=new m(this,x),p.data(B,w)),typeof c=="string"){if(typeof w[c]>"u")throw new TypeError('No method named "'+c+'"');w[c]()}})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return me}}]),m}();s.default(document).on("click.bs.collapse.data-api",fe,function(m){m.currentTarget.tagName==="A"&&m.preventDefault();var y=s.default(this),c=d.getSelectorFromElement(this),p=[].slice.call(document.querySelectorAll(c));s.default(p).each(function(){var w=s.default(this),x=w.data(B)?"toggle":y.data();De._jQueryInterface.call(w,x)})}),s.default.fn[ne]=De._jQueryInterface,s.default.fn[ne].Constructor=De,s.default.fn[ne].noConflict=function(){return s.default.fn[ne]=W,De._jQueryInterface};var et=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",ft=function(){for(var m=["Edge","Trident","Firefox"],y=0;y<m.length;y+=1)if(et&&navigator.userAgent.indexOf(m[y])>=0)return 1;return 0}(),Pt=et&&window.Promise?function(m){var y=!1;return function(){y||(y=!0,window.Promise.resolve().then(function(){y=!1,m()}))}}:function(m){var y=!1;return function(){y||(y=!0,setTimeout(function(){y=!1,m()},ft))}};function bt(m){return m&&{}.toString.call(m)==="[object Function]"}function Ct(m,y){if(m.nodeType!==1)return[];var c=m.ownerDocument.defaultView.getComputedStyle(m,null);return y?c[y]:c}function K(m){return m.nodeName==="HTML"?m:m.parentNode||m.host}function ae(m){if(!m)return document.body;switch(m.nodeName){case"HTML":case"BODY":return m.ownerDocument.body;case"#document":return m.body}var y=Ct(m),c=y.overflow,p=y.overflowX,w=y.overflowY;return/(auto|scroll|overlay)/.test(c+w+p)?m:ae(K(m))}function Ae(m){return m&&m.referenceNode?m.referenceNode:m}var Pe=et&&!(!window.MSInputMethodContext||!document.documentMode),be=et&&/MSIE 10/.test(navigator.userAgent);function Ce(m){return m===11?Pe:m===10?be:Pe||be}function Be(m){if(!m)return document.documentElement;for(var y=Ce(10)?document.body:null,c=m.offsetParent||null;c===y&&m.nextElementSibling;)c=(m=m.nextElementSibling).offsetParent;var p=c&&c.nodeName;return p&&p!=="BODY"&&p!=="HTML"?["TH","TD","TABLE"].indexOf(c.nodeName)!==-1&&Ct(c,"position")==="static"?Be(c):c:m?m.ownerDocument.documentElement:document.documentElement}function st(m){return m.parentNode!==null?st(m.parentNode):m}function Oe(m,y){if(!(m&&m.nodeType&&y&&y.nodeType))return document.documentElement;var c=m.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_FOLLOWING,p=c?m:y,w=c?y:m,x=document.createRange();x.setStart(p,0),x.setEnd(w,0);var S,L,V=x.commonAncestorContainer;if(m!==V&&y!==V||p.contains(w))return(L=(S=V).nodeName)==="BODY"||L!=="HTML"&&Be(S.firstElementChild)!==S?Be(V):V;var ee=st(m);return ee.host?Oe(ee.host,y):Oe(m,st(y).host)}function tt(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",c=y==="top"?"scrollTop":"scrollLeft",p=m.nodeName;if(p==="BODY"||p==="HTML"){var w=m.ownerDocument.documentElement,x=m.ownerDocument.scrollingElement||w;return x[c]}return m[c]}function Me(m,y){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=tt(y,"top"),w=tt(y,"left"),x=c?-1:1;return m.top+=p*x,m.bottom+=p*x,m.left+=w*x,m.right+=w*x,m}function ye(m,y){var c=y==="x"?"Left":"Top",p=c==="Left"?"Right":"Bottom";return parseFloat(m["border"+c+"Width"])+parseFloat(m["border"+p+"Width"])}function de(m,y,c,p){return Math.max(y["offset"+m],y["scroll"+m],c["client"+m],c["offset"+m],c["scroll"+m],Ce(10)?parseInt(c["offset"+m])+parseInt(p["margin"+(m==="Height"?"Top":"Left")])+parseInt(p["margin"+(m==="Height"?"Bottom":"Right")]):0)}function Z(m){var y=m.body,c=m.documentElement,p=Ce(10)&&getComputedStyle(c);return{height:de("Height",y,c,p),width:de("Width",y,c,p)}}var Ee=function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")},sn=function(){function m(y,c){for(var p=0;p<c.length;p++){var w=c[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,c,p){return c&&m(y.prototype,c),p&&m(y,p),y}}(),wt=function(m,y,c){return y in m?Object.defineProperty(m,y,{value:c,enumerable:!0,configurable:!0,writable:!0}):m[y]=c,m},we=Object.assign||function(m){for(var y=1;y<arguments.length;y++){var c=arguments[y];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(m[p]=c[p])}return m};function ue(m){return we({},m,{right:m.left+m.width,bottom:m.top+m.height})}function It(m){var y={};try{if(Ce(10)){y=m.getBoundingClientRect();var c=tt(m,"top"),p=tt(m,"left");y.top+=c,y.left+=p,y.bottom+=c,y.right+=p}else y=m.getBoundingClientRect()}catch{}var w={left:y.left,top:y.top,width:y.right-y.left,height:y.bottom-y.top},x=m.nodeName==="HTML"?Z(m.ownerDocument):{},S=x.width||m.clientWidth||w.width,L=x.height||m.clientHeight||w.height,V=m.offsetWidth-S,ee=m.offsetHeight-L;if(V||ee){var se=Ct(m);V-=ye(se,"x"),ee-=ye(se,"y"),w.width-=V,w.height-=ee}return ue(w)}function cr(m,y){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=Ce(10),w=y.nodeName==="HTML",x=It(m),S=It(y),L=ae(m),V=Ct(y),ee=parseFloat(V.borderTopWidth),se=parseFloat(V.borderLeftWidth);c&&w&&(S.top=Math.max(S.top,0),S.left=Math.max(S.left,0));var ie=ue({top:x.top-S.top-ee,left:x.left-S.left-se,width:x.width,height:x.height});if(ie.marginTop=0,ie.marginLeft=0,!p&&w){var le=parseFloat(V.marginTop),Te=parseFloat(V.marginLeft);ie.top-=ee-le,ie.bottom-=ee-le,ie.left-=se-Te,ie.right-=se-Te,ie.marginTop=le,ie.marginLeft=Te}return(p&&!c?y.contains(L):y===L&&L.nodeName!=="BODY")&&(ie=Me(ie,y)),ie}function ws(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=m.ownerDocument.documentElement,p=cr(m,c),w=Math.max(c.clientWidth,window.innerWidth||0),x=Math.max(c.clientHeight,window.innerHeight||0),S=y?0:tt(c),L=y?0:tt(c,"left"),V={top:S-p.top+p.marginTop,left:L-p.left+p.marginLeft,width:w,height:x};return ue(V)}function Ru(m){var y=m.nodeName;if(y==="BODY"||y==="HTML")return!1;if(Ct(m,"position")==="fixed")return!0;var c=K(m);return!!c&&Ru(c)}function Fu(m){if(!m||!m.parentElement||Ce())return document.documentElement;for(var y=m.parentElement;y&&Ct(y,"transform")==="none";)y=y.parentElement;return y||document.documentElement}function Ya(m,y,c,p){var w=arguments.length>4&&arguments[4]!==void 0&&arguments[4],x={top:0,left:0},S=w?Fu(m):Oe(m,Ae(y));if(p==="viewport")x=ws(S,w);else{var L=void 0;p==="scrollParent"?(L=ae(K(y))).nodeName==="BODY"&&(L=m.ownerDocument.documentElement):L=p==="window"?m.ownerDocument.documentElement:p;var V=cr(L,S,w);if(L.nodeName!=="HTML"||Ru(S))x=V;else{var ee=Z(m.ownerDocument),se=ee.height,ie=ee.width;x.top+=V.top-V.marginTop,x.bottom=se+V.top,x.left+=V.left-V.marginLeft,x.right=ie+V.left}}var le=typeof(c=c||0)=="number";return x.left+=le?c:c.left||0,x.top+=le?c:c.top||0,x.right-=le?c:c.right||0,x.bottom-=le?c:c.bottom||0,x}function kv(m){return m.width*m.height}function ju(m,y,c,p,w){var x=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(m.indexOf("auto")===-1)return m;var S=Ya(c,p,x,w),L={top:{width:S.width,height:y.top-S.top},right:{width:S.right-y.right,height:S.height},bottom:{width:S.width,height:S.bottom-y.bottom},left:{width:y.left-S.left,height:S.height}},V=Object.keys(L).map(function(le){return we({key:le},L[le],{area:kv(L[le])})}).sort(function(le,Te){return Te.area-le.area}),ee=V.filter(function(le){var Te=le.width,Re=le.height;return Te>=c.clientWidth&&Re>=c.clientHeight}),se=ee.length>0?ee[0].key:V[0].key,ie=m.split("-")[1];return se+(ie?"-"+ie:"")}function Lu(m,y,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,w=p?Fu(y):Oe(y,Ae(c));return cr(c,w,p)}function Vu(m){var y=m.ownerDocument.defaultView.getComputedStyle(m),c=parseFloat(y.marginTop||0)+parseFloat(y.marginBottom||0),p=parseFloat(y.marginLeft||0)+parseFloat(y.marginRight||0);return{width:m.offsetWidth+p,height:m.offsetHeight+c}}function Ts(m){var y={left:"right",right:"left",bottom:"top",top:"bottom"};return m.replace(/left|right|bottom|top/g,function(c){return y[c]})}function Bu(m,y,c){c=c.split("-")[0];var p=Vu(m),w={width:p.width,height:p.height},x=["right","left"].indexOf(c)!==-1,S=x?"top":"left",L=x?"left":"top",V=x?"height":"width",ee=x?"width":"height";return w[S]=y[S]+y[V]/2-p[V]/2,w[L]=c===L?y[L]-p[ee]:y[Ts(L)],w}function gi(m,y){return Array.prototype.find?m.find(y):m.filter(y)[0]}function Wu(m,y,c){return(c===void 0?m:m.slice(0,function(p,w,x){if(Array.prototype.findIndex)return p.findIndex(function(L){return L.name===x});var S=gi(p,function(L){return L.name===x});return p.indexOf(S)}(m,0,c))).forEach(function(p){p.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var w=p.function||p.fn;p.enabled&&bt(w)&&(y.offsets.popper=ue(y.offsets.popper),y.offsets.reference=ue(y.offsets.reference),y=w(y,p))}),y}function Ov(){if(!this.state.isDestroyed){var m={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};m.offsets.reference=Lu(this.state,this.popper,this.reference,this.options.positionFixed),m.placement=ju(this.options.placement,m.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),m.originalPlacement=m.placement,m.positionFixed=this.options.positionFixed,m.offsets.popper=Bu(this.popper,m.offsets.reference,m.placement),m.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",m=Wu(this.modifiers,m),this.state.isCreated?this.options.onUpdate(m):(this.state.isCreated=!0,this.options.onCreate(m))}}function $u(m,y){return m.some(function(c){var p=c.name;return c.enabled&&p===y})}function Xa(m){for(var y=[!1,"ms","Webkit","Moz","O"],c=m.charAt(0).toUpperCase()+m.slice(1),p=0;p<y.length;p++){var w=y[p],x=w?""+w+c:m;if(typeof document.body.style[x]<"u")return x}return null}function Iv(){return this.state.isDestroyed=!0,$u(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Xa("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Uu(m){var y=m.ownerDocument;return y?y.defaultView:window}function qu(m,y,c,p){var w=m.nodeName==="BODY",x=w?m.ownerDocument.defaultView:m;x.addEventListener(y,c,{passive:!0}),w||qu(ae(x.parentNode),y,c,p),p.push(x)}function Dv(m,y,c,p){c.updateBound=p,Uu(m).addEventListener("resize",c.updateBound,{passive:!0});var w=ae(m);return qu(w,"scroll",c.updateBound,c.scrollParents),c.scrollElement=w,c.eventsEnabled=!0,c}function Rv(){this.state.eventsEnabled||(this.state=Dv(this.reference,this.options,this.state,this.scheduleUpdate))}function Fv(){var m,y;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(m=this.reference,y=this.state,Uu(m).removeEventListener("resize",y.updateBound),y.scrollParents.forEach(function(c){c.removeEventListener("scroll",y.updateBound)}),y.updateBound=null,y.scrollParents=[],y.scrollElement=null,y.eventsEnabled=!1,y))}function Ka(m){return m!==""&&!isNaN(parseFloat(m))&&isFinite(m)}function Qa(m,y){Object.keys(y).forEach(function(c){var p="";["width","height","top","right","bottom","left"].indexOf(c)!==-1&&Ka(y[c])&&(p="px"),m.style[c]=y[c]+p})}var jv=et&&/Firefox/i.test(navigator.userAgent);function Hu(m,y,c){var p=gi(m,function(L){return L.name===y}),w=!!p&&m.some(function(L){return L.name===c&&L.enabled&&L.order<p.order});if(!w){var x="`"+y+"`",S="`"+c+"`";console.warn(S+" modifier is required by "+x+" modifier in order to work, be sure to include it before "+x+"!")}return w}var zu=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Za=zu.slice(3);function Gu(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1],c=Za.indexOf(m),p=Za.slice(c+1).concat(Za.slice(0,c));return y?p.reverse():p}var Lv={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(m){var y=m.placement,c=y.split("-")[0],p=y.split("-")[1];if(p){var w=m.offsets,x=w.reference,S=w.popper,L=["bottom","top"].indexOf(c)!==-1,V=L?"left":"top",ee=L?"width":"height",se={start:wt({},V,x[V]),end:wt({},V,x[V]+x[ee]-S[ee])};m.offsets.popper=we({},S,se[p])}return m}},offset:{order:200,enabled:!0,fn:function(m,y){var c,p=y.offset,w=m.placement,x=m.offsets,S=x.popper,L=x.reference,V=w.split("-")[0];return c=Ka(+p)?[+p,0]:function(ee,se,ie,le){var Te=[0,0],Re=["right","left"].indexOf(le)!==-1,ot=ee.split(/(\+|\-)/).map(function(Ke){return Ke.trim()}),ut=ot.indexOf(gi(ot,function(Ke){return Ke.search(/,|\s/)!==-1}));ot[ut]&&ot[ut].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var Xt=/\s*,\s*|\s+/,ht=ut!==-1?[ot.slice(0,ut).concat([ot[ut].split(Xt)[0]]),[ot[ut].split(Xt)[1]].concat(ot.slice(ut+1))]:[ot];return ht=ht.map(function(Ke,Vt){var Kt=(Vt===1?!Re:Re)?"height":"width",mt=!1;return Ke.reduce(function(Bt,Qt){return Bt[Bt.length-1]===""&&["+","-"].indexOf(Qt)!==-1?(Bt[Bt.length-1]=Qt,mt=!0,Bt):mt?(Bt[Bt.length-1]+=Qt,mt=!1,Bt):Bt.concat(Qt)},[]).map(function(Bt){return function(Qt,cl,Fs,js){var Pi=Qt.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),Dr=+Pi[1],qn=Pi[2];return Dr?qn.indexOf("%")===0?ue(qn==="%p"?Fs:js)[cl]/100*Dr:qn==="vh"||qn==="vw"?(qn==="vh"?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*Dr:Dr:Qt}(Bt,Kt,se,ie)})}),ht.forEach(function(Ke,Vt){Ke.forEach(function(Kt,mt){Ka(Kt)&&(Te[Vt]+=Kt*(Ke[mt-1]==="-"?-1:1))})}),Te}(p,S,L,V),V==="left"?(S.top+=c[0],S.left-=c[1]):V==="right"?(S.top+=c[0],S.left+=c[1]):V==="top"?(S.left+=c[0],S.top-=c[1]):V==="bottom"&&(S.left+=c[0],S.top+=c[1]),m.popper=S,m},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(m,y){var c=y.boundariesElement||Be(m.instance.popper);m.instance.reference===c&&(c=Be(c));var p=Xa("transform"),w=m.instance.popper.style,x=w.top,S=w.left,L=w[p];w.top="",w.left="",w[p]="";var V=Ya(m.instance.popper,m.instance.reference,y.padding,c,m.positionFixed);w.top=x,w.left=S,w[p]=L,y.boundaries=V;var ee=y.priority,se=m.offsets.popper,ie={primary:function(le){var Te=se[le];return se[le]<V[le]&&!y.escapeWithReference&&(Te=Math.max(se[le],V[le])),wt({},le,Te)},secondary:function(le){var Te=le==="right"?"left":"top",Re=se[Te];return se[le]>V[le]&&!y.escapeWithReference&&(Re=Math.min(se[Te],V[le]-(le==="right"?se.width:se.height))),wt({},Te,Re)}};return ee.forEach(function(le){var Te=["left","top"].indexOf(le)!==-1?"primary":"secondary";se=we({},se,ie[Te](le))}),m.offsets.popper=se,m},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(m){var y=m.offsets,c=y.popper,p=y.reference,w=m.placement.split("-")[0],x=Math.floor,S=["top","bottom"].indexOf(w)!==-1,L=S?"right":"bottom",V=S?"left":"top",ee=S?"width":"height";return c[L]<x(p[V])&&(m.offsets.popper[V]=x(p[V])-c[ee]),c[V]>x(p[L])&&(m.offsets.popper[V]=x(p[L])),m}},arrow:{order:500,enabled:!0,fn:function(m,y){var c;if(!Hu(m.instance.modifiers,"arrow","keepTogether"))return m;var p=y.element;if(typeof p=="string"){if(!(p=m.instance.popper.querySelector(p)))return m}else if(!m.instance.popper.contains(p))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),m;var w=m.placement.split("-")[0],x=m.offsets,S=x.popper,L=x.reference,V=["left","right"].indexOf(w)!==-1,ee=V?"height":"width",se=V?"Top":"Left",ie=se.toLowerCase(),le=V?"left":"top",Te=V?"bottom":"right",Re=Vu(p)[ee];L[Te]-Re<S[ie]&&(m.offsets.popper[ie]-=S[ie]-(L[Te]-Re)),L[ie]+Re>S[Te]&&(m.offsets.popper[ie]+=L[ie]+Re-S[Te]),m.offsets.popper=ue(m.offsets.popper);var ot=L[ie]+L[ee]/2-Re/2,ut=Ct(m.instance.popper),Xt=parseFloat(ut["margin"+se]),ht=parseFloat(ut["border"+se+"Width"]),Ke=ot-m.offsets.popper[ie]-Xt-ht;return Ke=Math.max(Math.min(S[ee]-Re,Ke),0),m.arrowElement=p,m.offsets.arrow=(wt(c={},ie,Math.round(Ke)),wt(c,le,""),c),m},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(m,y){if($u(m.instance.modifiers,"inner")||m.flipped&&m.placement===m.originalPlacement)return m;var c=Ya(m.instance.popper,m.instance.reference,y.padding,y.boundariesElement,m.positionFixed),p=m.placement.split("-")[0],w=Ts(p),x=m.placement.split("-")[1]||"",S=[];switch(y.behavior){case"flip":S=[p,w];break;case"clockwise":S=Gu(p);break;case"counterclockwise":S=Gu(p,!0);break;default:S=y.behavior}return S.forEach(function(L,V){if(p!==L||S.length===V+1)return m;p=m.placement.split("-")[0],w=Ts(p);var ee=m.offsets.popper,se=m.offsets.reference,ie=Math.floor,le=p==="left"&&ie(ee.right)>ie(se.left)||p==="right"&&ie(ee.left)<ie(se.right)||p==="top"&&ie(ee.bottom)>ie(se.top)||p==="bottom"&&ie(ee.top)<ie(se.bottom),Te=ie(ee.left)<ie(c.left),Re=ie(ee.right)>ie(c.right),ot=ie(ee.top)<ie(c.top),ut=ie(ee.bottom)>ie(c.bottom),Xt=p==="left"&&Te||p==="right"&&Re||p==="top"&&ot||p==="bottom"&&ut,ht=["top","bottom"].indexOf(p)!==-1,Ke=!!y.flipVariations&&(ht&&x==="start"&&Te||ht&&x==="end"&&Re||!ht&&x==="start"&&ot||!ht&&x==="end"&&ut),Vt=!!y.flipVariationsByContent&&(ht&&x==="start"&&Re||ht&&x==="end"&&Te||!ht&&x==="start"&&ut||!ht&&x==="end"&&ot),Kt=Ke||Vt;(le||Xt||Kt)&&(m.flipped=!0,(le||Xt)&&(p=S[V+1]),Kt&&(x=function(mt){return mt==="end"?"start":mt==="start"?"end":mt}(x)),m.placement=p+(x?"-"+x:""),m.offsets.popper=we({},m.offsets.popper,Bu(m.instance.popper,m.offsets.reference,m.placement)),m=Wu(m.instance.modifiers,m,"flip"))}),m},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(m){var y=m.placement,c=y.split("-")[0],p=m.offsets,w=p.popper,x=p.reference,S=["left","right"].indexOf(c)!==-1,L=["top","left"].indexOf(c)===-1;return w[S?"left":"top"]=x[c]-(L?w[S?"width":"height"]:0),m.placement=Ts(y),m.offsets.popper=ue(w),m}},hide:{order:800,enabled:!0,fn:function(m){if(!Hu(m.instance.modifiers,"hide","preventOverflow"))return m;var y=m.offsets.reference,c=gi(m.instance.modifiers,function(p){return p.name==="preventOverflow"}).boundaries;if(y.bottom<c.top||y.left>c.right||y.top>c.bottom||y.right<c.left){if(m.hide===!0)return m;m.hide=!0,m.attributes["x-out-of-boundaries"]=""}else{if(m.hide===!1)return m;m.hide=!1,m.attributes["x-out-of-boundaries"]=!1}return m}},computeStyle:{order:850,enabled:!0,fn:function(m,y){var c=y.x,p=y.y,w=m.offsets.popper,x=gi(m.instance.modifiers,function(Ke){return Ke.name==="applyStyle"}).gpuAcceleration;x!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var S,L,V=x!==void 0?x:y.gpuAcceleration,ee=Be(m.instance.popper),se=It(ee),ie={position:w.position},le=function(Ke,Vt){var Kt=Ke.offsets,mt=Kt.popper,Bt=Kt.reference,Qt=Math.round,cl=Math.floor,Fs=function(hy){return hy},js=Qt(Bt.width),Pi=Qt(mt.width),Dr=["left","right"].indexOf(Ke.placement)!==-1,qn=Ke.placement.indexOf("-")!==-1,bh=Vt?Dr||qn||js%2==Pi%2?Qt:cl:Fs,wh=Vt?Qt:Fs;return{left:bh(js%2==1&&Pi%2==1&&!qn&&Vt?mt.left-1:mt.left),top:wh(mt.top),bottom:wh(mt.bottom),right:bh(mt.right)}}(m,window.devicePixelRatio<2||!jv),Te=c==="bottom"?"top":"bottom",Re=p==="right"?"left":"right",ot=Xa("transform");if(L=Te==="bottom"?ee.nodeName==="HTML"?-ee.clientHeight+le.bottom:-se.height+le.bottom:le.top,S=Re==="right"?ee.nodeName==="HTML"?-ee.clientWidth+le.right:-se.width+le.right:le.left,V&&ot)ie[ot]="translate3d("+S+"px, "+L+"px, 0)",ie[Te]=0,ie[Re]=0,ie.willChange="transform";else{var ut=Te==="bottom"?-1:1,Xt=Re==="right"?-1:1;ie[Te]=L*ut,ie[Re]=S*Xt,ie.willChange=Te+", "+Re}var ht={"x-placement":m.placement};return m.attributes=we({},ht,m.attributes),m.styles=we({},ie,m.styles),m.arrowStyles=we({},m.offsets.arrow,m.arrowStyles),m},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(m){var y,c;return Qa(m.instance.popper,m.styles),y=m.instance.popper,c=m.attributes,Object.keys(c).forEach(function(p){c[p]!==!1?y.setAttribute(p,c[p]):y.removeAttribute(p)}),m.arrowElement&&Object.keys(m.arrowStyles).length&&Qa(m.arrowElement,m.arrowStyles),m},onLoad:function(m,y,c,p,w){var x=Lu(w,y,m,c.positionFixed),S=ju(c.placement,x,y,m,c.modifiers.flip.boundariesElement,c.modifiers.flip.padding);return y.setAttribute("x-placement",S),Qa(y,{position:c.positionFixed?"fixed":"absolute"}),c},gpuAcceleration:void 0}}},Ps=function(){function m(y,c){var p=this,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ee(this,m),this.scheduleUpdate=function(){return requestAnimationFrame(p.update)},this.update=Pt(this.update.bind(this)),this.options=we({},m.Defaults,w),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=y&&y.jquery?y[0]:y,this.popper=c&&c.jquery?c[0]:c,this.options.modifiers={},Object.keys(we({},m.Defaults.modifiers,w.modifiers)).forEach(function(S){p.options.modifiers[S]=we({},m.Defaults.modifiers[S]||{},w.modifiers?w.modifiers[S]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(S){return we({name:S},p.options.modifiers[S])}).sort(function(S,L){return S.order-L.order}),this.modifiers.forEach(function(S){S.enabled&&bt(S.onLoad)&&S.onLoad(p.reference,p.popper,p.options,S,p.state)}),this.update();var x=this.options.eventsEnabled;x&&this.enableEventListeners(),this.state.eventsEnabled=x}return sn(m,[{key:"update",value:function(){return Ov.call(this)}},{key:"destroy",value:function(){return Iv.call(this)}},{key:"enableEventListeners",value:function(){return Rv.call(this)}},{key:"disableEventListeners",value:function(){return Fv.call(this)}}]),m}();Ps.Utils=(typeof window<"u"?window:gr).PopperUtils,Ps.placements=zu,Ps.Defaults=Lv;var Cs=Ps,Or="dropdown",xs="bs.dropdown",Vv=s.default.fn[Or],Bv=new RegExp("38|40|27"),Es="disabled",on="show",Yu="dropdown-menu-right",Xu="hide.bs.dropdown",Ku="hidden.bs.dropdown",Ja="click.bs.dropdown.data-api",Qu="keydown.bs.dropdown.data-api",Ms='[data-toggle="dropdown"]',el=".dropdown-menu",Wv={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},$v={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Un=function(){function m(c,p){this._element=c,this._popper=null,this._config=this._getConfig(p),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var y=m.prototype;return y.toggle=function(){if(!this._element.disabled&&!s.default(this._element).hasClass(Es)){var c=s.default(this._menu).hasClass(on);m._clearMenus(),c||this.show(!0)}},y.show=function(c){if(c===void 0&&(c=!1),!(this._element.disabled||s.default(this._element).hasClass(Es)||s.default(this._menu).hasClass(on))){var p={relatedTarget:this._element},w=s.default.Event("show.bs.dropdown",p),x=m._getParentFromElement(this._element);if(s.default(x).trigger(w),!w.isDefaultPrevented()){if(!this._inNavbar&&c){if(typeof Cs>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var S=this._element;this._config.reference==="parent"?S=x:d.isElement(this._config.reference)&&(S=this._config.reference,typeof this._config.reference.jquery<"u"&&(S=this._config.reference[0])),this._config.boundary!=="scrollParent"&&s.default(x).addClass("position-static"),this._popper=new Cs(S,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&s.default(x).closest(".navbar-nav").length===0&&s.default(document.body).children().on("mouseover",null,s.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),s.default(this._menu).toggleClass(on),s.default(x).toggleClass(on).trigger(s.default.Event("shown.bs.dropdown",p))}}},y.hide=function(){if(!this._element.disabled&&!s.default(this._element).hasClass(Es)&&s.default(this._menu).hasClass(on)){var c={relatedTarget:this._element},p=s.default.Event(Xu,c),w=m._getParentFromElement(this._element);s.default(w).trigger(p),p.isDefaultPrevented()||(this._popper&&this._popper.destroy(),s.default(this._menu).toggleClass(on),s.default(w).toggleClass(on).trigger(s.default.Event(Ku,c)))}},y.dispose=function(){s.default.removeData(this._element,xs),s.default(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,this._popper!==null&&(this._popper.destroy(),this._popper=null)},y.update=function(){this._inNavbar=this._detectNavbar(),this._popper!==null&&this._popper.scheduleUpdate()},y._addEventListeners=function(){var c=this;s.default(this._element).on("click.bs.dropdown",function(p){p.preventDefault(),p.stopPropagation(),c.toggle()})},y._getConfig=function(c){return c=l({},this.constructor.Default,s.default(this._element).data(),c),d.typeCheckConfig(Or,c,this.constructor.DefaultType),c},y._getMenuElement=function(){if(!this._menu){var c=m._getParentFromElement(this._element);c&&(this._menu=c.querySelector(el))}return this._menu},y._getPlacement=function(){var c=s.default(this._element.parentNode),p="bottom-start";return c.hasClass("dropup")?p=s.default(this._menu).hasClass(Yu)?"top-end":"top-start":c.hasClass("dropright")?p="right-start":c.hasClass("dropleft")?p="left-start":s.default(this._menu).hasClass(Yu)&&(p="bottom-end"),p},y._detectNavbar=function(){return s.default(this._element).closest(".navbar").length>0},y._getOffset=function(){var c=this,p={};return typeof this._config.offset=="function"?p.fn=function(w){return w.offsets=l({},w.offsets,c._config.offset(w.offsets,c._element)),w}:p.offset=this._config.offset,p},y._getPopperConfig=function(){var c={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return this._config.display==="static"&&(c.modifiers.applyStyle={enabled:!1}),l({},c,this._config.popperConfig)},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this).data(xs);if(p||(p=new m(this,typeof c=="object"?c:null),s.default(this).data(xs,p)),typeof c=="string"){if(typeof p[c]>"u")throw new TypeError('No method named "'+c+'"');p[c]()}})},m._clearMenus=function(c){if(!c||c.which!==3&&(c.type!=="keyup"||c.which===9))for(var p=[].slice.call(document.querySelectorAll(Ms)),w=0,x=p.length;w<x;w++){var S=m._getParentFromElement(p[w]),L=s.default(p[w]).data(xs),V={relatedTarget:p[w]};if(c&&c.type==="click"&&(V.clickEvent=c),L){var ee=L._menu;if(s.default(S).hasClass(on)&&!(c&&(c.type==="click"&&/input|textarea/i.test(c.target.tagName)||c.type==="keyup"&&c.which===9)&&s.default.contains(S,c.target))){var se=s.default.Event(Xu,V);s.default(S).trigger(se),se.isDefaultPrevented()||("ontouchstart"in document.documentElement&&s.default(document.body).children().off("mouseover",null,s.default.noop),p[w].setAttribute("aria-expanded","false"),L._popper&&L._popper.destroy(),s.default(ee).removeClass(on),s.default(S).removeClass(on).trigger(s.default.Event(Ku,V)))}}}},m._getParentFromElement=function(c){var p,w=d.getSelectorFromElement(c);return w&&(p=document.querySelector(w)),p||c.parentNode},m._dataApiKeydownHandler=function(c){if(!(/input|textarea/i.test(c.target.tagName)?c.which===32||c.which!==27&&(c.which!==40&&c.which!==38||s.default(c.target).closest(el).length):!Bv.test(c.which))&&!this.disabled&&!s.default(this).hasClass(Es)){var p=m._getParentFromElement(this),w=s.default(p).hasClass(on);if(w||c.which!==27){if(c.preventDefault(),c.stopPropagation(),!w||c.which===27||c.which===32)return c.which===27&&s.default(p.querySelector(Ms)).trigger("focus"),void s.default(this).trigger("click");var x=[].slice.call(p.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(L){return s.default(L).is(":visible")});if(x.length!==0){var S=x.indexOf(c.target);c.which===38&&S>0&&S--,c.which===40&&S<x.length-1&&S++,S<0&&(S=0),x[S].focus()}}}},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Wv}},{key:"DefaultType",get:function(){return $v}}]),m}();s.default(document).on(Qu,Ms,Un._dataApiKeydownHandler).on(Qu,el,Un._dataApiKeydownHandler).on(Ja+" keyup.bs.dropdown.data-api",Un._clearMenus).on(Ja,Ms,function(m){m.preventDefault(),m.stopPropagation(),Un._jQueryInterface.call(s.default(this),"toggle")}).on(Ja,".dropdown form",function(m){m.stopPropagation()}),s.default.fn[Or]=Un._jQueryInterface,s.default.fn[Or].Constructor=Un,s.default.fn[Or].noConflict=function(){return s.default.fn[Or]=Vv,Un._jQueryInterface};var Ss="bs.modal",Uv=s.default.fn.modal,Zu="modal-open",Ir="fade",As="show",Ju="modal-static",eh="hidden.bs.modal",th="show.bs.modal",Ns="focusin.bs.modal",nh="resize.bs.modal",tl="click.dismiss.bs.modal",rh="keydown.dismiss.bs.modal",ih="mousedown.dismiss.bs.modal",sh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",nl={backdrop:!0,keyboard:!0,focus:!0,show:!0},qv={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},vi=function(){function m(c,p){this._config=this._getConfig(p),this._element=c,this._dialog=c.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var y=m.prototype;return y.toggle=function(c){return this._isShown?this.hide():this.show(c)},y.show=function(c){var p=this;if(!this._isShown&&!this._isTransitioning){var w=s.default.Event(th,{relatedTarget:c});s.default(this._element).trigger(w),w.isDefaultPrevented()||(this._isShown=!0,s.default(this._element).hasClass(Ir)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),s.default(this._element).on(tl,'[data-dismiss="modal"]',function(x){return p.hide(x)}),s.default(this._dialog).on(ih,function(){s.default(p._element).one("mouseup.dismiss.bs.modal",function(x){s.default(x.target).is(p._element)&&(p._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return p._showElement(c)}))}},y.hide=function(c){var p=this;if(c&&c.preventDefault(),this._isShown&&!this._isTransitioning){var w=s.default.Event("hide.bs.modal");if(s.default(this._element).trigger(w),this._isShown&&!w.isDefaultPrevented()){this._isShown=!1;var x=s.default(this._element).hasClass(Ir);if(x&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),s.default(document).off(Ns),s.default(this._element).removeClass(As),s.default(this._element).off(tl),s.default(this._dialog).off(ih),x){var S=d.getTransitionDurationFromElement(this._element);s.default(this._element).one(d.TRANSITION_END,function(L){return p._hideModal(L)}).emulateTransitionEnd(S)}else this._hideModal()}}},y.dispose=function(){[window,this._element,this._dialog].forEach(function(c){return s.default(c).off(".bs.modal")}),s.default(document).off(Ns),s.default.removeData(this._element,Ss),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},y.handleUpdate=function(){this._adjustDialog()},y._getConfig=function(c){return c=l({},nl,c),d.typeCheckConfig("modal",c,qv),c},y._triggerBackdropTransition=function(){var c=this,p=s.default.Event("hidePrevented.bs.modal");if(s.default(this._element).trigger(p),!p.isDefaultPrevented()){var w=this._element.scrollHeight>document.documentElement.clientHeight;w||(this._element.style.overflowY="hidden"),this._element.classList.add(Ju);var x=d.getTransitionDurationFromElement(this._dialog);s.default(this._element).off(d.TRANSITION_END),s.default(this._element).one(d.TRANSITION_END,function(){c._element.classList.remove(Ju),w||s.default(c._element).one(d.TRANSITION_END,function(){c._element.style.overflowY=""}).emulateTransitionEnd(c._element,x)}).emulateTransitionEnd(x),this._element.focus()}},y._showElement=function(c){var p=this,w=s.default(this._element).hasClass(Ir),x=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),s.default(this._dialog).hasClass("modal-dialog-scrollable")&&x?x.scrollTop=0:this._element.scrollTop=0,w&&d.reflow(this._element),s.default(this._element).addClass(As),this._config.focus&&this._enforceFocus();var S=s.default.Event("shown.bs.modal",{relatedTarget:c}),L=function(){p._config.focus&&p._element.focus(),p._isTransitioning=!1,s.default(p._element).trigger(S)};if(w){var V=d.getTransitionDurationFromElement(this._dialog);s.default(this._dialog).one(d.TRANSITION_END,L).emulateTransitionEnd(V)}else L()},y._enforceFocus=function(){var c=this;s.default(document).off(Ns).on(Ns,function(p){document!==p.target&&c._element!==p.target&&s.default(c._element).has(p.target).length===0&&c._element.focus()})},y._setEscapeEvent=function(){var c=this;this._isShown?s.default(this._element).on(rh,function(p){c._config.keyboard&&p.which===27?(p.preventDefault(),c.hide()):c._config.keyboard||p.which!==27||c._triggerBackdropTransition()}):this._isShown||s.default(this._element).off(rh)},y._setResizeEvent=function(){var c=this;this._isShown?s.default(window).on(nh,function(p){return c.handleUpdate(p)}):s.default(window).off(nh)},y._hideModal=function(){var c=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){s.default(document.body).removeClass(Zu),c._resetAdjustments(),c._resetScrollbar(),s.default(c._element).trigger(eh)})},y._removeBackdrop=function(){this._backdrop&&(s.default(this._backdrop).remove(),this._backdrop=null)},y._showBackdrop=function(c){var p=this,w=s.default(this._element).hasClass(Ir)?Ir:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",w&&this._backdrop.classList.add(w),s.default(this._backdrop).appendTo(document.body),s.default(this._element).on(tl,function(V){p._ignoreBackdropClick?p._ignoreBackdropClick=!1:V.target===V.currentTarget&&(p._config.backdrop==="static"?p._triggerBackdropTransition():p.hide())}),w&&d.reflow(this._backdrop),s.default(this._backdrop).addClass(As),!c)return;if(!w)return void c();var x=d.getTransitionDurationFromElement(this._backdrop);s.default(this._backdrop).one(d.TRANSITION_END,c).emulateTransitionEnd(x)}else if(!this._isShown&&this._backdrop){s.default(this._backdrop).removeClass(As);var S=function(){p._removeBackdrop(),c&&c()};if(s.default(this._element).hasClass(Ir)){var L=d.getTransitionDurationFromElement(this._backdrop);s.default(this._backdrop).one(d.TRANSITION_END,S).emulateTransitionEnd(L)}else S()}else c&&c()},y._adjustDialog=function(){var c=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&c&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!c&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},y._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},y._checkScrollbar=function(){var c=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(c.left+c.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},y._setScrollbar=function(){var c=this;if(this._isBodyOverflowing){var p=[].slice.call(document.querySelectorAll(sh)),w=[].slice.call(document.querySelectorAll(".sticky-top"));s.default(p).each(function(L,V){var ee=V.style.paddingRight,se=s.default(V).css("padding-right");s.default(V).data("padding-right",ee).css("padding-right",parseFloat(se)+c._scrollbarWidth+"px")}),s.default(w).each(function(L,V){var ee=V.style.marginRight,se=s.default(V).css("margin-right");s.default(V).data("margin-right",ee).css("margin-right",parseFloat(se)-c._scrollbarWidth+"px")});var x=document.body.style.paddingRight,S=s.default(document.body).css("padding-right");s.default(document.body).data("padding-right",x).css("padding-right",parseFloat(S)+this._scrollbarWidth+"px")}s.default(document.body).addClass(Zu)},y._resetScrollbar=function(){var c=[].slice.call(document.querySelectorAll(sh));s.default(c).each(function(x,S){var L=s.default(S).data("padding-right");s.default(S).removeData("padding-right"),S.style.paddingRight=L||""});var p=[].slice.call(document.querySelectorAll(".sticky-top"));s.default(p).each(function(x,S){var L=s.default(S).data("margin-right");typeof L<"u"&&s.default(S).css("margin-right",L).removeData("margin-right")});var w=s.default(document.body).data("padding-right");s.default(document.body).removeData("padding-right"),document.body.style.paddingRight=w||""},y._getScrollbarWidth=function(){var c=document.createElement("div");c.className="modal-scrollbar-measure",document.body.appendChild(c);var p=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),p},m._jQueryInterface=function(c,p){return this.each(function(){var w=s.default(this).data(Ss),x=l({},nl,s.default(this).data(),typeof c=="object"&&c?c:{});if(w||(w=new m(this,x),s.default(this).data(Ss,w)),typeof c=="string"){if(typeof w[c]>"u")throw new TypeError('No method named "'+c+'"');w[c](p)}else x.show&&w.show(p)})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return nl}}]),m}();s.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(m){var y,c=this,p=d.getSelectorFromElement(this);p&&(y=document.querySelector(p));var w=s.default(y).data(Ss)?"toggle":l({},s.default(y).data(),s.default(this).data());this.tagName!=="A"&&this.tagName!=="AREA"||m.preventDefault();var x=s.default(y).one(th,function(S){S.isDefaultPrevented()||x.one(eh,function(){s.default(c).is(":visible")&&c.focus()})});vi._jQueryInterface.call(s.default(y),w,this)}),s.default.fn.modal=vi._jQueryInterface,s.default.fn.modal.Constructor=vi,s.default.fn.modal.noConflict=function(){return s.default.fn.modal=Uv,vi._jQueryInterface};var Hv=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],zv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Gv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function oh(m,y,c){if(m.length===0)return m;if(c&&typeof c=="function")return c(m);for(var p=new window.DOMParser().parseFromString(m,"text/html"),w=Object.keys(y),x=[].slice.call(p.body.querySelectorAll("*")),S=function(ee,se){var ie=x[ee],le=ie.nodeName.toLowerCase();if(w.indexOf(ie.nodeName.toLowerCase())===-1)return ie.parentNode.removeChild(ie),"continue";var Te=[].slice.call(ie.attributes),Re=[].concat(y["*"]||[],y[le]||[]);Te.forEach(function(ot){(function(ut,Xt){var ht=ut.nodeName.toLowerCase();if(Xt.indexOf(ht)!==-1)return Hv.indexOf(ht)===-1||!!(zv.test(ut.nodeValue)||Gv.test(ut.nodeValue));for(var Ke=Xt.filter(function(mt){return mt instanceof RegExp}),Vt=0,Kt=Ke.length;Vt<Kt;Vt++)if(Ke[Vt].test(ht))return!0;return!1})(ot,Re)||ie.removeAttribute(ot.nodeName)})},L=0,V=x.length;L<V;L++)S(L);return p.body.innerHTML}var ah="tooltip",rl="bs.tooltip",Yv=s.default.fn.tooltip,Xv=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Kv=["sanitize","whiteList","sanitizeFn"],ks="fade",Os="show",yi="show",il="out",Is="hover",lh="focus",Qv={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Zv={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Jv={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},ey={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},ur=function(){function m(c,p){if(typeof Cs>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=c,this.config=this._getConfig(p),this.tip=null,this._setListeners()}var y=m.prototype;return y.enable=function(){this._isEnabled=!0},y.disable=function(){this._isEnabled=!1},y.toggleEnabled=function(){this._isEnabled=!this._isEnabled},y.toggle=function(c){if(this._isEnabled)if(c){var p=this.constructor.DATA_KEY,w=s.default(c.currentTarget).data(p);w||(w=new this.constructor(c.currentTarget,this._getDelegateConfig()),s.default(c.currentTarget).data(p,w)),w._activeTrigger.click=!w._activeTrigger.click,w._isWithActiveTrigger()?w._enter(null,w):w._leave(null,w)}else{if(s.default(this.getTipElement()).hasClass(Os))return void this._leave(null,this);this._enter(null,this)}},y.dispose=function(){clearTimeout(this._timeout),s.default.removeData(this.element,this.constructor.DATA_KEY),s.default(this.element).off(this.constructor.EVENT_KEY),s.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&s.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},y.show=function(){var c=this;if(s.default(this.element).css("display")==="none")throw new Error("Please use show on visible elements");var p=s.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){s.default(this.element).trigger(p);var w=d.findShadowRoot(this.element),x=s.default.contains(w!==null?w:this.element.ownerDocument.documentElement,this.element);if(p.isDefaultPrevented()||!x)return;var S=this.getTipElement(),L=d.getUID(this.constructor.NAME);S.setAttribute("id",L),this.element.setAttribute("aria-describedby",L),this.setContent(),this.config.animation&&s.default(S).addClass(ks);var V=typeof this.config.placement=="function"?this.config.placement.call(this,S,this.element):this.config.placement,ee=this._getAttachment(V);this.addAttachmentClass(ee);var se=this._getContainer();s.default(S).data(this.constructor.DATA_KEY,this),s.default.contains(this.element.ownerDocument.documentElement,this.tip)||s.default(S).appendTo(se),s.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Cs(this.element,S,this._getPopperConfig(ee)),s.default(S).addClass(Os),s.default(S).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&s.default(document.body).children().on("mouseover",null,s.default.noop);var ie=function(){c.config.animation&&c._fixTransition();var Te=c._hoverState;c._hoverState=null,s.default(c.element).trigger(c.constructor.Event.SHOWN),Te===il&&c._leave(null,c)};if(s.default(this.tip).hasClass(ks)){var le=d.getTransitionDurationFromElement(this.tip);s.default(this.tip).one(d.TRANSITION_END,ie).emulateTransitionEnd(le)}else ie()}},y.hide=function(c){var p=this,w=this.getTipElement(),x=s.default.Event(this.constructor.Event.HIDE),S=function(){p._hoverState!==yi&&w.parentNode&&w.parentNode.removeChild(w),p._cleanTipClass(),p.element.removeAttribute("aria-describedby"),s.default(p.element).trigger(p.constructor.Event.HIDDEN),p._popper!==null&&p._popper.destroy(),c&&c()};if(s.default(this.element).trigger(x),!x.isDefaultPrevented()){if(s.default(w).removeClass(Os),"ontouchstart"in document.documentElement&&s.default(document.body).children().off("mouseover",null,s.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,s.default(this.tip).hasClass(ks)){var L=d.getTransitionDurationFromElement(w);s.default(w).one(d.TRANSITION_END,S).emulateTransitionEnd(L)}else S();this._hoverState=""}},y.update=function(){this._popper!==null&&this._popper.scheduleUpdate()},y.isWithContent=function(){return!!this.getTitle()},y.addAttachmentClass=function(c){s.default(this.getTipElement()).addClass("bs-tooltip-"+c)},y.getTipElement=function(){return this.tip=this.tip||s.default(this.config.template)[0],this.tip},y.setContent=function(){var c=this.getTipElement();this.setElementContent(s.default(c.querySelectorAll(".tooltip-inner")),this.getTitle()),s.default(c).removeClass("fade show")},y.setElementContent=function(c,p){typeof p!="object"||!p.nodeType&&!p.jquery?this.config.html?(this.config.sanitize&&(p=oh(p,this.config.whiteList,this.config.sanitizeFn)),c.html(p)):c.text(p):this.config.html?s.default(p).parent().is(c)||c.empty().append(p):c.text(s.default(p).text())},y.getTitle=function(){var c=this.element.getAttribute("data-original-title");return c||(c=typeof this.config.title=="function"?this.config.title.call(this.element):this.config.title),c},y._getPopperConfig=function(c){var p=this;return l({},{placement:c,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(w){w.originalPlacement!==w.placement&&p._handlePopperPlacementChange(w)},onUpdate:function(w){return p._handlePopperPlacementChange(w)}},this.config.popperConfig)},y._getOffset=function(){var c=this,p={};return typeof this.config.offset=="function"?p.fn=function(w){return w.offsets=l({},w.offsets,c.config.offset(w.offsets,c.element)),w}:p.offset=this.config.offset,p},y._getContainer=function(){return this.config.container===!1?document.body:d.isElement(this.config.container)?s.default(this.config.container):s.default(document).find(this.config.container)},y._getAttachment=function(c){return Qv[c.toUpperCase()]},y._setListeners=function(){var c=this;this.config.trigger.split(" ").forEach(function(p){if(p==="click")s.default(c.element).on(c.constructor.Event.CLICK,c.config.selector,function(S){return c.toggle(S)});else if(p!=="manual"){var w=p===Is?c.constructor.Event.MOUSEENTER:c.constructor.Event.FOCUSIN,x=p===Is?c.constructor.Event.MOUSELEAVE:c.constructor.Event.FOCUSOUT;s.default(c.element).on(w,c.config.selector,function(S){return c._enter(S)}).on(x,c.config.selector,function(S){return c._leave(S)})}}),this._hideModalHandler=function(){c.element&&c.hide()},s.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},y._fixTitle=function(){var c=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||c!=="string")&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},y._enter=function(c,p){var w=this.constructor.DATA_KEY;(p=p||s.default(c.currentTarget).data(w))||(p=new this.constructor(c.currentTarget,this._getDelegateConfig()),s.default(c.currentTarget).data(w,p)),c&&(p._activeTrigger[c.type==="focusin"?lh:Is]=!0),s.default(p.getTipElement()).hasClass(Os)||p._hoverState===yi?p._hoverState=yi:(clearTimeout(p._timeout),p._hoverState=yi,p.config.delay&&p.config.delay.show?p._timeout=setTimeout(function(){p._hoverState===yi&&p.show()},p.config.delay.show):p.show())},y._leave=function(c,p){var w=this.constructor.DATA_KEY;(p=p||s.default(c.currentTarget).data(w))||(p=new this.constructor(c.currentTarget,this._getDelegateConfig()),s.default(c.currentTarget).data(w,p)),c&&(p._activeTrigger[c.type==="focusout"?lh:Is]=!1),p._isWithActiveTrigger()||(clearTimeout(p._timeout),p._hoverState=il,p.config.delay&&p.config.delay.hide?p._timeout=setTimeout(function(){p._hoverState===il&&p.hide()},p.config.delay.hide):p.hide())},y._isWithActiveTrigger=function(){for(var c in this._activeTrigger)if(this._activeTrigger[c])return!0;return!1},y._getConfig=function(c){var p=s.default(this.element).data();return Object.keys(p).forEach(function(w){Kv.indexOf(w)!==-1&&delete p[w]}),typeof(c=l({},this.constructor.Default,p,typeof c=="object"&&c?c:{})).delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),d.typeCheckConfig(ah,c,this.constructor.DefaultType),c.sanitize&&(c.template=oh(c.template,c.whiteList,c.sanitizeFn)),c},y._getDelegateConfig=function(){var c={};if(this.config)for(var p in this.config)this.constructor.Default[p]!==this.config[p]&&(c[p]=this.config[p]);return c},y._cleanTipClass=function(){var c=s.default(this.getTipElement()),p=c.attr("class").match(Xv);p!==null&&p.length&&c.removeClass(p.join(""))},y._handlePopperPlacementChange=function(c){this.tip=c.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(c.placement))},y._fixTransition=function(){var c=this.getTipElement(),p=this.config.animation;c.getAttribute("x-placement")===null&&(s.default(c).removeClass(ks),this.config.animation=!1,this.hide(),this.show(),this.config.animation=p)},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this),w=p.data(rl),x=typeof c=="object"&&c;if((w||!/dispose|hide/.test(c))&&(w||(w=new m(this,x),p.data(rl,w)),typeof c=="string")){if(typeof w[c]>"u")throw new TypeError('No method named "'+c+'"');w[c]()}})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return Zv}},{key:"NAME",get:function(){return ah}},{key:"DATA_KEY",get:function(){return rl}},{key:"Event",get:function(){return ey}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Jv}}]),m}();s.default.fn.tooltip=ur._jQueryInterface,s.default.fn.tooltip.Constructor=ur,s.default.fn.tooltip.noConflict=function(){return s.default.fn.tooltip=Yv,ur._jQueryInterface};var sl="bs.popover",ty=s.default.fn.popover,ny=new RegExp("(^|\\s)bs-popover\\S+","g"),ry=l({},ur.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),iy=l({},ur.DefaultType,{content:"(string|element|function)"}),sy={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Ds=function(m){var y,c;function p(){return m.apply(this,arguments)||this}c=m,(y=p).prototype=Object.create(c.prototype),y.prototype.constructor=y,u(y,c);var w=p.prototype;return w.isWithContent=function(){return this.getTitle()||this._getContent()},w.addAttachmentClass=function(x){s.default(this.getTipElement()).addClass("bs-popover-"+x)},w.getTipElement=function(){return this.tip=this.tip||s.default(this.config.template)[0],this.tip},w.setContent=function(){var x=s.default(this.getTipElement());this.setElementContent(x.find(".popover-header"),this.getTitle());var S=this._getContent();typeof S=="function"&&(S=S.call(this.element)),this.setElementContent(x.find(".popover-body"),S),x.removeClass("fade show")},w._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},w._cleanTipClass=function(){var x=s.default(this.getTipElement()),S=x.attr("class").match(ny);S!==null&&S.length>0&&x.removeClass(S.join(""))},p._jQueryInterface=function(x){return this.each(function(){var S=s.default(this).data(sl),L=typeof x=="object"?x:null;if((S||!/dispose|hide/.test(x))&&(S||(S=new p(this,L),s.default(this).data(sl,S)),typeof x=="string")){if(typeof S[x]>"u")throw new TypeError('No method named "'+x+'"');S[x]()}})},a(p,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return ry}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return sl}},{key:"Event",get:function(){return sy}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return iy}}]),p}(ur);s.default.fn.popover=Ds._jQueryInterface,s.default.fn.popover.Constructor=Ds,s.default.fn.popover.noConflict=function(){return s.default.fn.popover=ty,Ds._jQueryInterface};var hr="scrollspy",ol="bs.scrollspy",oy=s.default.fn[hr],dr="active",ch="position",uh=".nav, .list-group",hh={offset:10,method:"auto",target:""},ay={offset:"number",method:"string",target:"(string|element)"},_i=function(){function m(c,p){var w=this;this._element=c,this._scrollElement=c.tagName==="BODY"?window:c,this._config=this._getConfig(p),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,s.default(this._scrollElement).on("scroll.bs.scrollspy",function(x){return w._process(x)}),this.refresh(),this._process()}var y=m.prototype;return y.refresh=function(){var c=this,p=this._scrollElement===this._scrollElement.window?"offset":ch,w=this._config.method==="auto"?p:this._config.method,x=w===ch?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(S){var L,V=d.getSelectorFromElement(S);if(V&&(L=document.querySelector(V)),L){var ee=L.getBoundingClientRect();if(ee.width||ee.height)return[s.default(L)[w]().top+x,V]}return null}).filter(Boolean).sort(function(S,L){return S[0]-L[0]}).forEach(function(S){c._offsets.push(S[0]),c._targets.push(S[1])})},y.dispose=function(){s.default.removeData(this._element,ol),s.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},y._getConfig=function(c){if(typeof(c=l({},hh,typeof c=="object"&&c?c:{})).target!="string"&&d.isElement(c.target)){var p=s.default(c.target).attr("id");p||(p=d.getUID(hr),s.default(c.target).attr("id",p)),c.target="#"+p}return d.typeCheckConfig(hr,c,ay),c},y._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},y._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},y._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},y._process=function(){var c=this._getScrollTop()+this._config.offset,p=this._getScrollHeight(),w=this._config.offset+p-this._getOffsetHeight();if(this._scrollHeight!==p&&this.refresh(),c>=w){var x=this._targets[this._targets.length-1];this._activeTarget!==x&&this._activate(x)}else{if(this._activeTarget&&c<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var S=this._offsets.length;S--;)this._activeTarget!==this._targets[S]&&c>=this._offsets[S]&&(typeof this._offsets[S+1]>"u"||c<this._offsets[S+1])&&this._activate(this._targets[S])}},y._activate=function(c){this._activeTarget=c,this._clear();var p=this._selector.split(",").map(function(x){return x+'[data-target="'+c+'"],'+x+'[href="'+c+'"]'}),w=s.default([].slice.call(document.querySelectorAll(p.join(","))));w.hasClass("dropdown-item")?(w.closest(".dropdown").find(".dropdown-toggle").addClass(dr),w.addClass(dr)):(w.addClass(dr),w.parents(uh).prev(".nav-link, .list-group-item").addClass(dr),w.parents(uh).prev(".nav-item").children(".nav-link").addClass(dr)),s.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:c})},y._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(c){return c.classList.contains(dr)}).forEach(function(c){return c.classList.remove(dr)})},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this).data(ol);if(p||(p=new m(this,typeof c=="object"&&c),s.default(this).data(ol,p)),typeof c=="string"){if(typeof p[c]>"u")throw new TypeError('No method named "'+c+'"');p[c]()}})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"Default",get:function(){return hh}}]),m}();s.default(window).on("load.bs.scrollspy.data-api",function(){for(var m=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),y=m.length;y--;){var c=s.default(m[y]);_i._jQueryInterface.call(c,c.data())}}),s.default.fn[hr]=_i._jQueryInterface,s.default.fn[hr].Constructor=_i,s.default.fn[hr].noConflict=function(){return s.default.fn[hr]=oy,_i._jQueryInterface};var al="bs.tab",ly=s.default.fn.tab,bi="active",dh="fade",fh="show",ph=".active",mh="> li > .active",wi=function(){function m(c){this._element=c}var y=m.prototype;return y.show=function(){var c=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&s.default(this._element).hasClass(bi)||s.default(this._element).hasClass("disabled")||this._element.hasAttribute("disabled"))){var p,w,x=s.default(this._element).closest(".nav, .list-group")[0],S=d.getSelectorFromElement(this._element);if(x){var L=x.nodeName==="UL"||x.nodeName==="OL"?mh:ph;w=(w=s.default.makeArray(s.default(x).find(L)))[w.length-1]}var V=s.default.Event("hide.bs.tab",{relatedTarget:this._element}),ee=s.default.Event("show.bs.tab",{relatedTarget:w});if(w&&s.default(w).trigger(V),s.default(this._element).trigger(ee),!ee.isDefaultPrevented()&&!V.isDefaultPrevented()){S&&(p=document.querySelector(S)),this._activate(this._element,x);var se=function(){var ie=s.default.Event("hidden.bs.tab",{relatedTarget:c._element}),le=s.default.Event("shown.bs.tab",{relatedTarget:w});s.default(w).trigger(ie),s.default(c._element).trigger(le)};p?this._activate(p,p.parentNode,se):se()}}},y.dispose=function(){s.default.removeData(this._element,al),this._element=null},y._activate=function(c,p,w){var x=this,S=(!p||p.nodeName!=="UL"&&p.nodeName!=="OL"?s.default(p).children(ph):s.default(p).find(mh))[0],L=w&&S&&s.default(S).hasClass(dh),V=function(){return x._transitionComplete(c,S,w)};if(S&&L){var ee=d.getTransitionDurationFromElement(S);s.default(S).removeClass(fh).one(d.TRANSITION_END,V).emulateTransitionEnd(ee)}else V()},y._transitionComplete=function(c,p,w){if(p){s.default(p).removeClass(bi);var x=s.default(p.parentNode).find("> .dropdown-menu .active")[0];x&&s.default(x).removeClass(bi),p.getAttribute("role")==="tab"&&p.setAttribute("aria-selected",!1)}s.default(c).addClass(bi),c.getAttribute("role")==="tab"&&c.setAttribute("aria-selected",!0),d.reflow(c),c.classList.contains(dh)&&c.classList.add(fh);var S=c.parentNode;if(S&&S.nodeName==="LI"&&(S=S.parentNode),S&&s.default(S).hasClass("dropdown-menu")){var L=s.default(c).closest(".dropdown")[0];if(L){var V=[].slice.call(L.querySelectorAll(".dropdown-toggle"));s.default(V).addClass(bi)}c.setAttribute("aria-expanded",!0)}w&&w()},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this),w=p.data(al);if(w||(w=new m(this),p.data(al,w)),typeof c=="string"){if(typeof w[c]>"u")throw new TypeError('No method named "'+c+'"');w[c]()}})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}}]),m}();s.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(m){m.preventDefault(),wi._jQueryInterface.call(s.default(this),"show")}),s.default.fn.tab=wi._jQueryInterface,s.default.fn.tab.Constructor=wi,s.default.fn.tab.noConflict=function(){return s.default.fn.tab=ly,wi._jQueryInterface};var ll="bs.toast",cy=s.default.fn.toast,gh="hide",Ti="show",vh="showing",yh="click.dismiss.bs.toast",_h={animation:!0,autohide:!0,delay:500},uy={animation:"boolean",autohide:"boolean",delay:"number"},Rs=function(){function m(c,p){this._element=c,this._config=this._getConfig(p),this._timeout=null,this._setListeners()}var y=m.prototype;return y.show=function(){var c=this,p=s.default.Event("show.bs.toast");if(s.default(this._element).trigger(p),!p.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var w=function(){c._element.classList.remove(vh),c._element.classList.add(Ti),s.default(c._element).trigger("shown.bs.toast"),c._config.autohide&&(c._timeout=setTimeout(function(){c.hide()},c._config.delay))};if(this._element.classList.remove(gh),d.reflow(this._element),this._element.classList.add(vh),this._config.animation){var x=d.getTransitionDurationFromElement(this._element);s.default(this._element).one(d.TRANSITION_END,w).emulateTransitionEnd(x)}else w()}},y.hide=function(){if(this._element.classList.contains(Ti)){var c=s.default.Event("hide.bs.toast");s.default(this._element).trigger(c),c.isDefaultPrevented()||this._close()}},y.dispose=function(){this._clearTimeout(),this._element.classList.contains(Ti)&&this._element.classList.remove(Ti),s.default(this._element).off(yh),s.default.removeData(this._element,ll),this._element=null,this._config=null},y._getConfig=function(c){return c=l({},_h,s.default(this._element).data(),typeof c=="object"&&c?c:{}),d.typeCheckConfig("toast",c,this.constructor.DefaultType),c},y._setListeners=function(){var c=this;s.default(this._element).on(yh,'[data-dismiss="toast"]',function(){return c.hide()})},y._close=function(){var c=this,p=function(){c._element.classList.add(gh),s.default(c._element).trigger("hidden.bs.toast")};if(this._element.classList.remove(Ti),this._config.animation){var w=d.getTransitionDurationFromElement(this._element);s.default(this._element).one(d.TRANSITION_END,p).emulateTransitionEnd(w)}else p()},y._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},m._jQueryInterface=function(c){return this.each(function(){var p=s.default(this),w=p.data(ll);if(w||(w=new m(this,typeof c=="object"&&c),p.data(ll,w)),typeof c=="string"){if(typeof w[c]>"u")throw new TypeError('No method named "'+c+'"');w[c](this)}})},a(m,null,[{key:"VERSION",get:function(){return"4.6.2"}},{key:"DefaultType",get:function(){return uy}},{key:"Default",get:function(){return _h}}]),m}();s.default.fn.toast=Rs._jQueryInterface,s.default.fn.toast.Constructor=Rs,s.default.fn.toast.noConflict=function(){return s.default.fn.toast=cy,Rs._jQueryInterface},n.Alert=g,n.Button=T,n.Carousel=Y,n.Collapse=De,n.Dropdown=Un,n.Modal=vi,n.Popover=Ds,n.Scrollspy=_i,n.Tab=wi,n.Toast=Rs,n.Tooltip=ur,n.Util=d,Object.defineProperty(n,"__esModule",{value:!0})})})(df,df.exports);const G2=document.getElementById("root"),Y2=gf(G2);Y2.render(I.jsx(z2,{}));
