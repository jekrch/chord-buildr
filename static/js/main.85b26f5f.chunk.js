(this["webpackJsonpchord-builder"]=this["webpackJsonpchord-builder"]||[]).push([[0],{48:function(e,t,c){},55:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c.n(n),r=c(18),a=c.n(r),s=(c(68),c(69),c(70),c(11)),i=c(52),l=c(7),d=c(1),u=c(10),h=[{note:"C",color:"white"},{note:"C#",color:"black"},{note:"D",color:"white"},{note:"D#",color:"black"},{note:"E",color:"white"},{note:"F",color:"white"},{note:"F#",color:"black"},{note:"G",color:"white"},{note:"G#",color:"black"},{note:"A",color:"white"},{note:"A#",color:"black"},{note:"B",color:"white"}],b=function(){for(var e=[],t=0;t<3;t++){for(var c=[],n=0;n<h.length;n++){var o={},r=h[n];o.note=r.note,o.color=r.color,o.selected=!1,o.noteNumber=n+1,o.octave=t,c.push(o)}e.push(c)}return e};var j={1:"C",2:"C#",3:"D",4:"D#",5:"E",6:"F",7:"F#",8:"G",9:"G#",10:"A",11:"A#",12:"B"},v={1:"C",2:"Db",3:"D",4:"Eb",5:"E",6:"F",7:"Gb",8:"G",9:"Ab",10:"A",11:"Bb",12:"B"},p={C:1,"C#":2,Db:2,D:3,"D#":4,Eb:4,E:5,F:6,"F#":7,Gb:7,G:8,"G#":9,Ab:9,A:10,"A#":11,Bb:11,B:12};function O(e){return e.charAt(0).toUpperCase()+e.charAt(1).toLowerCase()}function f(e){if(e)return e=O(e),p[e]}function m(e,t){var c=function(e){for(;e>12;)e-=12;for(;e<1;)e+=12;return e}(t),n=function(e){switch(e=O(e)){case"C":case"C#":case"D":case"E":case"F#":case"G":case"A":case"B":return j;case"G#":case"Ab":case"A#":case"Bb":case"Cb":case"Db":case"D#":case"Eb":case"F":case"Gb":default:return v}}(e);return O(n[c])}function x(e,t){for(;e>12;)e-=12,t<2&&t++;for(;e<1;)e+=12,0!==t&&t--;return{noteNumber:e,octave:t}}var y={"":[0,4,7],m:[0,3,7],m6:[0,3,7,9],m7:[0,3,7,10],m9:[0,3,7,10,14],maj7:[0,4,7,11],maj9:[0,4,7,11,14],maj13:[0,4,7,11,14,21],6:[0,4,7,9],5:[0,7],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,4,7,10,14,17],13:[0,4,7,10,14,17,21],"6/9":[0,4,7,9,14],dim:[0,3,6],dim7:[0,3,6,9],sus2:[0,2,7],sus4:[0,5,7],aug:[0,4,8],add9:[0,4,7,14],add2:[0,2,4,7],mM7:[0,3,7,11],m11:[0,3,7,10,14,17],m13:[0,3,7,10,14,17,21],"7sus4":[0,5,7,10],"7b9":[0,4,7,10,13],"7#5":[0,4,8,10],"7b5":[0,4,6,10],"7#11":[0,4,7,10,18],"m7#9":[0,3,7,10,15],m7b9:[0,3,7,10,13],"m7#5":[0,3,8,10],m7b5:[0,3,6,10],"m7#11":[0,3,7,10,18],"9sus4":[0,5,7,10,14],"+":[0,4,8],x:[0]};function C(e){var t,c,n,o={};try{if((e=e.replace("(","")).includes("&amp"))return;e.includes("&fbclid")&&(e=function(e){var t=e.indexOf("&fbclid"),c=e.substring(t,t+69);return e=e.replace(c,""),console.log("fbCode removed: "+c),e}(e)),e=e.split("#piano-")[0],o.octave=function(e,t){var c=e.substring(0,1);return!c||isNaN(c)||Number(c)<0?c=0:Number(c)>2&&(c=2),c}(e),e=e.replace(")",""),o.isKey=e.includes("*");var r="#"===(e=function(e,t){if(e.includes(":")){var c=e.split(":").pop();t.slashNote=c,t.slash=!0,e=e.replace(":"+c,"")}return e}(e=e.replace("*",""),o)).substring(2,3)||"b"===e.substring(2,3)?3:2;o.noteLetter=(t=e.substring(1,r)).charAt(0).toUpperCase()+t.slice(1),o.type=e.substring(r),console.log(o)}catch(a){return console.log(a),void console.log("Exception - invalid chord code: "+e)}if(n=o.type,void 0!==y[n]&&((c=o.noteLetter).includes("b")?Object.values(v).includes(c):Object.values(j).includes(c)))return o;console.log("Invalid chord code: "+e+"; letter: "+o.noteLetter+"; type: "+o.type)}function g(e){for(var t="",c=0;c<e.chordPianoSet.length;c++){var n=e.chordPianoSet[c],o=n.selectedChord;if(o){var r=o.octave+o.noteLetter+o.type;n.isProgKey&&(r+="*"),N(o)&&(o.slashNote=P(n.showFlats,o.slashNote),r+=":"+o.slashNote),t+="(".concat(r,")")}}return t}function N(e){return e.slash&&e.slashNote&&""!==e.slashNote}function P(e,t){var c=f(t);if(e){if(t.includes("#"))return v[c]}else if(t.includes("b"))return j[c];return t}function S(e,t){var c=e.selectedChord.noteLetter,n=t.noteLetter,o=f(c);return f(n)-o}function A(e,t){var c,n={},o=e.selectedChord.noteLetter,r=null!==(c=e.selectedChord.octave)&&void 0!==c?c:0,a=x(f(o)+t,r),s=m("C",a.noteNumber);return n.noteLetter=P(e.showFlats,s),n.octave=a.octave,n}function I(e,t){if(void 0===e||""===e)return e;var c=f(e)+t;return 0===c&&(c=12),m("C",c)}function E(e){return D(e,e.selectedChord,!0)}function k(e){return D(e,e.selectedChord,!1)}function D(e,t,c){(function(e){return T(e.piano)&&!0===e.rendered})(e)||function(e,t){(function(e){for(var t=0;t<e.length;t++)for(var c=e[t],n=0;n<c.length;n++)c[n].selected=!1})(t.piano),e.notes.forEach((function(c){var n=x(c,e.octave);!function(e,t,c){var n=e.piano;if(function(e,t,c){if(!e||!e[t])return!0}(n,t))return void console.log("skipped invalid note: "+t+" : "+c);var o=n[t][c-1];if(!o||o.selected)return void console.log("SKIPPED INVALID NOTE: "+t+" : "+c);o.selected=!0,o.isStopping=null}(t,n.octave,n.noteNumber)})),t.rendered=!0}(w(t,c),e)}function w(e,t){var c=e.noteLetter,n=e.type,o=e.octave,r=e.slashNote;o&&null!==o||(o=0);var a=f(c),s=f(r);return function(e,t,c,n,o){var r={rooteNoteNumber:t,notes:[],octave:e,octaveAllowance:2-e};if(n){var a=function(e){var t=0;return e.notes.forEach((function(c){var n=Math.ceil(c/12)-1;if(n>=e.octaveAllowance){var o=n-e.octaveAllowance;o>t&&(t=o)}})),t}(r=function(e,t,c,n){if(t=function(e,t){return e.filter((function(e){return!((e-t)%12===0)}))}(t,c),e.notes.push(c),t.every((function(e){return e>c})))t.forEach((function(t){t-12>c&&(t-=12),e.notes.push(t)}));else{(function(e,t,c){var n=!1;return t.forEach((function(t){e>t&&(c.rooteNoteNumber===t&&(n=!0),t+=12),c.notes.push(t)})),n})(c,t,e)&&e.octave>0&&n&&(e.octave-=1,e.octaveAllowance+=1)}return e}(r,c,n,o));r.octave-=a}else r.notes=c;return r}(o,a,function(e,t){for(var c=y[t],n=[],o=0;o<c.length;o++){var r=e+c[o];n.push(r)}return n}(a,n),s,t)}function T(e){for(var t=0;t<e.length;t++)for(var c=e[t],n=0;n<c.length;n++)if(c[n].selected)return!0;return!1}function B(e,t){var c=C(t);return void 0!==c?{id:e,piano:b(),selectedKey:{noteLetter:c.noteLetter,octave:c.octave},showFlats:c.noteLetter.includes("b")||null!=c.slashNote&&c.slashNote.includes("b"),isProgKey:c.isKey,selectedChord:{noteLetter:c.noteLetter,type:c.type,octave:c.octave,slash:c.slash,slashNote:c.slashNote}}:void 0}function M(e,t,c,n){var o=S(c,n),r=function(e,t){return S(e,t)+12*(t.octave-e.selectedChord.octave)}(c,n);if(0!==r)for(var a=0;a<t.length;a++){var s=t[a],i=K(s.selectedChord,!1);if(s.selectedChord.slashNote=I(s.selectedChord.slashNote,o),s.id!==e)F(s,A(s,o)),k(s=L(K(s.selectedChord,!0),i,r,s))}}function F(e,t){e.selectedKey=t,e.selectedChord.noteLetter=t.noteLetter,e.selectedChord.octave=t.octave,e.rendered=!1}function L(e,t,c,n){var o=e-t-c;return Math.abs(o)>6&&(o>0?n.selectedKey.octave>0&&(n.selectedKey.octave--,n.selectedChord.octave--,n.rendered=!1):n.selectedKey.octave<2&&(n.selectedKey.octave++,n.selectedChord.octave++,n.rendered=!1)),n}function K(e,t){var c=w(e,!t);return c.notes[0]+12*c.octave}var H=c(3),R="PIANO_STATE",G={history:null,previousProgCodes:[],currentProgCode:null,building:!1,chordPianoSet:[Z(0)]};function Y(e,t){var c=e.chordPianoSet.filter((function(e){return e.id===t}));return c.length>0?c[0]:null}function V(e,t){if(!e.building){t.includes("%")&&(t=decodeURIComponent(t));var c=t.split(")"),n=[];e.building=!0;for(var o=!1,r=0;r<c.length;r++){var a=c[r];if(""!==a){console.log(a);var s=B(r,a);s&&(o=z(s,o),n.push(s))}}return e.chordPianoSet=n,e.building=!1,U(e),e}}function z(e,t){return e.isProgKey&&(t?e.isProgKey=!1:t=!0),t}function U(e){if(!e.building){var t=g(e),c="?prog="+t;e.currentProgCode&&e.previousProgCodes.push(e.currentProgCode),e.currentProgCode=t,e.history.push({search:c})}}function Z(e){return{id:e,piano:b(),selectedKey:{noteLetter:"C",octave:0},selectedChord:{noteLetter:"C",type:"",octave:1}}}var J=JSON.parse(sessionStorage.getItem(R)),X=Object(d.a)(Object(d.a)({},G),J),Q=function(e,t){var c=t.id;switch(c||(c=0),t.type){case"UPDATE_PIANO":return e.chordPianoSet=e.chordPianoSet.map((function(e){return e.id===c?Object(d.a)(Object(d.a)({},e),{},{piano:t.payload}):e})),Object(d.a)(Object(d.a)({},e),{},{chordPianoSet:e.chordPianoSet,history:e.history,building:e.building});case"UPDATE_KEY":var n=Y(e,c);if(t.payload.noteLetter=P(n.showFlats,t.payload.noteLetter),n){if(n.isProgKey){var o=t.payload;M(c,e.chordPianoSet,n,o)}n.selectedKey=t.payload,n.selectedChord.noteLetter=t.payload.noteLetter,n.selectedChord.octave=t.payload.octave,n.rendered=!1,E(n)}else console.log("Piano not found: "+c);return U(e),Object(d.a)(Object(d.a)({},e),{},{chordPianoSet:e.chordPianoSet,history:e.history});case"UPDATE_CHORD_TYPE":return(n=Y(e,c))&&(n.selectedChord.type=t.chordType,n.rendered=!1,E(n)),U(e),Object(d.a)(Object(d.a)({},e),{},{chordPianoSet:e.chordPianoSet,history:e.history});case"UPDATE_SLASH_CHORD":return(a=Y(e,c))&&(a.selectedChord.slash=t.isSlashChord,a.selectedChord.slashNote=t.slashNote),a.rendered=!1,E(a),U(e),Object(d.a)(Object(d.a)({},e),{},{chordPianoSet:e.chordPianoSet,history:e.history});case"UPDATE_SHOW_FLATS":return(a=Y(e,c))&&(a.showFlats=t.showFlats,a.selectedKey.noteLetter=P(a.showFlats,a.selectedKey.noteLetter),a.selectedChord.noteLetter=a.selectedKey.noteLetter),U(e),Object(d.a)(Object(d.a)({},e),{},{chordPianoSet:e.chordPianoSet,history:e.history});case"ADD_CHORD_PIANO":if(null!==t.payload){t.payload=null;var r=function(e){var t=Math.max.apply(Math,Object(u.a)(e.chordPianoSet.map((function(e){return e.id}))));return null===t||t===-1/0?0:t+1}(e);e.chordPianoSet=e.chordPianoSet.concat(Z(r)),U(e)}return Object(d.a)(Object(d.a)({},e),{},{chordPianoSet:e.chordPianoSet,history:e.history});case"REMOVE_PIANO":return e.chordPianoSet=e.chordPianoSet.filter((function(e){return e.id!==t.id})),U(e),Object(d.a)(Object(d.a)({},e),{},{chordPianoSet:e.chordPianoSet,history:e.history});case"SET_PROG_KEY":var a;if(t.keyChecked)!function(e,t){!function(e){for(var t=0;t<e.chordPianoSet.length;t++)e.chordPianoSet[t].isProgKey=!1}(e),Y(e,t).isProgKey=!0}(e,t.id);else(a=Y(e,t.id)).isProgKey=!1;return U(e),Object(d.a)(Object(d.a)({},e),{},{chordPianoSet:e.chordPianoSet});case"BUILD_PROG_FROM_CODE":if(null!==t.payload){var s=t.payload;t.payload=null,V(e,s)}return Object(d.a)(Object(d.a)({},e),{},{chordPianoSet:e.chordPianoSet,history:e.history,building:e.building});case"LOAD_PREVIOUS_PROG_CODE":if(e.previousProgCodes.length>0){var i=e.previousProgCodes.length-1;(e=V(e,e.previousProgCodes[i])).changed=i,e.previousProgCodes.splice(i,2)}return Object(d.a)(Object(d.a)({},e),{},{chordPianoSet:e.chordPianoSet,history:e.history,previousProgCodes:e.previousProgCodes,currentProgCode:e.currentProgCode});default:return e}},W=Object(n.createContext)(),_=function(e){var t=Object(n.useReducer)(Q,X),c=Object(l.a)(t,2),o=c[0],r=c[1];return Object(n.useEffect)((function(){sessionStorage.setItem(R,JSON.stringify(o))}),[o]),Object(H.jsx)(W.Provider,{value:{state:o,dispatch:r},children:e.children})},q=c(34),$=c(41),ee=(c(55),c(63)),te=c(27),ce=null;function ne(e,t,c){var n=Y(t,c),o=(null!==ce||(ce=(new ee.a).toDestination(),te.isMobile&&ce.set({latencyHint:"balanced"})),ce);o.toDestination();var r=function(e){for(var t=[],c=0;c<e.length;c++)for(var n=e[c],o=0;o<n.length;o++){var r=n[o];if(r.selected){var a="".concat(r.note.toUpperCase()).concat(c+3);t.push(a),te.isMobile||(r.isStopping=null,r.isPlaying=!0)}}return t}(n.piano);te.isMobile||e({type:"UPDATE_PIANO",id:n.id,payload:n.piano}),o.releaseAll(),o.volume.value=function(e){for(var t=[],c=0;c<e.length;c++)for(var n=e[c],o=0;o<n.length;o++){var r=n[o];if(r.selected){var a=r.noteNumber+12*r.octave;t.push(a)}}return 2-Math.max.apply(Math,t)/2.5}(n.piano),console.log("vol: "+o.volume.value),o.triggerAttackRelease(r,"1.1",te.isMobile?"+0.15":"+0.03","0.7"),te.isMobile||function(e,t){setTimeout((function(){for(var c=t.piano,n=0;n<c.length;n++)for(var o=c[n],r=0;r<o.length;r++){var a=o[r];a.isPlaying&&(a.isPlaying=!1,a.isStopping=!0)}e({type:"UPDATE_PIANO",id:t.id,payload:t.piano})}),1500)}(e,n)}var oe=c(53),re=function(){var e=Object(n.useContext)(W),t=e.state,c=e.dispatch,o=Object(n.useState)(!1),r=Object(l.a)(o,2),a=r[0],s=r[1];Object(n.useEffect)((function(){if(t.chordPianoSet&&!(t.chordPianoSet.length<1)&&a){var e="piano-"+t.chordPianoSet[t.chordPianoSet.length-1].id;oe.scroller.scrollTo(e,{duration:500,smooth:!0,offset:-130,spy:!0,hashSpy:!0,to:e}),s(!1)}}),[t.chordPianoSet]);return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)(q.a,{fixed:"top",className:"flex-column mainHeader",children:Object(H.jsxs)("div",{className:"headerContainer",children:[Object(H.jsxs)("div",{className:"buttonContainer row",children:[Object(H.jsx)($.a,{variant:"primary",size:"sm",className:"btn-main chord-btn ",onClick:function(){return c({type:"ADD_CHORD_PIANO",payload:"selectedKey"}),void s(!0)},children:"Add"}),Object(H.jsx)($.a,{variant:"primary",size:"sm",className:"btn-main chord-btn",onClick:function(){c({type:"LOAD_PREVIOUS_PROG_CODE",payload:""})},children:"Undo"}),Object(H.jsx)($.a,{variant:"primary",size:"sm",className:"btn-main chord-btn",onClick:function(){c({type:"BUILD_PROG_FROM_CODE",payload:""})},children:"Clear"})]}),Object(H.jsx)("ul",{className:"progression row",style:{listStyle:"none"},children:t.chordPianoSet.map((function(e,n){return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(oe.Link,{className:"chordListItem",to:"piano-"+e.id,spy:!0,offset:-130,isDynamic:!0,duration:500,smooth:!0,onClick:function(n){return function(e){ne(c,t,e)}(e.id)},children:Object(H.jsxs)("div",{className:"chordItem",children:["\xa0",e.selectedChord.noteLetter,e.selectedChord.type,N(e.selectedChord)?"/"+e.selectedChord.slashNote:""]})},e.id),"\xa0",n!==t.chordPianoSet.length-1?"|":""]})}))})]})})})},ae=(c(48),function(e){var t=e.pianoKey,c=e.handleClick;return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)("li",{"key-selected":"".concat(t.selected),"key-playing":"".concat(t.isPlaying),"key-stopping":"".concat(null!==t.isStopping?t.isStopping:null),className:"".concat(t.color," ").concat(t.note," ").concat(t.note,"-").concat(t.octave),onClick:function(){return c(t.note,t.noteNumber,t.octave)}})})}),se=function(e){var t=e.pianoComponentId,c=Object(n.useContext)(W),o=c.state,r=c.dispatch,a=t,s=function(){r({type:"REMOVE_PIANO",id:a})};return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)("div",{className:"pianoContainer",children:[Object(H.jsx)("button",{type:"button",className:"piano-play-button",onClick:function(){ne(r,o,a)}}),Object(H.jsxs)("div",{className:"pianoBox",children:[Object(H.jsx)("button",{type:"button",className:"close pianoCloseButton","aria-label":"Close",onClick:function(){return s()},children:Object(H.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(H.jsx)("ul",{className:"set",children:Y(o,a).piano.map((function(e,t){return e.map((function(e){return e.octave=t,Object(H.jsx)(ae,{pianoKey:e,handleClick:function(){return function(e,t,c){var n=m("C",t),o={};o.noteLetter=n,o.octave=c,r({type:"UPDATE_KEY",id:a,payload:o})}(e.note,e.noteNumber,e.octave)}},"".concat(e.note,"-").concat(t))}))}))})]}),Object(H.jsx)("div",{className:"closeContainer",children:Object(H.jsx)("button",{type:"button",className:"close pianoCloseButtonMobile","aria-label":"Close",onClick:function(){return s()},children:Object(H.jsx)("span",{className:"mobileClosedBtnText",children:"\xd7"})})})]})})},ie=c(23),le=function(e){var t,c,o,r,a=e.pianoComponentId,s=Object(n.useContext)(W),i=s.state,l=s.dispatch,d=Object(n.useRef)({}),u=Y(i,a);d.current.showFlats=u.showFlats||u.selectedKey.noteLetter.includes("b")||null!=u.selectedChord.slashNote&&u.selectedChord.slashNote.includes("b"),d.current.isProgKey=null!==(t=u.isProgKey)&&void 0!==t&&t,d.current.selectedChordKey=P(d.current.showFlats,null!==(c=u.selectedKey.noteLetter)&&void 0!==c?c:"C"),d.current.type=u.selectedChord.type,d.current.id=u.id,d.current.slashChord=null!==(o=u.selectedChord.slash)&&void 0!==o&&o,d.current.slashNote=P(d.current.showFlats,null!==(r=u.selectedChord.slashNote)&&void 0!==r?r:""),d.current.noteArray=de(d.current.showFlats),Object(n.useEffect)((function(){T(u.piano)||E(u),i.building||E(u)}));var h=Object.keys(y);return Object(H.jsx)(ie.a,{className:"chordInputForm",children:Object(H.jsxs)(ie.a.Group,{controlId:"chordSelection",children:[Object(H.jsx)("div",{className:"chordInputSelection keySelection",children:Object(H.jsx)(ie.a.Control,{as:"select",value:d.current.selectedChordKey,custom:!0,className:"selectorBox",onChange:function(e){return function(e){var t;null!==e.target.value&&(d.current.noteArray=de(d.current.showFlats),u.selectedKey.noteLetter=e.target.value,l({type:"UPDATE_KEY",id:u.id,payload:{noteLetter:e.target.value,octave:null!==(t=u.selectedKey.octave)&&void 0!==t?t:0}}))}(e)},children:d.current.noteArray.map((function(e,t){return Object(H.jsx)("option",{value:e,children:e},t)}))})}),Object(H.jsx)("div",{className:"chordInputSelection typeSelection",children:Object(H.jsx)(ie.a.Control,{className:"selectorBox",as:"select",value:d.current.type,custom:!0,onChange:function(e){return function(e){d.current.type=e.target.value,l({type:"UPDATE_CHORD_TYPE",id:u.id,chordType:d.current.type})}(e)},children:h.map((function(e,t){return Object(H.jsx)("option",{value:e,children:e},t)}))})}),Object(H.jsx)(ie.a.Check,{type:"checkbox",label:"key",checked:d.current.isProgKey,className:"keyCheckBox chordCheckBox",onChange:function(e){return function(e){l({type:"SET_PROG_KEY",keyChecked:e.target.checked,id:u.id})}(e)}},Number(d.current.id)),Object(H.jsx)(ie.a.Check,{type:"checkbox",label:"slash",checked:d.current.slashChord,className:"slashCheckBox chordCheckBox",onChange:function(e){return function(e){d.current.slashChord=e.target.checked,l({type:"UPDATE_SLASH_CHORD",isSlashChord:d.current.slashChord,id:u.id})}(e)}},"slash"+d.current.id),Object(H.jsx)(ie.a.Check,{type:"checkbox",label:"b",checked:d.current.showFlats,className:"flatCheckBox chordCheckBox",onChange:function(e){return function(e){d.current.showFlats=e.target.checked,l({type:"UPDATE_SHOW_FLATS",showFlats:d.current.showFlats,id:u.id})}(e)}},"flat"+d.current.id),Object(H.jsxs)("div",{className:"slashSelection",children:[Object(H.jsx)("div",{className:"slashSymbol","display-option":"".concat(d.current.slashChord),children:"/"}),Object(H.jsx)("div",{className:"slashChordSelection","display-option":"".concat(d.current.slashChord),children:Object(H.jsx)(ie.a.Control,{className:"selectorBox slashSelectorBox",as:"select",value:d.current.slashNote,custom:!0,onChange:function(e){return function(e){null!==e.target.value&&(d.current.slashNote=e.target.value,l({type:"UPDATE_SLASH_CHORD",isSlashChord:d.current.slashChord,slashNote:d.current.slashNote,id:u.id}))}(e)},children:d.current.noteArray.concat("").map((function(e,t){return Object(H.jsx)("option",{value:e,children:e},t)}))})})]})]})})};function de(e){return e?Object.values(v):Object.values(j)}var ue=function(e){var t=e.pianoComponentId;return Object(H.jsx)(H.Fragment,{children:Object(H.jsx)("div",{className:"container chordPiano",id:"piano-"+t,children:Object(H.jsx)("div",{className:"contentBox row",children:Object(H.jsxs)("div",{className:"pianoChordBox",children:[Object(H.jsx)(le,{className:"chordBox",pianoComponentId:t},"c-".concat(t)),Object(H.jsx)(se,{className:"pianoBox",pianoComponentId:Number(t)},Number(t))]})})})})},he=function(){var e=Object(n.useContext)(W),t=e.state,c=e.dispatch,r=Object(s.f)();t.history=r;var a=o.a.useState(),i=Object(l.a)(a,2)[1],d=o.a.useCallback((function(){return i({})}),[]);Object(n.useEffect)((function(){d()}),[t.chordPianoSet,d]),function(e,t,c){var n=g(e),o=t.location.search.replace("?prog=","");o+=t.location.hash,e.building||n===o||(console.log("New chord code provided "+n+" vs "+o),c({type:"BUILD_PROG_FROM_CODE",payload:o}))}(t,r,c);return Object(H.jsxs)("div",{className:"pianoBoard",children:[t.chordPianoSet.map((function(e){return Object(H.jsxs)("div",{children:[Object(H.jsx)(ue,{id:"piano-"+e.id,className:"row chordPianoComponent",pianoComponentId:Number(e.id),history:r},"piano-"+e.id),Object(H.jsx)("div",{className:"pianoStrip"},"strip-"+e.id)]},e.id)})),Object(H.jsx)("div",{className:"pianoBoardGutter"})]},"pianoBoard")};var be=c(28),je=function(){var e=o.a.useState(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],r=o.a.useState(!1),a=Object(l.a)(r,2),s=a[0],i=a[1];function u(e){return Object(H.jsxs)(be.a,Object(d.a)(Object(d.a)({},e),{},{size:"l",className:"aboutModal","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(H.jsx)(be.a.Header,{className:"modalHeader",closeButton:!0,children:Object(H.jsx)("div",{className:"headerBackground"})}),Object(H.jsxs)(be.a.Body,{children:[Object(H.jsx)("p",{className:"aboutDescriptionText",children:"Chord Buildr provides an easy way for musicians and music lovers to create and share chord progressions."}),Object(H.jsx)("hr",{className:"modalLine"}),Object(H.jsxs)("p",{children:[Object(H.jsxs)("h6",{children:[Object(H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-music-note",viewBox:"0 0 16 16",children:[Object(H.jsx)("path",{d:"M9 13c0 1.105-1.12 2-2.5 2S4 14.105 4 13s1.12-2 2.5-2 2.5.895 2.5 2z"}),Object(H.jsx)("path",{"fill-rule":"evenodd",d:"M9 3v10H8V3h1z"}),Object(H.jsx)("path",{d:"M8 2.82a1 1 0 0 1 .804-.98l3-.6A1 1 0 0 1 13 2.22V4L8 5V2.82z"})]})," ","transpose"]}),Object(H.jsxs)("div",{className:"aboutFeatureText",children:["Mark a chord as the key and the rest of your progression will transpose as you change its root note."," "]}),Object(H.jsx)("br",{}),Object(H.jsxs)("h6",{children:[Object(H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-music-note-beamed",viewBox:"0 0 16 16",children:[Object(H.jsx)("path",{d:"M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"}),Object(H.jsx)("path",{"fill-rule":"evenodd",d:"M14 11V2h1v9h-1zM6 3v10H5V3h1z"}),Object(H.jsx)("path",{d:"M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"})]})," ","share"]}),Object(H.jsx)("div",{className:"aboutFeatureText",children:"To share a progression, simply copy the URL. No account needed!"}),Object(H.jsx)("br",{})]}),Object(H.jsxs)("p",{className:"creditsText",children:["Chord Buildr is an"," ",Object(H.jsx)("a",{className:"modalText",href:"https://github.com/jekrch/chord-buildr",children:"open source"})," ","project ",Object(H.jsx)("br",{})," by"," ",Object(H.jsx)("a",{className:"modalText",href:"https://www.jacobkrch.com",children:"Jacob Krch"})," ","and"," ",Object(H.jsx)("a",{className:"modalText",href:"https://www.linkedin.com/in/teran-keith-210941107/",children:"Teran Keith"})]}),Object(H.jsxs)("p",{className:"copyrightText",children:["\xa9 2020-",(new Date).getFullYear()," Jacob Krch All Rights Reserved"]})]})]}))}function h(e){return Object(H.jsxs)(be.a,Object(d.a)(Object(d.a)({},e),{},{size:"l","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(H.jsxs)(be.a.Header,{className:"modalHeader",closeButton:!0,children:[Object(H.jsx)("div",{className:"headerBackground"}),Object(H.jsx)("br",{})]}),Object(H.jsxs)(be.a.Body,{class:"verModalBody",scrollable:!0,style:{maxHeight:"calc(100vh - 210px)",overflowY:"auto"},children:[Object(H.jsx)("br",{}),Object(H.jsx)("p",{className:"versionDescriptionText",children:"Version history"}),Object(H.jsx)("br",{}),Object(H.jsx)("div",{children:Object(H.jsx)("div",{class:"versionList3",children:Object(H.jsxs)("p",{children:[Object(H.jsx)("div",{class:"verHeader",children:"1.0 - 03.20.2021"}),Object(H.jsxs)("p",{children:[Object(H.jsx)("div",{class:"verItem",children:"user chord input with interactive keyboards"}),Object(H.jsx)("div",{class:"verItem",children:"url encoded progressions for sharing"}),Object(H.jsx)("div",{class:"verItem",children:"synth playback via buttons and chord chart"}),Object(H.jsx)("div",{class:"verItem",children:"undo and clear functionality"}),Object(H.jsx)("div",{class:"verItem",children:"navigate to chords on chart click"})]}),Object(H.jsx)("div",{class:"verHeader",children:"1.1 - 05.16.2021"}),Object(H.jsxs)("p",{children:[Object(H.jsx)("div",{class:"verItem",children:"redesigned UI for mobile"}),Object(H.jsx)("div",{class:"verItem",children:"improved url handling for facebook and google"}),Object(H.jsx)("div",{class:"verItem",children:"performance improvements"})]}),Object(H.jsx)("div",{class:"verHeader",children:"1.2 - 09.05.2021"}),Object(H.jsxs)("p",{children:[Object(H.jsx)("div",{class:"verItem",children:"display flats instead of sharps for a given chord piano"}),Object(H.jsx)("div",{class:"verItem",children:"security updates"})]}),Object(H.jsx)("div",{class:"verHeader",children:"1.3 - 09.11.2021"}),Object(H.jsxs)("p",{children:[Object(H.jsx)("div",{class:"verItem",children:"adjust volume to reduce distortion"}),Object(H.jsx)("div",{class:"verItem",children:"modify chord volume according to pitch"}),Object(H.jsx)("div",{class:"verItem",children:"version history modal"})]})]})})})]})]}))}return Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(q.a,{className:"footNav",fixed:"bottom",children:[Object(H.jsx)(q.a.Brand,{href:"https://github.com/jekrch/chord-buildr",children:Object(H.jsx)("img",{className:"gitSrc",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwQTM4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwQTI4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTMyOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJBNDE0QUJDOTlBMTExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+8kSqyAAADD5JREFUeNrsXQ2Q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",alt:"github"})})," ",Object(H.jsx)("div",{className:"footNavVersion",onClick:function(){return i(!0)},children:"v1.3"}),Object(H.jsx)("div",{className:"footNavAbout",onClick:function(){return n(!0)},children:"about"}),Object(H.jsx)(u,{show:c,onHide:function(){return n(!1)}}),Object(H.jsx)(h,{show:s,onHide:function(){return i(!1)}}),Object(H.jsx)("h1",{className:"titleText",children:"chord buildr"})]})})},ve=function(){return Object(H.jsx)("div",{className:"App",children:Object(H.jsxs)(_,{children:[Object(H.jsx)(re,{}),Object(H.jsx)("div",{className:" mainContainer",children:Object(H.jsx)(i.a,{children:Object(H.jsx)(s.c,{children:Object(H.jsx)(s.a,{exact:!0,path:["/","/chord-buildr/"],component:he})})})}),Object(H.jsx)(je,{})]})})},pe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,96)).then((function(t){var c=t.getCLS,n=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),o(e),r(e),a(e)}))};a.a.render(Object(H.jsx)(o.a.StrictMode,{children:Object(H.jsx)(ve,{})}),document.getElementById("root")),pe()}},[[94,1,2]]]);
//# sourceMappingURL=main.85b26f5f.chunk.js.map